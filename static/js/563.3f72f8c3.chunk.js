/*! For license information please see 563.3f72f8c3.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksyllabus_client=self.webpackChunksyllabus_client||[]).push([[563],{6563(e,t,s){s.r(t),s.d(t,{default:()=>B});var a=s(2555),l=s(3986),i=s(5043),n=s(3216),r=s(4505),c=s(4459),o=s(7784);const d=(0,o.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);var x=s(6210),h=s(614);const m=(0,o.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=s(9493),u=s(3786),g=s(1884),v=s(6099),f=s(9869),w=s(7118),j=s(4918),b=s(2119),N=s(4919),y=s(6833),A=s(5087),k=s(5088),_=s(7170),z=s(2414),C=s(2626),S=s(3944),M=s(4537),G=s(7694),P=s(8729),R=s(579);const L=["_aiPrompt","_aiGenerating"],F=["size"],I=["size"],U=["size"],D="https://image.tmdb.org/t/p/w500";function B(){var e,t;const{userId:s}=(0,n.g)(),{user:o,signOut:N}=(0,P.A)(),y=(0,G.d)(),A=(0,n.Zp)(),[k,_]=(0,i.useState)(null),[z,C]=(0,i.useState)(!0),[S,M]=(0,i.useState)(!1),[F,I]=(0,i.useState)([]),[U,D]=(0,i.useState)([]),[B,T]=(0,i.useState)(!1),[V,Z]=(0,i.useState)([]),[Q,J]=(0,i.useState)([]),[K,Y]=(0,i.useState)(!1),[$,X]=(0,i.useState)({}),[ee,te]=(0,i.useState)(!1),[se,ae]=(0,i.useState)([]),[le,ie]=(0,i.useState)(null),[ne,re]=(0,i.useState)("overview"),ce=s||(null===o||void 0===o?void 0:o.id),oe=(0,i.useCallback)(async()=>{if(ce){C(!0);try{const e=!s||s===(null===o||void 0===o?void 0:o.id);M(e);const[t,a,l,i,n,c]=await Promise.all([e?(0,r.qx)():(0,r.E$)(ce),(0,r.SR)(ce),(0,r.mH)(ce),!e&&o?(0,r.lO)(ce):Promise.resolve(!1),e?(0,r.G9)():(0,r.Y8)(ce),e?(0,r.OA)(20):Promise.resolve([])]);_(t),I(a),D(l),T(i),J(n),Z(c),e&&(0,r.Jp)().then(e=>ae(e)).catch(()=>{})}catch(e){console.error("Failed to load profile:",e)}C(!1)}},[ce,s,o]);(0,i.useEffect)(()=>{oe()},[oe]);const de=(0,i.useMemo)(()=>{const e=Q.length,t=Q.filter(e=>"finished"===e.status).length,s=Q.filter(e=>"watching"===e.status).length,a=Q.filter(e=>"want"===e.status).length,l=Q.filter(e=>"movie"===e.media_type).length,i=Q.filter(e=>"tv"===e.media_type).length,n=Q.filter(e=>"book"===e.media_type).length,r=Q.filter(e=>e.user_rating),c=r.length?(r.reduce((e,t)=>e+t.user_rating,0)/r.length).toFixed(1):null,o={};Q.forEach(e=>{e.genres&&e.genres.split(",").map(e=>e.trim()).filter(Boolean).forEach(e=>{o[e]=(o[e]||0)+1})});const d=Object.entries(o).sort((e,t)=>t[1]-e[1]).slice(0,5);return{total:e,finished:t,watching:s,want:a,movies:l,tv:i,books:n,avgRating:c,rated:r.length,topGenres:d}},[Q]),xe=async e=>{try{const t=await(0,r.UQ)(e);ie((0,a.A)((0,a.A)({},t),{},{friendId:e})),re("blend")}catch(t){y("Could not generate blend","error")}};return z?(0,R.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,R.jsx)("div",{className:"w-8 h-8 border-2 border-dark-500 border-t-accent rounded-full animate-spin"})}):k?(0,R.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,R.jsxs)("div",{className:"relative glass rounded-3xl p-6 sm:p-8 overflow-hidden",children:[(0,R.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 via-transparent to-purple-500/10 pointer-events-none"}),(0,R.jsxs)("div",{className:"relative flex flex-col sm:flex-row items-center gap-6",children:[(0,R.jsxs)("div",{className:"relative group",children:[(0,R.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden ring-4 ring-accent/30 bg-dark-700 flex items-center justify-center",children:k.avatar_url?(0,R.jsx)("img",{src:k.avatar_url,alt:"",className:"w-full h-full object-cover"}):(0,R.jsx)(c.A,{size:48,className:"text-white/20"})}),S&&(0,R.jsx)("button",{onClick:()=>{te(!ee),Y(!0),X((0,a.A)({},k))},className:"absolute bottom-0 right-0 bg-accent rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:(0,R.jsx)(d,{size:14})})]}),(0,R.jsx)("div",{className:"flex-1 text-center sm:text-left",children:K?(0,R.jsxs)("div",{className:"space-y-3",children:[(0,R.jsx)("input",{className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white text-lg font-bold w-full max-w-xs focus:outline-none focus:border-accent",placeholder:"Display name",value:$.display_name||"",onChange:e=>X(t=>(0,a.A)((0,a.A)({},t),{},{display_name:e.target.value})),maxLength:50}),(0,R.jsx)("textarea",{className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white/70 text-sm w-full max-w-md resize-none focus:outline-none focus:border-accent",placeholder:"Bio \u2014 tell people about your taste...",rows:2,value:$.bio||"",onChange:e=>X(t=>(0,a.A)((0,a.A)({},t),{},{bio:e.target.value})),maxLength:500}),(0,R.jsxs)("div",{className:"flex gap-2",children:[(0,R.jsxs)("button",{onClick:async()=>{try{const{_aiPrompt:t,_aiGenerating:s}=$,a=(0,l.A)($,L);if(a.avatar_url){const t=["api.dicebear.com","image.pollinations.ai"];try{const e=new URL(a.avatar_url);if(!t.includes(e.hostname))return void y("Avatar URL must be from DiceBear or Pollinations AI","error")}catch(e){return void y("Invalid avatar URL","error")}}a.display_name&&(a.display_name=a.display_name.slice(0,50)),a.bio&&(a.bio=a.bio.slice(0,500));const i=await(0,r.r7)(a);_(i),Y(!1),y("Profile updated!","success")}catch(t){y(t.message||"Failed to save","error")}},className:"bg-accent hover:bg-accent/80 text-white px-4 py-1.5 rounded-lg text-sm font-medium flex items-center gap-1.5 transition-colors",children:[(0,R.jsx)(x.A,{size:14})," Save"]}),(0,R.jsxs)("button",{onClick:()=>{Y(!1),te(!1)},className:"bg-white/10 hover:bg-white/20 text-white px-4 py-1.5 rounded-lg text-sm flex items-center gap-1.5 transition-colors",children:[(0,R.jsx)(h.A,{size:14})," Cancel"]})]})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h1",{className:"text-2xl sm:text-3xl font-black text-white",children:k.display_name||k.username}),k.display_name&&(0,R.jsxs)("p",{className:"text-sm text-white/40 mt-0.5",children:["@",k.username]}),k.bio&&(0,R.jsx)("p",{className:"text-sm text-white/50 mt-2 max-w-md",children:k.bio}),(0,R.jsxs)("div",{className:"flex items-center gap-4 mt-3 justify-center sm:justify-start text-sm",children:[(0,R.jsxs)("button",{onClick:()=>re("followers"),className:"text-white/50 hover:text-white transition-colors",children:[(0,R.jsx)("strong",{className:"text-white",children:F.length})," followers"]}),(0,R.jsxs)("button",{onClick:()=>re("following"),className:"text-white/50 hover:text-white transition-colors",children:[(0,R.jsx)("strong",{className:"text-white",children:U.length})," following"]}),(0,R.jsxs)("span",{className:"text-white/50",children:[(0,R.jsx)("strong",{className:"text-white",children:de.total})," in library"]})]})]})}),(0,R.jsx)("div",{className:"flex gap-2 flex-wrap",children:S?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("button",{onClick:()=>{Y(!0),X((0,a.A)({},k))},className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,R.jsx)(m,{size:16})," Edit Profile"]}),(0,R.jsxs)("button",{onClick:N,className:"bg-white/5 hover:bg-red-500/20 hover:text-red-400 text-white/40 px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,R.jsx)(p.A,{size:16})," Sign Out"]})]}):o?B?(0,R.jsxs)("button",{onClick:async()=>{try{await(0,r.Qt)(ce),T(!1),I(e=>e.filter(e=>e.id!==(null===o||void 0===o?void 0:o.id))),y("Unfollowed ".concat(null===k||void 0===k?void 0:k.username),"info")}catch(e){y("Could not unfollow","error")}},className:"bg-white/10 hover:bg-red-500/20 hover:text-red-400 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,R.jsx)(u.A,{size:16})," Unfollow"]}):(0,R.jsxs)("button",{onClick:async()=>{try{await(0,r.pV)(ce),T(!0),I(e=>[...e,{id:o.id}]),y("Following ".concat(null===k||void 0===k?void 0:k.username,"!"),"success")}catch(e){y("Could not follow","error")}},className:"bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,R.jsx)(g.A,{size:16})," Follow"]}):null})]}),ee&&(0,R.jsxs)("div",{className:"relative mt-6 pt-6 border-t border-white/10",children:[(0,R.jsx)("h3",{className:"text-sm font-semibold text-white/50 mb-4",children:"Choose an avatar"}),(0,R.jsxs)("div",{className:"mb-5 p-4 bg-gradient-to-r from-accent/10 to-purple-500/10 border border-accent/20 rounded-xl",children:[(0,R.jsxs)("p",{className:"text-xs text-white/50 mb-2 uppercase tracking-wider flex items-center gap-1.5",children:[(0,R.jsx)(v.A,{size:12,className:"text-accent"})," AI Avatar Generator"]}),(0,R.jsxs)("div",{className:"flex gap-2",children:[(0,R.jsx)("input",{className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white/70 text-xs focus:outline-none focus:border-accent",placeholder:"Describe your avatar... e.g. anime warrior with blue hair",value:$._aiPrompt||"",onChange:e=>X(t=>(0,a.A)((0,a.A)({},t),{},{_aiPrompt:e.target.value})),onKeyDown:e=>{var t;if("Enter"===e.key&&null!==(t=$._aiPrompt)&&void 0!==t&&t.trim()){const e=encodeURIComponent("profile avatar portrait, ".concat($._aiPrompt.trim(),", centered face, clean background, high quality, digital art")),t="https://image.pollinations.ai/prompt/".concat(e,"?width=256&height=256&nologo=true&seed=").concat(Date.now());X(e=>(0,a.A)((0,a.A)({},e),{},{avatar_url:t,_aiGenerating:!0}));const s=new Image;s.onload=()=>X(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!1})),s.onerror=()=>X(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!1})),s.src=t}}}),(0,R.jsx)("button",{onClick:()=>{var e;if(null===(e=$._aiPrompt)||void 0===e||!e.trim())return;const t=encodeURIComponent("profile avatar portrait, ".concat($._aiPrompt.trim(),", centered face, clean background, high quality, digital art")),s="https://image.pollinations.ai/prompt/".concat(t,"?width=256&height=256&nologo=true&seed=").concat(Date.now());X(e=>(0,a.A)((0,a.A)({},e),{},{avatar_url:s,_aiGenerating:!0}));const l=new Image;l.onload=()=>X(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!1})),l.onerror=()=>X(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!1})),l.src=s},disabled:!(null!==(e=$._aiPrompt)&&void 0!==e&&e.trim()),className:"bg-accent hover:bg-accent/80 disabled:opacity-30 text-white px-4 py-2 rounded-lg text-xs font-medium transition-colors",children:"Generate"})]}),$._aiGenerating&&(0,R.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-white/40",children:[(0,R.jsx)("div",{className:"w-3 h-3 border-2 border-white/20 border-t-accent rounded-full animate-spin"}),"Generating your avatar..."]}),(null===(t=$.avatar_url)||void 0===t?void 0:t.includes("pollinations.ai"))&&!$._aiGenerating&&(0,R.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,R.jsx)("img",{src:$.avatar_url,alt:"AI avatar",className:"w-16 h-16 rounded-full object-cover border-2 border-accent/40"}),(0,R.jsx)("button",{onClick:()=>{var e;const t=encodeURIComponent("profile avatar portrait, ".concat(null===(e=$._aiPrompt)||void 0===e?void 0:e.trim(),", centered face, clean background, high quality, digital art")),s="https://image.pollinations.ai/prompt/".concat(t,"?width=256&height=256&nologo=true&seed=").concat(Date.now());X(e=>(0,a.A)((0,a.A)({},e),{},{avatar_url:s,_aiGenerating:!0}));const l=new Image;l.onload=()=>X(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!1})),l.onerror=()=>X(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!1})),l.src=s},className:"text-xs text-accent hover:text-accent/80 transition-colors",children:"Regenerate"})]})]}),Object.entries(r.TA).map(e=>{let[t,s]=e;return(0,R.jsxs)("div",{className:"mb-4",children:[(0,R.jsx)("p",{className:"text-xs text-white/30 mb-2 uppercase tracking-wider",children:t}),(0,R.jsx)("div",{className:"flex gap-2 flex-wrap",children:s.map((e,t)=>(0,R.jsx)("button",{onClick:()=>X(t=>(0,a.A)((0,a.A)({},t),{},{avatar_url:e})),className:"w-14 h-14 rounded-full overflow-hidden ring-2 transition-all hover:scale-105 ".concat($.avatar_url===e?"ring-accent scale-110 shadow-lg shadow-accent/30":"ring-transparent hover:ring-white/30"),children:(0,R.jsx)("img",{src:e,alt:"",className:"w-full h-full"})},t))})]},t)}),(0,R.jsx)("div",{className:"mt-3",children:(0,R.jsx)("input",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-white/70 text-xs w-full max-w-sm focus:outline-none focus:border-accent",placeholder:"Or paste a custom avatar URL...",value:$.avatar_url||"",onChange:e=>X(t=>(0,a.A)((0,a.A)({},t),{},{avatar_url:e.target.value}))})})]})]}),(0,R.jsx)("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:[{key:"overview",label:"Overview",icon:O},{key:"library",label:"Library",icon:f.A},{key:"following",label:"Following",icon:w.A},{key:"followers",label:"Followers",icon:j.A},...S&&U.length>0?[{key:"blend",label:"Blends",icon:b.A}]:[]].map(e=>(0,R.jsxs)("button",{onClick:()=>re(e.key),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ".concat(ne===e.key?"bg-accent text-white":"bg-white/5 text-white/40 hover:bg-white/10 hover:text-white"),children:[(0,R.jsx)(e.icon,{size:16})," ",e.label]},e.key))}),"overview"===ne&&(0,R.jsx)(q,{stats:de,activity:V,isOwnProfile:S,discoverWeekly:se,navigate:A}),"library"===ne&&(0,R.jsx)(H,{library:Q,navigate:A}),"following"===ne&&(0,R.jsx)(E,{people:U,title:"Following",navigate:A,onBlend:S?xe:null}),"followers"===ne&&(0,R.jsx)(E,{people:F,title:"Followers",navigate:A}),"blend"===ne&&le&&(0,R.jsx)(W,{blend:le,following:U,onSelectFriend:xe,navigate:A})]}):(0,R.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[(0,R.jsx)(c.A,{size:48,className:"text-white/20"}),(0,R.jsx)("p",{className:"text-white/40",children:"Profile not found"}),!o&&(0,R.jsx)("button",{onClick:()=>A("/login"),className:"btn-accent px-6 py-2 rounded-xl text-sm",children:"Sign In"})]})}function O(e){let{size:t=16}=e,s=(0,l.A)(e,F);return(0,R.jsx)(N.A,(0,a.A)({size:t},s))}function T(e){let{icon:t,label:s,value:a,color:l="text-white"}=e;return(0,R.jsxs)("div",{className:"glass rounded-2xl p-4 flex flex-col items-center gap-1",children:[(0,R.jsx)(t,{size:18,className:l}),(0,R.jsx)("span",{className:"text-2xl font-black text-white",children:a}),(0,R.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-white/30",children:s})]})}function q(e){let{stats:t,activity:s,isOwnProfile:a,discoverWeekly:l,navigate:i}=e;return(0,R.jsxs)("div",{className:"space-y-6",children:[(0,R.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,R.jsx)(T,{icon:f.A,label:"Total",value:t.total,color:"text-accent"}),(0,R.jsx)(T,{icon:y.A,label:"Finished",value:t.finished,color:"text-green-400"}),(0,R.jsx)(T,{icon:A.A,label:"In Progress",value:t.watching,color:"text-blue-400"}),(0,R.jsx)(T,{icon:k.A,label:"Wishlist",value:t.want,color:"text-purple-400"})]}),(0,R.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,R.jsx)(T,{icon:_.A,label:"Movies",value:t.movies,color:"text-rose-400"}),(0,R.jsx)(T,{icon:z.A,label:"TV Shows",value:t.tv,color:"text-cyan-400"}),(0,R.jsx)(T,{icon:C.A,label:"Books",value:t.books,color:"text-amber-400"})]}),(0,R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,R.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2",children:[(0,R.jsx)(S.A,{size:14,className:"text-gold"})," Rating Stats"]}),t.avgRating?(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,R.jsx)("span",{className:"text-4xl font-black text-gold",children:t.avgRating}),(0,R.jsx)("span",{className:"text-white/30 text-sm",children:"/10 average"})]}),(0,R.jsxs)("p",{className:"text-xs text-white/30",children:[t.rated," items rated"]})]}):(0,R.jsx)("p",{className:"text-sm text-white/30",children:"Rate items to see stats"})]}),(0,R.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,R.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2",children:[(0,R.jsx)(N.A,{size:14,className:"text-accent"})," Top Genres"]}),t.topGenres.length>0?(0,R.jsx)("div",{className:"space-y-2",children:t.topGenres.map((e,s)=>{let[a,l]=e;return(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("span",{className:"text-xs font-bold text-white/20 w-4",children:s+1}),(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-0.5",children:[(0,R.jsx)("span",{className:"text-sm text-white/70",children:a}),(0,R.jsx)("span",{className:"text-xs text-white/30",children:l})]}),(0,R.jsx)("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:(0,R.jsx)("div",{className:"h-full bg-accent/60 rounded-full",style:{width:"".concat(l/t.topGenres[0][1]*100,"%")}})})]})]},a)})}):(0,R.jsx)("p",{className:"text-sm text-white/30",children:"Add items to see genres"})]})]}),s.length>0&&(0,R.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,R.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2",children:[(0,R.jsx)(M.A,{size:14,className:"text-accent"})," Recent Activity"]}),(0,R.jsx)("div",{className:"space-y-3",children:s.slice(0,10).map(e=>(0,R.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,R.jsxs)("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center shrink-0",children:["added"===e.action&&(0,R.jsx)(Z,{size:14,className:"text-green-400"}),"rated"===e.action&&(0,R.jsx)(S.A,{size:14,className:"text-gold"}),"reviewed"===e.action&&(0,R.jsx)(Q,{size:14,className:"text-blue-400"}),"followed"===e.action&&(0,R.jsx)(g.A,{size:14,className:"text-accent"}),"finished"===e.action&&(0,R.jsx)(y.A,{size:14,className:"text-green-400"}),!["added","rated","reviewed","followed","finished"].includes(e.action)&&(0,R.jsx)(M.A,{size:14,className:"text-white/30"})]}),(0,R.jsx)("div",{className:"flex-1 min-w-0",children:(0,R.jsx)("span",{className:"text-white/70",children:"followed"===e.action?"Followed ".concat(e.title):"rated"===e.action?'Rated "'.concat(e.title,'" ').concat(e.rating,"/10"):"finished"===e.action?'Finished "'.concat(e.title,'"'):"".concat(e.action.charAt(0).toUpperCase()+e.action.slice(1),' "').concat(e.title,'"')})}),(0,R.jsx)("span",{className:"text-xs text-white/20 shrink-0",children:V(e.created_at)})]},e.id))})]}),a&&l.length>0&&(0,R.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,R.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2",children:[(0,R.jsx)(v.A,{size:14,className:"text-purple-400"})," Discover Weekly"]}),(0,R.jsx)("p",{className:"text-xs text-white/30 mb-3",children:"Based on your library \u2014 updated weekly"}),(0,R.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:l.map(e=>(0,R.jsxs)("button",{onClick:()=>i("/details/".concat(e.media_type,"/").concat(e.id)),className:"shrink-0 w-32 group",children:[(0,R.jsx)("div",{className:"aspect-[2/3] rounded-xl overflow-hidden mb-2 ring-1 ring-white/10 group-hover:ring-accent/50 transition-all",children:e.poster_path?(0,R.jsx)("img",{src:"".concat(D).concat(e.poster_path),alt:"",className:"w-full h-full object-cover"}):(0,R.jsx)("div",{className:"w-full h-full bg-dark-700 flex items-center justify-center",children:(0,R.jsx)(_.A,{size:24,className:"text-white/10"})})}),(0,R.jsx)("p",{className:"text-xs text-white/70 truncate group-hover:text-accent transition-colors",children:e.title||e.name})]},e.id))})]})]})}function H(e){let{library:t,navigate:s}=e;const[a,l]=(0,i.useState)("all"),n=(0,i.useMemo)(()=>"all"===a?t:t.filter(e=>e.media_type===a),[t,a]);return(0,R.jsxs)("div",{className:"space-y-4",children:[(0,R.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:["all","movie","tv","book"].map(e=>(0,R.jsx)("button",{onClick:()=>l(e),className:"px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-all ".concat(a===e?"bg-accent text-white":"bg-white/5 text-white/40 hover:bg-white/10"),children:"all"===e?"All":"movie"===e?"Movies":"tv"===e?"TV Shows":"Books"},e))}),0===n.length?(0,R.jsxs)("div",{className:"glass rounded-2xl p-8 text-center",children:[(0,R.jsx)(f.A,{size:32,className:"mx-auto mb-2 text-white/10"}),(0,R.jsx)("p",{className:"text-white/30 text-sm",children:"No items yet"})]}):(0,R.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:n.map(e=>(0,R.jsxs)("button",{onClick:()=>{const t=e.media_type||"movie",a=e.tmdb_id||e.openlibrary_key;a&&s("/details/".concat(t,"/").concat(a))},className:"group text-left",children:[(0,R.jsxs)("div",{className:"aspect-[2/3] rounded-xl overflow-hidden ring-1 ring-white/10 group-hover:ring-accent/50 transition-all mb-2 relative",children:[e.poster_url?(0,R.jsx)("img",{src:e.poster_url,alt:"",className:"w-full h-full object-cover"}):(0,R.jsx)("div",{className:"w-full h-full bg-dark-700 flex items-center justify-center",children:(0,R.jsx)(_.A,{size:20,className:"text-white/10"})}),e.user_rating&&(0,R.jsxs)("div",{className:"absolute top-1 right-1 bg-black/70 backdrop-blur-sm rounded-md px-1.5 py-0.5 flex items-center gap-0.5",children:[(0,R.jsx)(S.A,{size:10,className:"text-gold fill-gold"}),(0,R.jsx)("span",{className:"text-[10px] font-bold text-gold",children:e.user_rating})]}),(0,R.jsx)("div",{className:"absolute bottom-1 left-1",children:(0,R.jsx)("span",{className:"text-[8px] uppercase font-bold px-1.5 py-0.5 rounded-md ".concat("finished"===e.status?"bg-green-500/80":"watching"===e.status?"bg-blue-500/80":"bg-purple-500/80"," text-white"),children:"finished"===e.status?"Done":"watching"===e.status?"Active":"Want"})})]}),(0,R.jsx)("p",{className:"text-xs text-white/60 truncate group-hover:text-accent transition-colors",children:e.title})]},e.id))})]})}function E(e){let{people:t,title:s,navigate:a,onBlend:l}=e;return 0===t.length?(0,R.jsxs)("div",{className:"glass rounded-2xl p-8 text-center",children:[(0,R.jsx)(w.A,{size:32,className:"mx-auto mb-2 text-white/10"}),(0,R.jsxs)("p",{className:"text-white/30 text-sm",children:["No ",s.toLowerCase()," yet"]})]}):(0,R.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,R.jsxs)("div",{className:"glass rounded-2xl p-4 flex items-center gap-4 hover:bg-white/5 transition-colors",children:[(0,R.jsxs)("button",{onClick:()=>a("/profile/".concat(e.id)),className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,R.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-dark-700 ring-2 ring-white/10 shrink-0 flex items-center justify-center",children:e.avatar_url?(0,R.jsx)("img",{src:e.avatar_url,alt:"",className:"w-full h-full object-cover"}):(0,R.jsx)(c.A,{size:20,className:"text-white/20"})}),(0,R.jsxs)("div",{className:"min-w-0",children:[(0,R.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:e.display_name||e.username}),e.display_name&&(0,R.jsxs)("p",{className:"text-xs text-white/30 truncate",children:["@",e.username]})]})]}),l&&(0,R.jsxs)("button",{onClick:()=>l(e.id),className:"bg-gradient-to-r from-purple-500/20 to-accent/20 hover:from-purple-500/30 hover:to-accent/30 text-white px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-1.5 transition-all shrink-0",children:[(0,R.jsx)(b.A,{size:12})," Blend"]})]},e.id))})}function W(e){let{blend:t,following:s,onSelectFriend:a,navigate:l}=e;const i=s.find(e=>e.id===t.friendId);return(0,R.jsxs)("div",{className:"space-y-6",children:[(0,R.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-1",children:s.map(e=>(0,R.jsxs)("button",{onClick:()=>a(e.id),className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm whitespace-nowrap transition-all ".concat(e.id===t.friendId?"bg-accent text-white":"bg-white/5 text-white/40 hover:bg-white/10"),children:[(0,R.jsx)("div",{className:"w-5 h-5 rounded-full overflow-hidden bg-dark-700",children:e.avatar_url?(0,R.jsx)("img",{src:e.avatar_url,alt:"",className:"w-full h-full object-cover"}):(0,R.jsx)(c.A,{size:12,className:"text-white/20 m-auto"})}),e.display_name||e.username]},e.id))}),(0,R.jsxs)("div",{className:"glass rounded-3xl p-6 text-center bg-gradient-to-br from-purple-500/10 via-transparent to-accent/10",children:[(0,R.jsxs)("div",{className:"text-6xl font-black bg-gradient-to-r from-purple-400 to-accent bg-clip-text text-transparent mb-2",children:[t.compatibility,"%"]}),(0,R.jsxs)("p",{className:"text-white/50 text-sm",children:["Taste match with ",(null===i||void 0===i?void 0:i.display_name)||(null===i||void 0===i?void 0:i.username)]}),(0,R.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-4 text-xs text-white/30",children:[(0,R.jsxs)("span",{children:[t.shared.length," shared titles"]}),(0,R.jsxs)("span",{children:[t.myCount," in your library"]}),(0,R.jsxs)("span",{children:[t.friendCount," in theirs"]})]})]}),t.sharedGenres.length>0&&(0,R.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,R.jsx)("h3",{className:"text-sm font-semibold text-white/40 mb-3",children:"Shared Genres"}),(0,R.jsx)("div",{className:"flex flex-wrap gap-2",children:t.sharedGenres.map(e=>(0,R.jsxs)("span",{className:"bg-accent/10 text-accent px-3 py-1 rounded-full text-sm",children:[e.genre," (",e.overlap,")"]},e.genre))})]}),t.blendRecs.length>0&&(0,R.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,R.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2",children:[(0,R.jsx)(v.A,{size:14,className:"text-purple-400"})," Watch Together"]}),(0,R.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:t.blendRecs.map(e=>(0,R.jsxs)("button",{onClick:()=>l("/details/".concat(e.media_type||"movie","/").concat(e.id)),className:"shrink-0 w-28 group",children:[(0,R.jsx)("div",{className:"aspect-[2/3] rounded-xl overflow-hidden ring-1 ring-white/10 group-hover:ring-accent/50 transition-all mb-1",children:e.poster_path?(0,R.jsx)("img",{src:"".concat(D).concat(e.poster_path),alt:"",className:"w-full h-full object-cover"}):(0,R.jsx)("div",{className:"w-full h-full bg-dark-700 flex items-center justify-center",children:(0,R.jsx)(_.A,{size:20,className:"text-white/10"})})}),(0,R.jsx)("p",{className:"text-[11px] text-white/60 truncate group-hover:text-accent transition-colors",children:e.title||e.name})]},e.id))})]}),t.shared.length>0&&(0,R.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,R.jsx)("h3",{className:"text-sm font-semibold text-white/40 mb-4",children:"Shared Titles"}),(0,R.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:t.shared.slice(0,12).map(e=>(0,R.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.poster_url&&(0,R.jsx)("img",{src:e.poster_url,alt:"",className:"w-10 h-14 rounded-lg object-cover shrink-0"}),(0,R.jsxs)("div",{className:"min-w-0",children:[(0,R.jsx)("p",{className:"text-sm text-white/70 truncate",children:e.title}),(0,R.jsx)("p",{className:"text-[10px] text-white/30 capitalize",children:e.media_type})]})]},e.id))})]})]})}function V(e){const t=new Date(e),s=(new Date-t)/1e3;return s<60?"just now":s<3600?"".concat(Math.floor(s/60),"m"):s<86400?"".concat(Math.floor(s/3600),"h"):s<604800?"".concat(Math.floor(s/86400),"d"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Z(e){let{size:t=16}=e,s=(0,l.A)(e,I);return(0,R.jsx)("span",(0,a.A)((0,a.A)({style:{fontSize:t}},s),{},{children:"+"}))}function Q(e){let{size:t=16}=e,s=(0,l.A)(e,U);return(0,R.jsx)("svg",(0,a.A)((0,a.A)({width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),{},{children:(0,R.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}))}},4537(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},6210(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5088(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5087(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4918(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2119(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]])},6099(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},4919(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},3786(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},1884(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])}}]);
//# sourceMappingURL=563.3f72f8c3.chunk.js.map