/*! For license information please see 999.dc7e3a5c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksyllabus_client=self.webpackChunksyllabus_client||[]).push([[999],{5999(e,t,s){s.r(t),s.d(t,{default:()=>B});var a=s(2555),l=s(3986),i=s(5043),r=s(3216),n=s(4505),c=s(4459),o=s(1212);const d=(0,o.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var x=s(6210),h=s(614);const m=(0,o.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,o.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var u=s(3786),g=s(1884),v=s(6099),f=s(9869),w=s(7118),j=s(4918),b=s(2119),y=s(4919),N=s(6833),k=s(5087),A=s(5088),_=s(7170),z=s(2414),M=s(2626),C=s(3944),S=s(4537),G=s(7694),F=s(8729),L=s(579);const P=["_aiPrompt","_aiGenerating","_aiError"],R=["size"],E=["size"],I=["size"],H="https://image.tmdb.org/t/p/w500";function B(){const{userId:e}=(0,r.g)(),{user:t,signOut:s}=(0,F.A)(),o=(0,G.d)(),y=(0,r.Zp)(),[N,k]=(0,i.useState)(null),[A,_]=(0,i.useState)(!0),[z,M]=(0,i.useState)(!1),[C,S]=(0,i.useState)([]),[R,E]=(0,i.useState)([]),[I,H]=(0,i.useState)(!1),[B,O]=(0,i.useState)([]),[V,Q]=(0,i.useState)([]),[J,K]=(0,i.useState)(!1),[Y,Z]=(0,i.useState)({}),[$,X]=(0,i.useState)(!1),[ee,te]=(0,i.useState)([]),[se,ae]=(0,i.useState)(null),[le,ie]=(0,i.useState)("overview"),re=e||(null===t||void 0===t?void 0:t.id),ne=(0,i.useCallback)(async()=>{if(re){_(!0);try{const s=!e||e===(null===t||void 0===t?void 0:t.id);M(s);const[a,l,i,r,c,o]=await Promise.all([s?(0,n.qx)():(0,n.E$)(re),(0,n.SR)(re),(0,n.mH)(re),!s&&t?(0,n.lO)(re):Promise.resolve(!1),s?(0,n.G9)():(0,n.Y8)(re),s?(0,n.OA)(20):Promise.resolve([])]);k(a),S(l),E(i),H(r),Q(c),O(o),s&&(0,n.Jp)().then(e=>te(e)).catch(()=>{})}catch(s){console.error("Failed to load profile:",s)}_(!1)}},[re,e,t]);(0,i.useEffect)(()=>{ne()},[ne]);const ce=(0,i.useMemo)(()=>{const e=V.length,t=V.filter(e=>"finished"===e.status).length,s=V.filter(e=>"watching"===e.status).length,a=V.filter(e=>"want"===e.status).length,l=V.filter(e=>"movie"===e.media_type).length,i=V.filter(e=>"tv"===e.media_type).length,r=V.filter(e=>"book"===e.media_type).length,n=V.filter(e=>e.user_rating),c=n.length?(n.reduce((e,t)=>e+t.user_rating,0)/n.length).toFixed(1):null,o={};V.forEach(e=>{e.genres&&e.genres.split(",").map(e=>e.trim()).filter(Boolean).forEach(e=>{o[e]=(o[e]||0)+1})});const d=Object.entries(o).sort((e,t)=>t[1]-e[1]).slice(0,5);return{total:e,finished:t,watching:s,want:a,movies:l,tv:i,books:r,avgRating:c,rated:n.length,topGenres:d}},[V]),oe=async e=>{try{const t=await(0,n.UQ)(e);ae((0,a.A)((0,a.A)({},t),{},{friendId:e})),ie("blend")}catch(t){o("Could not generate blend","error")}};return A?(0,L.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,L.jsx)("div",{className:"w-8 h-8 border-2 border-dark-500 border-t-accent rounded-full animate-spin"})}):N?(0,L.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,L.jsxs)("div",{className:"relative glass rounded-3xl p-6 sm:p-8 overflow-hidden",children:[(0,L.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 via-transparent to-purple-500/10 pointer-events-none"}),(0,L.jsxs)("div",{className:"relative flex flex-col sm:flex-row items-center gap-6",children:[(0,L.jsxs)("div",{className:"relative group",children:[(0,L.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden ring-4 ring-accent/30 bg-dark-700 flex items-center justify-center",children:N.avatar_url?(0,L.jsx)("img",{src:N.avatar_url,alt:"",className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.style.display="none",e.target.parentElement.innerHTML='<span style="font-size:2rem;color:rgba(255,255,255,0.2)">\ud83d\udc64</span>'}}):(0,L.jsx)(c.A,{size:48,className:"text-white/20"})}),z&&(0,L.jsx)("button",{onClick:()=>{X(!$),K(!0),Z((0,a.A)({},N))},className:"absolute bottom-0 right-0 bg-accent rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:(0,L.jsx)(d,{size:14})})]}),(0,L.jsx)("div",{className:"flex-1 text-center sm:text-left",children:J?(0,L.jsxs)("div",{className:"space-y-3",children:[(0,L.jsx)("input",{className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white text-lg font-bold w-full max-w-xs focus:outline-none focus:border-accent",placeholder:"Display name",value:Y.display_name||"",onChange:e=>Z(t=>(0,a.A)((0,a.A)({},t),{},{display_name:e.target.value})),maxLength:50}),(0,L.jsx)("textarea",{className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white/70 text-sm w-full max-w-md resize-none focus:outline-none focus:border-accent",placeholder:"Bio \u2014 tell people about your taste...",rows:2,value:Y.bio||"",onChange:e=>Z(t=>(0,a.A)((0,a.A)({},t),{},{bio:e.target.value})),maxLength:500}),(0,L.jsxs)("div",{className:"flex gap-2",children:[(0,L.jsxs)("button",{onClick:async()=>{try{const{_aiPrompt:t,_aiGenerating:s,_aiError:a}=Y,i=(0,l.A)(Y,P);if(i.avatar_url)if(i.avatar_url.startsWith("data:image/"));else{const t=["api.dicebear.com","image.pollinations.ai"];try{const e=new URL(i.avatar_url);if(!t.includes(e.hostname))return void o("Avatar URL must be from DiceBear or AI generator","error")}catch(e){return void o("Invalid avatar URL","error")}}i.display_name&&(i.display_name=i.display_name.slice(0,50)),i.bio&&(i.bio=i.bio.slice(0,500));const r=await(0,n.r7)(i);k(r),K(!1),o("Profile updated!","success")}catch(t){o(t.message||"Failed to save","error")}},className:"bg-accent hover:bg-accent/80 text-white px-4 py-1.5 rounded-lg text-sm font-medium flex items-center gap-1.5 transition-colors",children:[(0,L.jsx)(x.A,{size:14})," Save"]}),(0,L.jsxs)("button",{onClick:()=>{K(!1),X(!1)},className:"bg-white/10 hover:bg-white/20 text-white px-4 py-1.5 rounded-lg text-sm flex items-center gap-1.5 transition-colors",children:[(0,L.jsx)(h.A,{size:14})," Cancel"]})]})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h1",{className:"text-2xl sm:text-3xl font-black text-white",children:N.display_name||N.username}),N.display_name&&(0,L.jsxs)("p",{className:"text-sm text-white/40 mt-0.5",children:["@",N.username]}),N.bio&&(0,L.jsx)("p",{className:"text-sm text-white/50 mt-2 max-w-md",children:N.bio}),(0,L.jsxs)("div",{className:"flex items-center gap-4 mt-3 justify-center sm:justify-start text-sm",children:[(0,L.jsxs)("button",{onClick:()=>ie("followers"),className:"text-white/50 hover:text-white transition-colors",children:[(0,L.jsx)("strong",{className:"text-white",children:C.length})," followers"]}),(0,L.jsxs)("button",{onClick:()=>ie("following"),className:"text-white/50 hover:text-white transition-colors",children:[(0,L.jsx)("strong",{className:"text-white",children:R.length})," following"]}),(0,L.jsxs)("span",{className:"text-white/50",children:[(0,L.jsx)("strong",{className:"text-white",children:ce.total})," in library"]})]})]})}),(0,L.jsx)("div",{className:"flex gap-2 flex-wrap",children:z?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("button",{onClick:()=>{K(!0),Z((0,a.A)({},N))},className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,L.jsx)(m,{size:16})," Edit Profile"]}),(0,L.jsxs)("button",{onClick:s,className:"bg-white/5 hover:bg-red-500/20 hover:text-red-400 text-white/40 px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,L.jsx)(p,{size:16})," Sign Out"]})]}):t?I?(0,L.jsxs)("button",{onClick:async()=>{try{await(0,n.Qt)(re),H(!1),S(e=>e.filter(e=>e.id!==(null===t||void 0===t?void 0:t.id))),o("Unfollowed ".concat(null===N||void 0===N?void 0:N.username),"info")}catch(e){o("Could not unfollow","error")}},className:"bg-white/10 hover:bg-red-500/20 hover:text-red-400 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,L.jsx)(u.A,{size:16})," Unfollow"]}):(0,L.jsxs)("button",{onClick:async()=>{try{await(0,n.pV)(re),H(!0),S(e=>[...e,{id:t.id}]),o("Following ".concat(null===N||void 0===N?void 0:N.username,"!"),"success")}catch(e){o("Could not follow","error")}},className:"bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,L.jsx)(g.A,{size:16})," Follow"]}):null})]}),$&&(0,L.jsxs)("div",{className:"relative mt-6 pt-6 border-t border-white/10",children:[(0,L.jsx)("h3",{className:"text-sm font-semibold text-white/50 mb-4",children:"Choose an avatar"}),(0,L.jsxs)("div",{className:"mb-5 p-4 bg-gradient-to-r from-accent/10 to-purple-500/10 border border-accent/20 rounded-xl",children:[(0,L.jsxs)("p",{className:"text-xs text-white/50 mb-2 uppercase tracking-wider flex items-center gap-1.5",children:[(0,L.jsx)(v.A,{size:14,className:"text-accent"})," AI Avatar Generator"]}),((e,t)=>{const s=e=>{if(null===e||void 0===e||!e.trim())return;Z(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!0,_aiError:!1}));const t=encodeURIComponent("profile avatar portrait, ".concat(e.trim(),", centered face, clean background, high quality, digital art")),s="https://image.pollinations.ai/prompt/".concat(t,"?width=256&height=256&nologo=true&seed=").concat(Date.now()),l=new Image;l.crossOrigin="anonymous",l.onload=()=>{try{const e=document.createElement("canvas");e.width=l.naturalWidth,e.height=l.naturalHeight,e.getContext("2d").drawImage(l,0,0);const t=e.toDataURL("image/jpeg",.9);Z(e=>(0,a.A)((0,a.A)({},e),{},{avatar_url:t,_aiGenerating:!1}))}catch(e){Z(e=>(0,a.A)((0,a.A)({},e),{},{avatar_url:s,_aiGenerating:!1}))}},l.onerror=()=>Z(e=>(0,a.A)((0,a.A)({},e),{},{_aiGenerating:!1,_aiError:!0})),l.src=s};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"flex gap-2",children:[(0,L.jsx)("input",{className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white/70 text-xs focus:outline-none focus:border-accent",placeholder:"Describe your avatar... e.g. anime warrior with blue hair",value:Y._aiPrompt||"",onChange:e=>Z(t=>(0,a.A)((0,a.A)({},t),{},{_aiPrompt:e.target.value,_aiError:!1})),onKeyDown:e=>{"Enter"===e.key&&s(Y._aiPrompt)}}),(0,L.jsx)("button",{onClick:()=>s(Y._aiPrompt),disabled:!(null!==(e=Y._aiPrompt)&&void 0!==e&&e.trim())||Y._aiGenerating,className:"bg-accent hover:bg-accent/80 disabled:opacity-30 text-white px-4 py-2 rounded-lg text-xs font-medium transition-colors",children:"Generate"})]}),Y._aiGenerating&&(0,L.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-white/40",children:[(0,L.jsx)("div",{className:"w-3 h-3 border-2 border-white/20 border-t-accent rounded-full animate-spin"}),"Generating your avatar (may take a few seconds)..."]}),Y._aiError&&(0,L.jsx)("p",{className:"mt-2 text-xs text-red-400",children:"Failed to generate. Try again or use a different prompt."}),(null===(t=Y.avatar_url)||void 0===t?void 0:t.startsWith("data:"))&&!Y._aiGenerating&&(0,L.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,L.jsx)("img",{src:Y.avatar_url,alt:"AI avatar",className:"w-16 h-16 rounded-full object-cover border-2 border-accent/40"}),(0,L.jsx)("button",{onClick:()=>s(Y._aiPrompt),className:"text-xs text-accent hover:text-accent/80 transition-colors",children:"Regenerate"})]})]})})()]}),Object.entries(n.TA).map(e=>{let[t,s]=e;return(0,L.jsxs)("div",{className:"mb-4",children:[(0,L.jsx)("p",{className:"text-xs text-white/30 mb-2 uppercase tracking-wider",children:t}),(0,L.jsx)("div",{className:"flex gap-2 flex-wrap",children:s.map((e,t)=>(0,L.jsx)("button",{onClick:()=>Z(t=>(0,a.A)((0,a.A)({},t),{},{avatar_url:e})),className:"w-14 h-14 rounded-full overflow-hidden ring-2 transition-all hover:scale-105 ".concat(Y.avatar_url===e?"ring-accent scale-110 shadow-lg shadow-accent/30":"ring-transparent hover:ring-white/30"),children:(0,L.jsx)("img",{src:e,alt:"",className:"w-full h-full"})},t))})]},t)}),(0,L.jsx)("div",{className:"mt-3",children:(0,L.jsx)("input",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-white/70 text-xs w-full max-w-sm focus:outline-none focus:border-accent",placeholder:"Or paste a custom avatar URL...",value:Y.avatar_url||"",onChange:e=>Z(t=>(0,a.A)((0,a.A)({},t),{},{avatar_url:e.target.value}))})})]})]}),(0,L.jsx)("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:[{key:"overview",label:"Overview",icon:D},{key:"library",label:"Library",icon:f.A},{key:"following",label:"Following",icon:w.A},{key:"followers",label:"Followers",icon:j.A},...z&&R.length>0?[{key:"blend",label:"Blends",icon:b.A}]:[]].map(e=>(0,L.jsxs)("button",{onClick:()=>ie(e.key),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ".concat(le===e.key?"bg-accent text-white":"bg-white/5 text-white/40 hover:bg-white/10 hover:text-white"),children:[(0,L.jsx)(e.icon,{size:16})," ",e.label]},e.key))}),"overview"===le&&(0,L.jsx)(U,{stats:ce,activity:B,isOwnProfile:z,discoverWeekly:ee,navigate:y}),"library"===le&&(0,L.jsx)(T,{library:V,navigate:y}),"following"===le&&(0,L.jsx)(W,{people:R,title:"Following",navigate:y,onBlend:z?oe:null}),"followers"===le&&(0,L.jsx)(W,{people:C,title:"Followers",navigate:y}),"blend"===le&&se&&(0,L.jsx)(q,{blend:se,following:R,onSelectFriend:oe,navigate:y})]}):(0,L.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[(0,L.jsx)(c.A,{size:48,className:"text-white/20"}),(0,L.jsx)("p",{className:"text-white/40",children:"Profile not found"}),!t&&(0,L.jsx)("button",{onClick:()=>y("/login"),className:"btn-accent px-6 py-2 rounded-xl text-sm",children:"Sign In"})]})}function D(e){let{size:t=16}=e,s=(0,l.A)(e,R);return(0,L.jsx)(y.A,(0,a.A)({size:t},s))}function O(e){let{icon:t,label:s,value:a,color:l="text-white"}=e;return(0,L.jsxs)("div",{className:"glass rounded-2xl p-4 flex flex-col items-center gap-1",children:[(0,L.jsx)(t,{size:18,className:l}),(0,L.jsx)("span",{className:"text-2xl font-black text-white",children:a}),(0,L.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-white/30",children:s})]})}function U(e){let{stats:t,activity:s,isOwnProfile:a,discoverWeekly:l,navigate:i}=e;return(0,L.jsxs)("div",{className:"space-y-6",children:[(0,L.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,L.jsx)(O,{icon:f.A,label:"Total",value:t.total,color:"text-accent"}),(0,L.jsx)(O,{icon:N.A,label:"Finished",value:t.finished,color:"text-green-400"}),(0,L.jsx)(O,{icon:k.A,label:"In Progress",value:t.watching,color:"text-blue-400"}),(0,L.jsx)(O,{icon:A.A,label:"Wishlist",value:t.want,color:"text-purple-400"})]}),(0,L.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,L.jsx)(O,{icon:_.A,label:"Movies",value:t.movies,color:"text-rose-400"}),(0,L.jsx)(O,{icon:z.A,label:"TV Shows",value:t.tv,color:"text-cyan-400"}),(0,L.jsx)(O,{icon:M.A,label:"Books",value:t.books,color:"text-amber-400"})]}),(0,L.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,L.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,L.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2",children:[(0,L.jsx)(C.A,{size:14,className:"text-gold"})," Rating Stats"]}),t.avgRating?(0,L.jsxs)("div",{children:[(0,L.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,L.jsx)("span",{className:"text-4xl font-black text-gold",children:t.avgRating}),(0,L.jsx)("span",{className:"text-white/30 text-sm",children:"/10 average"})]}),(0,L.jsxs)("p",{className:"text-xs text-white/30",children:[t.rated," items rated"]})]}):(0,L.jsx)("p",{className:"text-sm text-white/30",children:"Rate items to see stats"})]}),(0,L.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,L.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2",children:[(0,L.jsx)(y.A,{size:14,className:"text-accent"})," Top Genres"]}),t.topGenres.length>0?(0,L.jsx)("div",{className:"space-y-2",children:t.topGenres.map((e,s)=>{let[a,l]=e;return(0,L.jsxs)("div",{className:"flex items-center gap-2",children:[(0,L.jsx)("span",{className:"text-xs font-bold text-white/20 w-4",children:s+1}),(0,L.jsxs)("div",{className:"flex-1",children:[(0,L.jsxs)("div",{className:"flex items-center justify-between mb-0.5",children:[(0,L.jsx)("span",{className:"text-sm text-white/70",children:a}),(0,L.jsx)("span",{className:"text-xs text-white/30",children:l})]}),(0,L.jsx)("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:(0,L.jsx)("div",{className:"h-full bg-accent/60 rounded-full",style:{width:"".concat(l/t.topGenres[0][1]*100,"%")}})})]})]},a)})}):(0,L.jsx)("p",{className:"text-sm text-white/30",children:"Add items to see genres"})]})]}),s.length>0&&(0,L.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,L.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2",children:[(0,L.jsx)(S.A,{size:14,className:"text-accent"})," Recent Activity"]}),(0,L.jsx)("div",{className:"space-y-3",children:s.slice(0,10).map(e=>(0,L.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,L.jsxs)("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center shrink-0",children:["added"===e.action&&(0,L.jsx)(Q,{size:14,className:"text-green-400"}),"rated"===e.action&&(0,L.jsx)(C.A,{size:14,className:"text-gold"}),"reviewed"===e.action&&(0,L.jsx)(J,{size:14,className:"text-blue-400"}),"followed"===e.action&&(0,L.jsx)(g.A,{size:14,className:"text-accent"}),"finished"===e.action&&(0,L.jsx)(N.A,{size:14,className:"text-green-400"}),!["added","rated","reviewed","followed","finished"].includes(e.action)&&(0,L.jsx)(S.A,{size:14,className:"text-white/30"})]}),(0,L.jsx)("div",{className:"flex-1 min-w-0",children:(0,L.jsx)("span",{className:"text-white/70",children:"followed"===e.action?"Followed ".concat(e.title):"rated"===e.action?'Rated "'.concat(e.title,'" ').concat(e.rating,"/10"):"finished"===e.action?'Finished "'.concat(e.title,'"'):"".concat(e.action.charAt(0).toUpperCase()+e.action.slice(1),' "').concat(e.title,'"')})}),(0,L.jsx)("span",{className:"text-xs text-white/20 shrink-0",children:V(e.created_at)})]},e.id))})]}),a&&l.length>0&&(0,L.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,L.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2",children:[(0,L.jsx)(v.A,{size:14,className:"text-purple-400"})," Discover Weekly"]}),(0,L.jsx)("p",{className:"text-xs text-white/30 mb-3",children:"Based on your library \u2014 updated weekly"}),(0,L.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:l.map(e=>(0,L.jsxs)("button",{onClick:()=>i("/details/".concat(e.media_type,"/").concat(e.id)),className:"shrink-0 w-32 group",children:[(0,L.jsx)("div",{className:"aspect-[2/3] rounded-xl overflow-hidden mb-2 ring-1 ring-white/10 group-hover:ring-accent/50 transition-all",children:e.poster_path?(0,L.jsx)("img",{src:"".concat(H).concat(e.poster_path),alt:"",className:"w-full h-full object-cover"}):(0,L.jsx)("div",{className:"w-full h-full bg-dark-700 flex items-center justify-center",children:(0,L.jsx)(_.A,{size:24,className:"text-white/10"})})}),(0,L.jsx)("p",{className:"text-xs text-white/70 truncate group-hover:text-accent transition-colors",children:e.title||e.name})]},e.id))})]})]})}function T(e){let{library:t,navigate:s}=e;const[a,l]=(0,i.useState)("all"),r=(0,i.useMemo)(()=>"all"===a?t:t.filter(e=>e.media_type===a),[t,a]);return(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:["all","movie","tv","book"].map(e=>(0,L.jsx)("button",{onClick:()=>l(e),className:"px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-all ".concat(a===e?"bg-accent text-white":"bg-white/5 text-white/40 hover:bg-white/10"),children:"all"===e?"All":"movie"===e?"Movies":"tv"===e?"TV Shows":"Books"},e))}),0===r.length?(0,L.jsxs)("div",{className:"glass rounded-2xl p-8 text-center",children:[(0,L.jsx)(f.A,{size:32,className:"mx-auto mb-2 text-white/10"}),(0,L.jsx)("p",{className:"text-white/30 text-sm",children:"No items yet"})]}):(0,L.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:r.map(e=>(0,L.jsxs)("button",{onClick:()=>{const t=e.media_type||"movie",a=e.tmdb_id||e.openlibrary_key;a&&s("/details/".concat(t,"/").concat(a))},className:"group text-left",children:[(0,L.jsxs)("div",{className:"aspect-[2/3] rounded-xl overflow-hidden ring-1 ring-white/10 group-hover:ring-accent/50 transition-all mb-2 relative",children:[e.poster_url?(0,L.jsx)("img",{src:e.poster_url,alt:"",className:"w-full h-full object-cover"}):(0,L.jsx)("div",{className:"w-full h-full bg-dark-700 flex items-center justify-center",children:(0,L.jsx)(_.A,{size:20,className:"text-white/10"})}),e.user_rating&&(0,L.jsxs)("div",{className:"absolute top-1 right-1 bg-black/70 backdrop-blur-sm rounded-md px-1.5 py-0.5 flex items-center gap-0.5",children:[(0,L.jsx)(C.A,{size:12,className:"text-gold fill-gold"}),(0,L.jsx)("span",{className:"text-[10px] font-bold text-gold",children:e.user_rating})]}),(0,L.jsx)("div",{className:"absolute bottom-1 left-1",children:(0,L.jsx)("span",{className:"text-[8px] uppercase font-bold px-1.5 py-0.5 rounded-md ".concat("finished"===e.status?"bg-green-500/80":"watching"===e.status?"bg-blue-500/80":"bg-purple-500/80"," text-white"),children:"finished"===e.status?"Done":"watching"===e.status?"Active":"Want"})})]}),(0,L.jsx)("p",{className:"text-xs text-white/60 truncate group-hover:text-accent transition-colors",children:e.title})]},e.id))})]})}function W(e){let{people:t,title:s,navigate:a,onBlend:l}=e;return 0===t.length?(0,L.jsxs)("div",{className:"glass rounded-2xl p-8 text-center",children:[(0,L.jsx)(w.A,{size:32,className:"mx-auto mb-2 text-white/10"}),(0,L.jsxs)("p",{className:"text-white/30 text-sm",children:["No ",s.toLowerCase()," yet"]})]}):(0,L.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,L.jsxs)("div",{className:"glass rounded-2xl p-4 flex items-center gap-4 hover:bg-white/5 transition-colors",children:[(0,L.jsxs)("button",{onClick:()=>a("/profile/".concat(e.id)),className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,L.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-dark-700 ring-2 ring-white/10 shrink-0 flex items-center justify-center",children:e.avatar_url?(0,L.jsx)("img",{src:e.avatar_url,alt:"",className:"w-full h-full object-cover"}):(0,L.jsx)(c.A,{size:20,className:"text-white/20"})}),(0,L.jsxs)("div",{className:"min-w-0",children:[(0,L.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:e.display_name||e.username}),e.display_name&&(0,L.jsxs)("p",{className:"text-xs text-white/30 truncate",children:["@",e.username]})]})]}),l&&(0,L.jsxs)("button",{onClick:()=>l(e.id),className:"bg-gradient-to-r from-purple-500/20 to-accent/20 hover:from-purple-500/30 hover:to-accent/30 text-white px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-1.5 transition-all shrink-0",children:[(0,L.jsx)(b.A,{size:14})," Blend"]})]},e.id))})}function q(e){let{blend:t,following:s,onSelectFriend:a,navigate:l}=e;const i=s.find(e=>e.id===t.friendId);return(0,L.jsxs)("div",{className:"space-y-6",children:[(0,L.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-1",children:s.map(e=>(0,L.jsxs)("button",{onClick:()=>a(e.id),className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm whitespace-nowrap transition-all ".concat(e.id===t.friendId?"bg-accent text-white":"bg-white/5 text-white/40 hover:bg-white/10"),children:[(0,L.jsx)("div",{className:"w-5 h-5 rounded-full overflow-hidden bg-dark-700",children:e.avatar_url?(0,L.jsx)("img",{src:e.avatar_url,alt:"",className:"w-full h-full object-cover"}):(0,L.jsx)(c.A,{size:14,className:"text-white/20 m-auto"})}),e.display_name||e.username]},e.id))}),(0,L.jsxs)("div",{className:"glass rounded-3xl p-6 text-center bg-gradient-to-br from-purple-500/10 via-transparent to-accent/10",children:[(0,L.jsxs)("div",{className:"text-6xl font-black bg-gradient-to-r from-purple-400 to-accent bg-clip-text text-transparent mb-2",children:[t.compatibility,"%"]}),(0,L.jsxs)("p",{className:"text-white/50 text-sm",children:["Taste match with ",(null===i||void 0===i?void 0:i.display_name)||(null===i||void 0===i?void 0:i.username)]}),(0,L.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-4 text-xs text-white/30",children:[(0,L.jsxs)("span",{children:[t.shared.length," shared titles"]}),(0,L.jsxs)("span",{children:[t.myCount," in your library"]}),(0,L.jsxs)("span",{children:[t.friendCount," in theirs"]})]})]}),t.sharedGenres.length>0&&(0,L.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,L.jsx)("h3",{className:"text-sm font-semibold text-white/40 mb-3",children:"Shared Genres"}),(0,L.jsx)("div",{className:"flex flex-wrap gap-2",children:t.sharedGenres.map(e=>(0,L.jsxs)("span",{className:"bg-accent/10 text-accent px-3 py-1 rounded-full text-sm",children:[e.genre," (",e.overlap,")"]},e.genre))})]}),t.blendRecs.length>0&&(0,L.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,L.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2",children:[(0,L.jsx)(v.A,{size:14,className:"text-purple-400"})," Watch Together"]}),(0,L.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:t.blendRecs.map(e=>(0,L.jsxs)("button",{onClick:()=>l("/details/".concat(e.media_type||"movie","/").concat(e.id)),className:"shrink-0 w-28 group",children:[(0,L.jsx)("div",{className:"aspect-[2/3] rounded-xl overflow-hidden ring-1 ring-white/10 group-hover:ring-accent/50 transition-all mb-1",children:e.poster_path?(0,L.jsx)("img",{src:"".concat(H).concat(e.poster_path),alt:"",className:"w-full h-full object-cover"}):(0,L.jsx)("div",{className:"w-full h-full bg-dark-700 flex items-center justify-center",children:(0,L.jsx)(_.A,{size:20,className:"text-white/10"})})}),(0,L.jsx)("p",{className:"text-[11px] text-white/60 truncate group-hover:text-accent transition-colors",children:e.title||e.name})]},e.id))})]}),t.shared.length>0&&(0,L.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,L.jsx)("h3",{className:"text-sm font-semibold text-white/40 mb-4",children:"Shared Titles"}),(0,L.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:t.shared.slice(0,12).map(e=>(0,L.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.poster_url&&(0,L.jsx)("img",{src:e.poster_url,alt:"",className:"w-10 h-14 rounded-lg object-cover shrink-0"}),(0,L.jsxs)("div",{className:"min-w-0",children:[(0,L.jsx)("p",{className:"text-sm text-white/70 truncate",children:e.title}),(0,L.jsx)("p",{className:"text-[10px] text-white/30 capitalize",children:e.media_type})]})]},e.id))})]})]})}function V(e){const t=new Date(e),s=(new Date-t)/1e3;return s<60?"just now":s<3600?"".concat(Math.floor(s/60),"m"):s<86400?"".concat(Math.floor(s/3600),"h"):s<604800?"".concat(Math.floor(s/86400),"d"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Q(e){let{size:t=16}=e,s=(0,l.A)(e,E);return(0,L.jsx)("span",(0,a.A)((0,a.A)({style:{fontSize:t}},s),{},{children:"+"}))}function J(e){let{size:t=16}=e,s=(0,l.A)(e,I);return(0,L.jsx)("svg",(0,a.A)((0,a.A)({width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),{},{children:(0,L.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}))}},4537(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},2626(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},6210(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5088(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5087(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7170(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]])},4918(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},9869(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},2119(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]])},6099(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},4919(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2414(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("tv",[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]])},3786(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},1884(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},4459(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7118(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}}]);
//# sourceMappingURL=999.dc7e3a5c.chunk.js.map