{"version":3,"file":"static/js/563.45685637.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/pen-line.ts","../node_modules/lucide-react/src/icons/settings.ts","pages/Profile.jsx","../node_modules/lucide-react/src/icons/activity.ts","../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/clock.ts","../node_modules/lucide-react/src/icons/eye.ts","../node_modules/lucide-react/src/icons/heart.ts","../node_modules/lucide-react/src/icons/shuffle.ts","../node_modules/lucide-react/src/icons/sparkles.ts","../node_modules/lucide-react/src/icons/trending-up.ts","../node_modules/lucide-react/src/icons/user-minus.ts","../node_modules/lucide-react/src/icons/user-plus.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuNSAzLjVhMi4xMiAyLjEyIDAgMCAxIDMgM0w3IDE5bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  ['path', { d: 'M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z', key: 'ymcmye' }],\n]);\n\nexport default PenLine;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('Settings', [\n  [\n    'path',\n    {\n      d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z',\n      key: '1qme2f',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Settings;\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport {\n  getProfile, getMyProfile, updateProfile, getFollowers, getFollowing,\n  isFollowing, followUser, unfollowUser, getMyActivity, getFriendLibrary,\n  getBlend, getDiscoverWeekly, getLibrary, AVATAR_PRESETS,\n} from '../services/api';\nimport {\n  User, Settings, Users, Heart, Star, Film, Tv, BookOpen, Library,\n  CheckCircle2, Eye, Clock, TrendingUp, Edit3, X, Check, UserPlus,\n  UserMinus, Activity, Sparkles, Shuffle, ChevronRight, ExternalLink, LogOut,\n} from 'lucide-react';\nimport { useToast } from '../context/ToastContext';\nimport { useAuth } from '../context/AuthContext';\n\nconst TMDB_IMG = 'https://image.tmdb.org/t/p/w500';\n\n/* ═══════════════════ PROFILE PAGE ═══════════════════ */\nexport default function Profile() {\n  const { userId } = useParams();\n  const { user, signOut } = useAuth();\n  const toast = useToast();\n  const navigate = useNavigate();\n\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [isOwnProfile, setIsOwnProfile] = useState(false);\n\n  // Social data\n  const [followers, setFollowers] = useState([]);\n  const [following, setFollowing] = useState([]);\n  const [iFollow, setIFollow] = useState(false);\n  const [activity, setActivity] = useState([]);\n  const [library, setLibrary] = useState([]);\n\n  // Edit mode\n  const [editing, setEditing] = useState(false);\n  const [editForm, setEditForm] = useState({});\n  const [showAvatarPicker, setShowAvatarPicker] = useState(false);\n\n  // Discover Weekly & Blend\n  const [discoverWeekly, setDiscoverWeekly] = useState([]);\n  const [blend, setBlend] = useState(null);\n  const [tab, setTab] = useState('overview'); // overview, library, following, followers, blend\n\n  const targetUserId = userId || user?.id;\n\n  const loadProfile = useCallback(async () => {\n    if (!targetUserId) return;\n    setLoading(true);\n    try {\n      const own = !userId || userId === user?.id;\n      setIsOwnProfile(own);\n\n      // Parallel fetch — all independent API calls in one batch\n      const [p, frs, fing, followStatus, lib, act] = await Promise.all([\n        own ? getMyProfile() : getProfile(targetUserId),\n        getFollowers(targetUserId),\n        getFollowing(targetUserId),\n        (!own && user) ? isFollowing(targetUserId) : Promise.resolve(false),\n        own ? getLibrary() : getFriendLibrary(targetUserId),\n        own ? getMyActivity(20) : Promise.resolve([]),\n      ]);\n\n      setProfile(p);\n      setFollowers(frs);\n      setFollowing(fing);\n      setIFollow(followStatus);\n      setLibrary(lib);\n      setActivity(act);\n\n      // Discover Weekly (own profile only) — fire after main data loaded\n      if (own) {\n        getDiscoverWeekly().then(dw => setDiscoverWeekly(dw)).catch(() => {});\n      }\n    } catch (err) {\n      console.error('Failed to load profile:', err);\n    }\n    setLoading(false);\n  }, [targetUserId, userId, user]);\n\n  useEffect(() => { loadProfile(); }, [loadProfile]);\n\n  // Stats from library\n  const stats = useMemo(() => {\n    const total = library.length;\n    const finished = library.filter(i => i.status === 'finished').length;\n    const watching = library.filter(i => i.status === 'watching').length;\n    const want = library.filter(i => i.status === 'want').length;\n    const movies = library.filter(i => i.media_type === 'movie').length;\n    const tv = library.filter(i => i.media_type === 'tv').length;\n    const books = library.filter(i => i.media_type === 'book').length;\n    const rated = library.filter(i => i.user_rating);\n    const avgRating = rated.length\n      ? (rated.reduce((s, i) => s + i.user_rating, 0) / rated.length).toFixed(1)\n      : null;\n\n    const genreCounts = {};\n    library.forEach(i => {\n      if (i.genres) i.genres.split(',').map(g => g.trim()).filter(Boolean)\n        .forEach(g => { genreCounts[g] = (genreCounts[g] || 0) + 1; });\n    });\n    const topGenres = Object.entries(genreCounts).sort((a, b) => b[1] - a[1]).slice(0, 5);\n\n    return { total, finished, watching, want, movies, tv, books, avgRating, rated: rated.length, topGenres };\n  }, [library]);\n\n  // ─── Actions ───\n\n  const handleFollow = async () => {\n    try {\n      await followUser(targetUserId);\n      setIFollow(true);\n      setFollowers(f => [...f, { id: user.id }]);\n      toast(`Following ${profile?.username}!`, 'success');\n    } catch (err) { toast('Could not follow', 'error'); }\n  };\n\n  const handleUnfollow = async () => {\n    try {\n      await unfollowUser(targetUserId);\n      setIFollow(false);\n      setFollowers(f => f.filter(u => u.id !== user?.id));\n      toast(`Unfollowed ${profile?.username}`, 'info');\n    } catch (err) { toast('Could not unfollow', 'error'); }\n  };\n\n  const handleSaveProfile = async () => {\n    try {\n      // Strip temporary AI fields before saving\n      const { _aiPrompt, _aiGenerating, ...cleanForm } = editForm;\n      const updated = await updateProfile(cleanForm);\n      setProfile(updated);\n      setEditing(false);\n      toast('Profile updated!', 'success');\n    } catch (err) { toast(err.message || 'Failed to save', 'error'); }\n  };\n\n  const handleLoadBlend = async (friendId) => {\n    try {\n      const b = await getBlend(friendId);\n      setBlend({ ...b, friendId });\n      setTab('blend');\n    } catch { toast('Could not generate blend', 'error'); }\n  };\n\n  // ─── Render ───\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\n        <div className=\"w-8 h-8 border-2 border-dark-500 border-t-accent rounded-full animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-4\">\n        <User size={48} className=\"text-white/20\" />\n        <p className=\"text-white/40\">Profile not found</p>\n        {!user && (\n          <button onClick={() => navigate('/login')} className=\"btn-accent px-6 py-2 rounded-xl text-sm\">\n            Sign In\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-5xl mx-auto space-y-8\">\n      {/* ═══ PROFILE HEADER ═══ */}\n      <div className=\"relative glass rounded-3xl p-6 sm:p-8 overflow-hidden\">\n        {/* Decorative gradient bg */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-accent/10 via-transparent to-purple-500/10 pointer-events-none\" />\n        \n        <div className=\"relative flex flex-col sm:flex-row items-center gap-6\">\n          {/* Avatar */}\n          <div className=\"relative group\">\n            <div className=\"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden ring-4 ring-accent/30 bg-dark-700 flex items-center justify-center\">\n              {profile.avatar_url ? (\n                <img src={profile.avatar_url} alt=\"\" className=\"w-full h-full object-cover\" />\n              ) : (\n                <User size={48} className=\"text-white/20\" />\n              )}\n            </div>\n            {isOwnProfile && (\n              <button\n                onClick={() => { setShowAvatarPicker(!showAvatarPicker); setEditing(true); setEditForm({ ...profile }); }}\n                className=\"absolute bottom-0 right-0 bg-accent rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg\"\n              >\n                <Edit3 size={14} />\n              </button>\n            )}\n          </div>\n\n          {/* Info */}\n          <div className=\"flex-1 text-center sm:text-left\">\n            {editing ? (\n              <div className=\"space-y-3\">\n                <input\n                  className=\"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white text-lg font-bold w-full max-w-xs focus:outline-none focus:border-accent\"\n                  placeholder=\"Display name\"\n                  value={editForm.display_name || ''}\n                  onChange={e => setEditForm(f => ({ ...f, display_name: e.target.value }))}\n                />\n                <textarea\n                  className=\"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white/70 text-sm w-full max-w-md resize-none focus:outline-none focus:border-accent\"\n                  placeholder=\"Bio — tell people about your taste...\"\n                  rows={2}\n                  value={editForm.bio || ''}\n                  onChange={e => setEditForm(f => ({ ...f, bio: e.target.value }))}\n                />\n                <div className=\"flex gap-2\">\n                  <button onClick={handleSaveProfile} className=\"bg-accent hover:bg-accent/80 text-white px-4 py-1.5 rounded-lg text-sm font-medium flex items-center gap-1.5 transition-colors\">\n                    <Check size={14} /> Save\n                  </button>\n                  <button onClick={() => { setEditing(false); setShowAvatarPicker(false); }} className=\"bg-white/10 hover:bg-white/20 text-white px-4 py-1.5 rounded-lg text-sm flex items-center gap-1.5 transition-colors\">\n                    <X size={14} /> Cancel\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <>\n                <h1 className=\"text-2xl sm:text-3xl font-black text-white\">\n                  {profile.display_name || profile.username}\n                </h1>\n                {profile.display_name && (\n                  <p className=\"text-sm text-white/40 mt-0.5\">@{profile.username}</p>\n                )}\n                {profile.bio && (\n                  <p className=\"text-sm text-white/50 mt-2 max-w-md\">{profile.bio}</p>\n                )}\n                <div className=\"flex items-center gap-4 mt-3 justify-center sm:justify-start text-sm\">\n                  <button onClick={() => setTab('followers')} className=\"text-white/50 hover:text-white transition-colors\">\n                    <strong className=\"text-white\">{followers.length}</strong> followers\n                  </button>\n                  <button onClick={() => setTab('following')} className=\"text-white/50 hover:text-white transition-colors\">\n                    <strong className=\"text-white\">{following.length}</strong> following\n                  </button>\n                  <span className=\"text-white/50\">\n                    <strong className=\"text-white\">{stats.total}</strong> in library\n                  </span>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Action buttons */}\n          <div className=\"flex gap-2 flex-wrap\">\n            {isOwnProfile ? (\n              <>\n                <button\n                  onClick={() => { setEditing(true); setEditForm({ ...profile }); }}\n                  className=\"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors\"\n                >\n                  <Settings size={16} /> Edit Profile\n                </button>\n                <button\n                  onClick={signOut}\n                  className=\"bg-white/5 hover:bg-red-500/20 hover:text-red-400 text-white/40 px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors\"\n                >\n                  <LogOut size={16} /> Sign Out\n                </button>\n              </>\n            ) : user ? (\n              iFollow ? (\n                <button\n                  onClick={handleUnfollow}\n                  className=\"bg-white/10 hover:bg-red-500/20 hover:text-red-400 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors\"\n                >\n                  <UserMinus size={16} /> Unfollow\n                </button>\n              ) : (\n                <button\n                  onClick={handleFollow}\n                  className=\"bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 transition-colors\"\n                >\n                  <UserPlus size={16} /> Follow\n                </button>\n              )\n            ) : null}\n          </div>\n        </div>\n\n        {/* Avatar Picker */}\n        {showAvatarPicker && (\n          <div className=\"relative mt-6 pt-6 border-t border-white/10\">\n            <h3 className=\"text-sm font-semibold text-white/50 mb-4\">Choose an avatar</h3>\n\n            {/* AI Avatar Generator */}\n            <div className=\"mb-5 p-4 bg-gradient-to-r from-accent/10 to-purple-500/10 border border-accent/20 rounded-xl\">\n              <p className=\"text-xs text-white/50 mb-2 uppercase tracking-wider flex items-center gap-1.5\">\n                <Sparkles size={12} className=\"text-accent\" /> AI Avatar Generator\n              </p>\n              <div className=\"flex gap-2\">\n                <input\n                  className=\"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white/70 text-xs focus:outline-none focus:border-accent\"\n                  placeholder=\"Describe your avatar... e.g. anime warrior with blue hair\"\n                  value={editForm._aiPrompt || ''}\n                  onChange={e => setEditForm(f => ({ ...f, _aiPrompt: e.target.value }))}\n                  onKeyDown={e => {\n                    if (e.key === 'Enter' && editForm._aiPrompt?.trim()) {\n                      const prompt = encodeURIComponent(`profile avatar portrait, ${editForm._aiPrompt.trim()}, centered face, clean background, high quality, digital art`);\n                      const url = `https://image.pollinations.ai/prompt/${prompt}?width=256&height=256&nologo=true&seed=${Date.now()}`;\n                      setEditForm(f => ({ ...f, avatar_url: url, _aiGenerating: true }));\n                      // Pre-load image\n                      const img = new Image();\n                      img.onload = () => setEditForm(f => ({ ...f, _aiGenerating: false }));\n                      img.onerror = () => setEditForm(f => ({ ...f, _aiGenerating: false }));\n                      img.src = url;\n                    }\n                  }}\n                />\n                <button\n                  onClick={() => {\n                    if (!editForm._aiPrompt?.trim()) return;\n                    const prompt = encodeURIComponent(`profile avatar portrait, ${editForm._aiPrompt.trim()}, centered face, clean background, high quality, digital art`);\n                    const url = `https://image.pollinations.ai/prompt/${prompt}?width=256&height=256&nologo=true&seed=${Date.now()}`;\n                    setEditForm(f => ({ ...f, avatar_url: url, _aiGenerating: true }));\n                    const img = new Image();\n                    img.onload = () => setEditForm(f => ({ ...f, _aiGenerating: false }));\n                    img.onerror = () => setEditForm(f => ({ ...f, _aiGenerating: false }));\n                    img.src = url;\n                  }}\n                  disabled={!editForm._aiPrompt?.trim()}\n                  className=\"bg-accent hover:bg-accent/80 disabled:opacity-30 text-white px-4 py-2 rounded-lg text-xs font-medium transition-colors\"\n                >\n                  Generate\n                </button>\n              </div>\n              {editForm._aiGenerating && (\n                <div className=\"flex items-center gap-2 mt-2 text-xs text-white/40\">\n                  <div className=\"w-3 h-3 border-2 border-white/20 border-t-accent rounded-full animate-spin\" />\n                  Generating your avatar...\n                </div>\n              )}\n              {editForm.avatar_url?.includes('pollinations.ai') && !editForm._aiGenerating && (\n                <div className=\"mt-2 flex items-center gap-3\">\n                  <img src={editForm.avatar_url} alt=\"AI avatar\" className=\"w-16 h-16 rounded-full object-cover border-2 border-accent/40\" />\n                  <button\n                    onClick={() => {\n                      const prompt = encodeURIComponent(`profile avatar portrait, ${editForm._aiPrompt?.trim()}, centered face, clean background, high quality, digital art`);\n                      const url = `https://image.pollinations.ai/prompt/${prompt}?width=256&height=256&nologo=true&seed=${Date.now()}`;\n                      setEditForm(f => ({ ...f, avatar_url: url, _aiGenerating: true }));\n                      const img = new Image();\n                      img.onload = () => setEditForm(f => ({ ...f, _aiGenerating: false }));\n                      img.onerror = () => setEditForm(f => ({ ...f, _aiGenerating: false }));\n                      img.src = url;\n                    }}\n                    className=\"text-xs text-accent hover:text-accent/80 transition-colors\"\n                  >\n                    Regenerate\n                  </button>\n                </div>\n              )}\n            </div>\n\n            {/* Preset sections */}\n            {Object.entries(AVATAR_PRESETS).map(([label, urls]) => (\n              <div key={label} className=\"mb-4\">\n                <p className=\"text-xs text-white/30 mb-2 uppercase tracking-wider\">{label}</p>\n                <div className=\"flex gap-2 flex-wrap\">\n                  {urls.map((url, i) => (\n                    <button\n                      key={i}\n                      onClick={() => setEditForm(f => ({ ...f, avatar_url: url }))}\n                      className={`w-14 h-14 rounded-full overflow-hidden ring-2 transition-all hover:scale-105 ${\n                        editForm.avatar_url === url ? 'ring-accent scale-110 shadow-lg shadow-accent/30' : 'ring-transparent hover:ring-white/30'\n                      }`}\n                    >\n                      <img src={url} alt=\"\" className=\"w-full h-full\" />\n                    </button>\n                  ))}\n                </div>\n              </div>\n            ))}\n            <div className=\"mt-3\">\n              <input\n                className=\"bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-white/70 text-xs w-full max-w-sm focus:outline-none focus:border-accent\"\n                placeholder=\"Or paste a custom avatar URL...\"\n                value={editForm.avatar_url || ''}\n                onChange={e => setEditForm(f => ({ ...f, avatar_url: e.target.value }))}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* ═══ TABS ═══ */}\n      <div className=\"flex gap-1 overflow-x-auto scrollbar-hide\">\n        {[\n          { key: 'overview', label: 'Overview', icon: BarChart },\n          { key: 'library', label: 'Library', icon: Library },\n          { key: 'following', label: 'Following', icon: Users },\n          { key: 'followers', label: 'Followers', icon: Heart },\n          ...(isOwnProfile && following.length > 0 ? [{ key: 'blend', label: 'Blends', icon: Shuffle }] : []),\n        ].map(t => (\n          <button\n            key={t.key}\n            onClick={() => setTab(t.key)}\n            className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${\n              tab === t.key ? 'bg-accent text-white' : 'bg-white/5 text-white/40 hover:bg-white/10 hover:text-white'\n            }`}\n          >\n            <t.icon size={16} /> {t.label}\n          </button>\n        ))}\n      </div>\n\n      {/* ═══ TAB CONTENT ═══ */}\n      {tab === 'overview' && <OverviewTab stats={stats} activity={activity} isOwnProfile={isOwnProfile} discoverWeekly={discoverWeekly} navigate={navigate} />}\n      {tab === 'library' && <LibraryTab library={library} navigate={navigate} />}\n      {tab === 'following' && <PeopleList people={following} title=\"Following\" navigate={navigate} onBlend={isOwnProfile ? handleLoadBlend : null} />}\n      {tab === 'followers' && <PeopleList people={followers} title=\"Followers\" navigate={navigate} />}\n      {tab === 'blend' && blend && <BlendTab blend={blend} following={following} onSelectFriend={handleLoadBlend} navigate={navigate} />}\n    </div>\n  );\n}\n\n/* ═══════════════════ STAT CARD ═══════════════════ */\nfunction BarChart({ size = 16, ...p }) { return <TrendingUp size={size} {...p} />; }\n\nfunction StatCard({ icon: Icon, label, value, color = 'text-white' }) {\n  return (\n    <div className=\"glass rounded-2xl p-4 flex flex-col items-center gap-1\">\n      <Icon size={18} className={color} />\n      <span className=\"text-2xl font-black text-white\">{value}</span>\n      <span className=\"text-[10px] uppercase tracking-wider text-white/30\">{label}</span>\n    </div>\n  );\n}\n\n/* ═══════════════════ OVERVIEW TAB ═══════════════════ */\nfunction OverviewTab({ stats, activity, isOwnProfile, discoverWeekly, navigate }) {\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats grid */}\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n        <StatCard icon={Library} label=\"Total\" value={stats.total} color=\"text-accent\" />\n        <StatCard icon={CheckCircle2} label=\"Finished\" value={stats.finished} color=\"text-green-400\" />\n        <StatCard icon={Eye} label=\"In Progress\" value={stats.watching} color=\"text-blue-400\" />\n        <StatCard icon={Clock} label=\"Wishlist\" value={stats.want} color=\"text-purple-400\" />\n      </div>\n\n      <div className=\"grid grid-cols-3 gap-3\">\n        <StatCard icon={Film} label=\"Movies\" value={stats.movies} color=\"text-rose-400\" />\n        <StatCard icon={Tv} label=\"TV Shows\" value={stats.tv} color=\"text-cyan-400\" />\n        <StatCard icon={BookOpen} label=\"Books\" value={stats.books} color=\"text-amber-400\" />\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Rating stats */}\n        <div className=\"glass rounded-2xl p-5\">\n          <h3 className=\"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2\">\n            <Star size={14} className=\"text-gold\" /> Rating Stats\n          </h3>\n          {stats.avgRating ? (\n            <div>\n              <div className=\"flex items-baseline gap-2 mb-1\">\n                <span className=\"text-4xl font-black text-gold\">{stats.avgRating}</span>\n                <span className=\"text-white/30 text-sm\">/10 average</span>\n              </div>\n              <p className=\"text-xs text-white/30\">{stats.rated} items rated</p>\n            </div>\n          ) : <p className=\"text-sm text-white/30\">Rate items to see stats</p>}\n        </div>\n\n        {/* Top genres */}\n        <div className=\"glass rounded-2xl p-5\">\n          <h3 className=\"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2\">\n            <TrendingUp size={14} className=\"text-accent\" /> Top Genres\n          </h3>\n          {stats.topGenres.length > 0 ? (\n            <div className=\"space-y-2\">\n              {stats.topGenres.map(([genre, count], idx) => (\n                <div key={genre} className=\"flex items-center gap-2\">\n                  <span className=\"text-xs font-bold text-white/20 w-4\">{idx + 1}</span>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center justify-between mb-0.5\">\n                      <span className=\"text-sm text-white/70\">{genre}</span>\n                      <span className=\"text-xs text-white/30\">{count}</span>\n                    </div>\n                    <div className=\"h-1 bg-white/5 rounded-full overflow-hidden\">\n                      <div className=\"h-full bg-accent/60 rounded-full\" style={{ width: `${(count / stats.topGenres[0][1]) * 100}%` }} />\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : <p className=\"text-sm text-white/30\">Add items to see genres</p>}\n        </div>\n      </div>\n\n      {/* Recent activity */}\n      {activity.length > 0 && (\n        <div className=\"glass rounded-2xl p-5\">\n          <h3 className=\"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2\">\n            <Activity size={14} className=\"text-accent\" /> Recent Activity\n          </h3>\n          <div className=\"space-y-3\">\n            {activity.slice(0, 10).map(a => (\n              <div key={a.id} className=\"flex items-center gap-3 text-sm\">\n                <div className=\"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center shrink-0\">\n                  {a.action === 'added' && <Plus size={14} className=\"text-green-400\" />}\n                  {a.action === 'rated' && <Star size={14} className=\"text-gold\" />}\n                  {a.action === 'reviewed' && <MessageSquare size={14} className=\"text-blue-400\" />}\n                  {a.action === 'followed' && <UserPlus size={14} className=\"text-accent\" />}\n                  {a.action === 'finished' && <CheckCircle2 size={14} className=\"text-green-400\" />}\n                  {!['added','rated','reviewed','followed','finished'].includes(a.action) && <Activity size={14} className=\"text-white/30\" />}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <span className=\"text-white/70\">\n                    {a.action === 'followed' ? `Followed ${a.title}` :\n                     a.action === 'rated' ? `Rated \"${a.title}\" ${a.rating}/10` :\n                     a.action === 'finished' ? `Finished \"${a.title}\"` :\n                     `${a.action.charAt(0).toUpperCase() + a.action.slice(1)} \"${a.title}\"`}\n                  </span>\n                </div>\n                <span className=\"text-xs text-white/20 shrink-0\">{timeAgo(a.created_at)}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Discover Weekly */}\n      {isOwnProfile && discoverWeekly.length > 0 && (\n        <div className=\"glass rounded-2xl p-5\">\n          <h3 className=\"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2\">\n            <Sparkles size={14} className=\"text-purple-400\" /> Discover Weekly\n          </h3>\n          <p className=\"text-xs text-white/30 mb-3\">Based on your library — updated weekly</p>\n          <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n            {discoverWeekly.map(item => (\n              <button\n                key={item.id}\n                onClick={() => navigate(`/details/${item.media_type}/${item.id}`)}\n                className=\"shrink-0 w-32 group\"\n              >\n                <div className=\"aspect-[2/3] rounded-xl overflow-hidden mb-2 ring-1 ring-white/10 group-hover:ring-accent/50 transition-all\">\n                  {item.poster_path ? (\n                    <img src={`${TMDB_IMG}${item.poster_path}`} alt=\"\" className=\"w-full h-full object-cover\" />\n                  ) : (\n                    <div className=\"w-full h-full bg-dark-700 flex items-center justify-center\">\n                      <Film size={24} className=\"text-white/10\" />\n                    </div>\n                  )}\n                </div>\n                <p className=\"text-xs text-white/70 truncate group-hover:text-accent transition-colors\">\n                  {item.title || item.name}\n                </p>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* ═══════════════════ LIBRARY TAB ═══════════════════ */\nfunction LibraryTab({ library, navigate }) {\n  const [filter, setFilter] = useState('all');\n\n  const filtered = useMemo(() => {\n    if (filter === 'all') return library;\n    return library.filter(i => i.media_type === filter);\n  }, [library, filter]);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex gap-2 overflow-x-auto scrollbar-hide\">\n        {['all', 'movie', 'tv', 'book'].map(f => (\n          <button\n            key={f}\n            onClick={() => setFilter(f)}\n            className={`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-all ${\n              filter === f ? 'bg-accent text-white' : 'bg-white/5 text-white/40 hover:bg-white/10'\n            }`}\n          >\n            {f === 'all' ? 'All' : f === 'movie' ? 'Movies' : f === 'tv' ? 'TV Shows' : 'Books'}\n          </button>\n        ))}\n      </div>\n\n      {filtered.length === 0 ? (\n        <div className=\"glass rounded-2xl p-8 text-center\">\n          <Library size={32} className=\"mx-auto mb-2 text-white/10\" />\n          <p className=\"text-white/30 text-sm\">No items yet</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3\">\n          {filtered.map(item => (\n            <button\n              key={item.id}\n              onClick={() => {\n                const mt = item.media_type || 'movie';\n                const id = item.tmdb_id || item.openlibrary_key;\n                if (id) navigate(`/details/${mt}/${id}`);\n              }}\n              className=\"group text-left\"\n            >\n              <div className=\"aspect-[2/3] rounded-xl overflow-hidden ring-1 ring-white/10 group-hover:ring-accent/50 transition-all mb-2 relative\">\n                {item.poster_url ? (\n                  <img src={item.poster_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                ) : (\n                  <div className=\"w-full h-full bg-dark-700 flex items-center justify-center\">\n                    <Film size={20} className=\"text-white/10\" />\n                  </div>\n                )}\n                {item.user_rating && (\n                  <div className=\"absolute top-1 right-1 bg-black/70 backdrop-blur-sm rounded-md px-1.5 py-0.5 flex items-center gap-0.5\">\n                    <Star size={10} className=\"text-gold fill-gold\" />\n                    <span className=\"text-[10px] font-bold text-gold\">{item.user_rating}</span>\n                  </div>\n                )}\n                <div className=\"absolute bottom-1 left-1\">\n                  <span className={`text-[8px] uppercase font-bold px-1.5 py-0.5 rounded-md ${\n                    item.status === 'finished' ? 'bg-green-500/80' :\n                    item.status === 'watching' ? 'bg-blue-500/80' :\n                    'bg-purple-500/80'\n                  } text-white`}>\n                    {item.status === 'finished' ? 'Done' : item.status === 'watching' ? 'Active' : 'Want'}\n                  </span>\n                </div>\n              </div>\n              <p className=\"text-xs text-white/60 truncate group-hover:text-accent transition-colors\">{item.title}</p>\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* ═══════════════════ PEOPLE LIST ═══════════════════ */\nfunction PeopleList({ people, title, navigate, onBlend }) {\n  if (people.length === 0) {\n    return (\n      <div className=\"glass rounded-2xl p-8 text-center\">\n        <Users size={32} className=\"mx-auto mb-2 text-white/10\" />\n        <p className=\"text-white/30 text-sm\">No {title.toLowerCase()} yet</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-2\">\n      {people.map(p => (\n        <div key={p.id} className=\"glass rounded-2xl p-4 flex items-center gap-4 hover:bg-white/5 transition-colors\">\n          <button onClick={() => navigate(`/profile/${p.id}`)} className=\"flex items-center gap-4 flex-1 min-w-0\">\n            <div className=\"w-12 h-12 rounded-full overflow-hidden bg-dark-700 ring-2 ring-white/10 shrink-0 flex items-center justify-center\">\n              {p.avatar_url ? (\n                <img src={p.avatar_url} alt=\"\" className=\"w-full h-full object-cover\" />\n              ) : (\n                <User size={20} className=\"text-white/20\" />\n              )}\n            </div>\n            <div className=\"min-w-0\">\n              <p className=\"text-sm font-semibold text-white truncate\">{p.display_name || p.username}</p>\n              {p.display_name && <p className=\"text-xs text-white/30 truncate\">@{p.username}</p>}\n            </div>\n          </button>\n          {onBlend && (\n            <button\n              onClick={() => onBlend(p.id)}\n              className=\"bg-gradient-to-r from-purple-500/20 to-accent/20 hover:from-purple-500/30 hover:to-accent/30 text-white px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-1.5 transition-all shrink-0\"\n            >\n              <Shuffle size={12} /> Blend\n            </button>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n\n/* ═══════════════════ BLEND TAB ═══════════════════ */\nfunction BlendTab({ blend, following, onSelectFriend, navigate }) {\n  const friend = following.find(f => f.id === blend.friendId);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Friend selector */}\n      <div className=\"flex gap-2 overflow-x-auto scrollbar-hide pb-1\">\n        {following.map(f => (\n          <button\n            key={f.id}\n            onClick={() => onSelectFriend(f.id)}\n            className={`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm whitespace-nowrap transition-all ${\n              f.id === blend.friendId ? 'bg-accent text-white' : 'bg-white/5 text-white/40 hover:bg-white/10'\n            }`}\n          >\n            <div className=\"w-5 h-5 rounded-full overflow-hidden bg-dark-700\">\n              {f.avatar_url ? <img src={f.avatar_url} alt=\"\" className=\"w-full h-full object-cover\" /> : <User size={12} className=\"text-white/20 m-auto\" />}\n            </div>\n            {f.display_name || f.username}\n          </button>\n        ))}\n      </div>\n\n      {/* Compatibility score */}\n      <div className=\"glass rounded-3xl p-6 text-center bg-gradient-to-br from-purple-500/10 via-transparent to-accent/10\">\n        <div className=\"text-6xl font-black bg-gradient-to-r from-purple-400 to-accent bg-clip-text text-transparent mb-2\">\n          {blend.compatibility}%\n        </div>\n        <p className=\"text-white/50 text-sm\">Taste match with {friend?.display_name || friend?.username}</p>\n        <div className=\"flex items-center justify-center gap-6 mt-4 text-xs text-white/30\">\n          <span>{blend.shared.length} shared titles</span>\n          <span>{blend.myCount} in your library</span>\n          <span>{blend.friendCount} in theirs</span>\n        </div>\n      </div>\n\n      {/* Shared genres */}\n      {blend.sharedGenres.length > 0 && (\n        <div className=\"glass rounded-2xl p-5\">\n          <h3 className=\"text-sm font-semibold text-white/40 mb-3\">Shared Genres</h3>\n          <div className=\"flex flex-wrap gap-2\">\n            {blend.sharedGenres.map(g => (\n              <span key={g.genre} className=\"bg-accent/10 text-accent px-3 py-1 rounded-full text-sm\">\n                {g.genre} ({g.overlap})\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Blend recommendations */}\n      {blend.blendRecs.length > 0 && (\n        <div className=\"glass rounded-2xl p-5\">\n          <h3 className=\"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2\">\n            <Sparkles size={14} className=\"text-purple-400\" /> Watch Together\n          </h3>\n          <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n            {blend.blendRecs.map(item => (\n              <button\n                key={item.id}\n                onClick={() => navigate(`/details/${item.media_type || 'movie'}/${item.id}`)}\n                className=\"shrink-0 w-28 group\"\n              >\n                <div className=\"aspect-[2/3] rounded-xl overflow-hidden ring-1 ring-white/10 group-hover:ring-accent/50 transition-all mb-1\">\n                  {item.poster_path ? (\n                    <img src={`${TMDB_IMG}${item.poster_path}`} alt=\"\" className=\"w-full h-full object-cover\" />\n                  ) : (\n                    <div className=\"w-full h-full bg-dark-700 flex items-center justify-center\"><Film size={20} className=\"text-white/10\" /></div>\n                  )}\n                </div>\n                <p className=\"text-[11px] text-white/60 truncate group-hover:text-accent transition-colors\">{item.title || item.name}</p>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Shared titles */}\n      {blend.shared.length > 0 && (\n        <div className=\"glass rounded-2xl p-5\">\n          <h3 className=\"text-sm font-semibold text-white/40 mb-4\">Shared Titles</h3>\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\n            {blend.shared.slice(0, 12).map(item => (\n              <div key={item.id} className=\"flex items-center gap-3 bg-white/5 rounded-xl p-3\">\n                {item.poster_url && (\n                  <img src={item.poster_url} alt=\"\" className=\"w-10 h-14 rounded-lg object-cover shrink-0\" />\n                )}\n                <div className=\"min-w-0\">\n                  <p className=\"text-sm text-white/70 truncate\">{item.title}</p>\n                  <p className=\"text-[10px] text-white/30 capitalize\">{item.media_type}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* ═══════════════════ HELPERS ═══════════════════ */\nfunction timeAgo(dateStr) {\n  const d = new Date(dateStr);\n  const now = new Date();\n  const diff = (now - d) / 1000;\n  if (diff < 60) return 'just now';\n  if (diff < 3600) return `${Math.floor(diff / 60)}m`;\n  if (diff < 86400) return `${Math.floor(diff / 3600)}h`;\n  if (diff < 604800) return `${Math.floor(diff / 86400)}d`;\n  return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n}\n\nfunction Plus({ size = 16, ...p }) { return <span style={{ fontSize: size }} {...p}>+</span>; }\nfunction MessageSquare({ size = 16, ...p }) {\n  return (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...p}>\n      <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>\n    </svg>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTIuNDhhMiAyIDAgMCAwLTEuOTMgMS40NmwtMi4zNSA4LjM2YS4yNS4yNSAwIDAgMS0uNDggMEw5LjI0IDIuMThhLjI1LjI1IDAgMCAwLS40OCAwbC0yLjM1IDguMzZBMiAyIDAgMCAxIDQuNDkgMTJIMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('Activity', [\n  [\n    'path',\n    {\n      d: 'M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2',\n      key: '169zse',\n    },\n  ],\n]);\n\nexport default Activity;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]]);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiAxMnMzLTcgMTAtNyAxMCA3IDEwIDctMyA3LTEwIDctMTAtNy0xMC03WiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('Eye', [\n  ['path', { d: 'M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z', key: 'rwhkz3' }],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Heart\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMTRjMS40OS0xLjQ2IDMtMy4yMSAzLTUuNUE1LjUgNS41IDAgMCAwIDE2LjUgM2MtMS43NiAwLTMgLjUtNC41IDItMS41LTEuNS0yLjc0LTItNC41LTJBNS41IDUuNSAwIDAgMCAyIDguNWMwIDIuMyAxLjUgNC4wNSAzIDUuNWw3IDdaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/heart\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heart = createLucideIcon('Heart', [\n  [\n    'path',\n    {\n      d: 'M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z',\n      key: 'c3ymky',\n    },\n  ],\n]);\n\nexport default Heart;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shuffle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiAxOGgxLjRjMS4zIDAgMi41LS42IDMuMy0xLjdsNi4xLTguNmMuNy0xLjEgMi0xLjcgMy4zLTEuN0gyMiIgLz4KICA8cGF0aCBkPSJtMTggMiA0IDQtNCA0IiAvPgogIDxwYXRoIGQ9Ik0yIDZoMS45YzEuNSAwIDIuOS45IDMuNiAyLjIiIC8+CiAgPHBhdGggZD0iTTIyIDE4aC01LjljLTEuMyAwLTIuNi0uNy0zLjMtMS44bC0uNS0uOCIgLz4KICA8cGF0aCBkPSJtMTggMTQgNCA0LTQgNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/shuffle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shuffle = createLucideIcon('Shuffle', [\n  ['path', { d: 'M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22', key: '1wmou1' }],\n  ['path', { d: 'm18 2 4 4-4 4', key: 'pucp1d' }],\n  ['path', { d: 'M2 6h1.9c1.5 0 2.9.9 3.6 2.2', key: '10bdb2' }],\n  ['path', { d: 'M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8', key: 'vgxac0' }],\n  ['path', { d: 'm18 14 4 4-4 4', key: '10pe0f' }],\n]);\n\nexport default Shuffle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Sparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS45MzcgMTUuNUEyIDIgMCAwIDAgOC41IDE0LjA2M2wtNi4xMzUtMS41ODJhLjUuNSAwIDAgMSAwLS45NjJMOC41IDkuOTM2QTIgMiAwIDAgMCA5LjkzNyA4LjVsMS41ODItNi4xMzVhLjUuNSAwIDAgMSAuOTYzIDBMMTQuMDYzIDguNUEyIDIgMCAwIDAgMTUuNSA5LjkzN2w2LjEzNSAxLjU4MWEuNS41IDAgMCAxIDAgLjk2NEwxNS41IDE0LjA2M2EyIDIgMCAwIDAtMS40MzcgMS40MzdsLTEuNTgyIDYuMTM1YS41LjUgMCAwIDEtLjk2MyAweiIgLz4KICA8cGF0aCBkPSJNMjAgM3Y0IiAvPgogIDxwYXRoIGQ9Ik0yMiA1aC00IiAvPgogIDxwYXRoIGQ9Ik00IDE3djIiIC8+CiAgPHBhdGggZD0iTTUgMThIMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sparkles = createLucideIcon('Sparkles', [\n  [\n    'path',\n    {\n      d: 'M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z',\n      key: '4pj2yx',\n    },\n  ],\n  ['path', { d: 'M20 3v4', key: '1olli1' }],\n  ['path', { d: 'M22 5h-4', key: '1gvqau' }],\n  ['path', { d: 'M4 17v2', key: 'vumght' }],\n  ['path', { d: 'M5 18H3', key: 'zchphs' }],\n]);\n\nexport default Sparkles;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n]);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserMinus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserMinus = createLucideIcon('UserMinus', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n]);\n\nexport default UserMinus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('UserPlus', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n]);\n\nexport default UserPlus;\n"],"names":["PenLine","createLucideIcon","d","key","Settings","cx","cy","r","TMDB_IMG","Profile","_editForm$_aiPrompt3","_editForm$avatar_url","userId","useParams","user","signOut","useAuth","toast","useToast","navigate","useNavigate","profile","setProfile","useState","loading","setLoading","isOwnProfile","setIsOwnProfile","followers","setFollowers","following","setFollowing","iFollow","setIFollow","activity","setActivity","library","setLibrary","editing","setEditing","editForm","setEditForm","showAvatarPicker","setShowAvatarPicker","discoverWeekly","setDiscoverWeekly","blend","setBlend","tab","setTab","targetUserId","id","loadProfile","useCallback","async","own","p","frs","fing","followStatus","lib","act","Promise","all","getMyProfile","getProfile","getFollowers","getFollowing","isFollowing","resolve","getLibrary","getFriendLibrary","getMyActivity","getDiscoverWeekly","then","dw","catch","err","console","error","useEffect","stats","useMemo","total","length","finished","filter","i","status","watching","want","movies","media_type","tv","books","rated","user_rating","avgRating","reduce","s","toFixed","genreCounts","forEach","genres","split","map","g","trim","Boolean","topGenres","Object","entries","sort","a","b","slice","handleLoadBlend","getBlend","friendId","_objectSpread","_unused","_jsx","className","children","_jsxs","avatar_url","src","alt","User","size","onClick","Edit3","placeholder","value","display_name","onChange","e","f","target","rows","bio","_aiPrompt","_aiGenerating","cleanForm","_objectWithoutProperties","_excluded","updated","updateProfile","message","Check","X","_Fragment","username","LogOut","unfollowUser","u","concat","UserMinus","followUser","UserPlus","Sparkles","onKeyDown","_editForm$_aiPrompt","prompt","encodeURIComponent","url","Date","now","img","Image","onload","onerror","_editForm$_aiPrompt2","disabled","includes","_editForm$_aiPrompt4","AVATAR_PRESETS","_ref","label","urls","icon","BarChart","Library","Users","Heart","Shuffle","t","OverviewTab","LibraryTab","PeopleList","people","title","onBlend","BlendTab","onSelectFriend","_ref2","_excluded2","TrendingUp","StatCard","_ref3","Icon","color","_ref4","CheckCircle2","Eye","Clock","Film","Tv","BookOpen","Star","_ref5","idx","genre","count","style","width","Activity","action","Plus","MessageSquare","rating","charAt","toUpperCase","timeAgo","created_at","item","poster_path","name","_ref6","setFilter","filtered","mt","tmdb_id","openlibrary_key","poster_url","_ref7","toLowerCase","_ref8","friend","find","compatibility","shared","myCount","friendCount","sharedGenres","overlap","blendRecs","dateStr","diff","Math","floor","toLocaleDateString","month","day","_ref9","_excluded3","fontSize","_ref0","_excluded4","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","x1","x2","y1","y2"],"sourceRoot":""}