/*! For license information please see 581.fb33c07d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksyllabus_client=self.webpackChunksyllabus_client||[]).push([[581],{1540(e,t,a){a.d(t,{A6:()=>n,eP:()=>l});a(5043);var s=a(579);function i(){return(0,s.jsxs)("div",{className:"flex-shrink-0 w-[140px] sm:w-[160px] animate-pulse",children:[(0,s.jsx)("div",{className:"bg-dark-700 rounded-lg aspect-[2/3] w-full mb-2"}),(0,s.jsx)("div",{className:"bg-dark-700 rounded h-3 w-3/4 mb-1"}),(0,s.jsx)("div",{className:"bg-dark-700 rounded h-3 w-1/2"})]})}function n(e){let{title:t}=e;return(0,s.jsxs)("div",{className:"mb-8",children:[t&&(0,s.jsx)("div",{className:"bg-dark-700 rounded h-5 w-40 mb-4 animate-pulse"}),(0,s.jsx)("div",{className:"flex gap-4 overflow-hidden",children:Array.from({length:8}).map((e,t)=>(0,s.jsx)(i,{},t))})]})}function l(){return(0,s.jsx)("div",{className:"relative h-[50vh] sm:h-[60vh] rounded-xl overflow-hidden mb-8 animate-pulse bg-dark-700",children:(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 p-6 sm:p-10 space-y-3 w-full",children:[(0,s.jsx)("div",{className:"bg-dark-600 rounded h-8 w-1/3"}),(0,s.jsx)("div",{className:"bg-dark-600 rounded h-4 w-2/3"}),(0,s.jsx)("div",{className:"bg-dark-600 rounded h-4 w-1/2"})]})})}},5581(e,t,a){a.r(t),a.d(t,{default:()=>f});var s=a(5043),i=a(3216),n=a(5475);const l=(0,a(1212).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);var r=a(7170),d=a(2414),o=a(2626),c=a(7118),m=a(3944),h=a(1540),x=a(4505),u=a(579);const p=[{id:null,name:"All"},{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:14,name:"Fantasy"},{id:27,name:"Horror"},{id:10749,name:"Romance"},{id:878,name:"Sci-Fi"},{id:53,name:"Thriller"},{id:10752,name:"War"}],v=[{id:null,name:"All"},{id:10759,name:"Action"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10765,name:"Sci-Fi & Fantasy"},{id:9648,name:"Mystery"},{id:10768,name:"War"},{id:10766,name:"Soap"},{id:37,name:"Western"}],y=[{id:null,name:"All"},{id:"fiction",name:"Fiction"},{id:"science_fiction",name:"Sci-Fi"},{id:"fantasy",name:"Fantasy"},{id:"mystery",name:"Mystery"},{id:"horror",name:"Horror"},{id:"romance",name:"Romance"},{id:"history",name:"History"},{id:"biography",name:"Biography"},{id:"science",name:"Science"},{id:"philosophy",name:"Philosophy"},{id:"poetry",name:"Poetry"},{id:"true_crime",name:"True Crime"},{id:"self-help",name:"Self-Help"}];function b(e){var t,a;let{rank:s,item:i,title:n,year:l,poster:r,mediaType:d,navigate:o}=e;const h=1===s?"text-gold":2===s?"text-gray-300":3===s?"text-amber-600":"text-white/20",x="book"===d,p=x?i.rating:null!==(t=i.unified_rating)&&void 0!==t?t:i.vote_average,v=x?"":null!=i.unified_rating?"Syllabus":"TMDB";return(0,u.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-white/[0.02] border border-white/[0.04] hover:bg-white/[0.05] hover:border-white/[0.08] transition-all cursor-pointer group",onClick:()=>{if(x){var e;const t=(null===(e=i.key)||void 0===e?void 0:e.replace("/works/",""))||"";t&&o("/details/book/".concat(t))}else o("/details/".concat(d,"/").concat(i.id))},children:[(0,u.jsx)("span",{className:"text-2xl sm:text-3xl font-black w-10 sm:w-14 text-center flex-shrink-0 ".concat(h),children:s}),r?(0,u.jsx)("img",{src:r,alt:n,className:"h-16 sm:h-20 w-11 sm:w-14 rounded-lg flex-shrink-0 group-hover:scale-105 transition-transform object-cover aspect-[2/3]"}):(0,u.jsx)("div",{className:"h-16 sm:h-20 w-11 sm:w-14 rounded-lg bg-dark-600 flex-shrink-0 aspect-[2/3]"}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("p",{className:"font-semibold text-sm sm:text-base truncate",children:n}),(0,u.jsxs)("p",{className:"text-xs text-white/30 mt-0.5",children:[l,x&&i.author?" \xb7 ".concat(i.author):"",!x&&(null===(a=i.genres)||void 0===a?void 0:a.length)>0?" \xb7 ".concat(i.genres.map(e=>e.name).join(", ")):""]}),x&&(i.already_read>0||i.want_to_read>0)&&(0,u.jsxs)("p",{className:"text-[10px] text-white/20 mt-0.5 flex items-center gap-1",children:[(0,u.jsx)(c.A,{size:12}),((i.already_read||0)+(i.want_to_read||0)+(i.currently_reading||0)).toLocaleString()," readers"]})]}),p>0&&(0,u.jsxs)("div",{className:"flex flex-col items-end flex-shrink-0",children:[(0,u.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,u.jsx)(m.A,{size:14,className:"text-gold fill-gold"}),(0,u.jsx)("span",{className:"text-sm font-bold",children:Number(p).toFixed(1)}),(0,u.jsx)("span",{className:"text-[10px] text-white/20 hidden sm:inline",children:"/ 10"})]}),v&&(0,u.jsx)("span",{className:"text-[9px] text-white/15 mt-0.5",children:v})]})]})}const f=function(){const e=(0,i.Zp)(),[t,a]=(0,n.ok)(),[c,m]=(0,s.useState)(()=>t.get("tab")||"movies"),[f,g]=(0,s.useState)(()=>{const e=t.get("genre");if(!e)return null;const a=Number(e);return isNaN(a)?e:a}),[w,k]=(0,s.useState)([]),[j,N]=(0,s.useState)(!0),[A,_]=(0,s.useState)(null),[M,S]=(0,s.useState)(null),C=(0,s.useCallback)(async(e,t)=>{N(!0),_(null);const a="movies"===e?"movie":"shows"===e?"tv":"book",s="".concat(a,":").concat(t||"all");if("books"!==e){const i=(0,x.NJ)(s);if(i&&i.length>0){k(i),N(!1);const n=(0,x._A)(s);if(S(n),n<864e5)return;let l="movies"===e?await(0,x.Ww)(t):await(0,x.nK)(t);const r=await(0,x.Wq)(l,a,s,_);return k(r),void S(0)}}let i=[];if(i="movies"===e?await(0,x.Ww)(t):"shows"===e?await(0,x.nK)(t):await(0,x.h2)(t),"books"!==e){(0,x.Zb)(i,a),i.sort((e,t)=>{var a,s,i,n;const l=null!==(a=null!==(s=e.unified_rating)&&void 0!==s?s:e.vote_average)&&void 0!==a?a:0;return(null!==(i=null!==(n=t.unified_rating)&&void 0!==n?n:t.vote_average)&&void 0!==i?i:0)-l}),k([...i]),N(!1);const e=await(0,x.Wq)(i,a,s,_);k(e),S(0)}else k(i),N(!1)},[]);(0,s.useEffect)(()=>{C(c,f)},[c,f,C]),(0,s.useEffect)(()=>{const e={tab:c};null!=f&&(e.genre=f),a(e,{replace:!0})},[c,f,a]);const H="movies"===c?p:"shows"===c?v:y,T="movies"===c?"movie":"shows"===c?"tv":"book",z=(()=>{if(null===M||void 0===M)return null;if(0===M)return"Just now";const e=Math.floor(M/6e4);if(e<60)return"".concat(e,"m ago");const t=Math.floor(e/60);return t<24?"".concat(t,"h ago"):"".concat(Math.floor(t/24),"d ago")})();return(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsxs)("div",{className:"mb-8",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,u.jsx)(l,{size:28,className:"text-gold"}),(0,u.jsx)("h1",{className:"text-3xl font-black",children:"Top 100"})]}),(0,u.jsxs)("p",{className:"text-white/40 text-sm",children:["The highest rated of all time, ranked by Syllabus Score.",z&&(0,u.jsxs)("span",{className:"text-white/20 ml-2",children:["\xb7 Updated ",z]})]})]}),(0,u.jsx)("div",{className:"flex gap-2 mb-4",children:[{key:"movies",label:"Movies",icon:r.A},{key:"shows",label:"TV Shows",icon:d.A},{key:"books",label:"Books",icon:o.A}].map(e=>(0,u.jsxs)("button",{onClick:()=>(e=>{m(e),g(null)})(e.key),className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ".concat(c===e.key?"bg-accent text-white":"bg-white/[0.04] text-white/50 hover:bg-white/[0.08] hover:text-white border border-white/[0.06]"),children:[(0,u.jsx)(e.icon,{size:16})," ",e.label]},e.key))}),(0,u.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:H.map(e=>{var t;return(0,u.jsx)("button",{onClick:()=>g(e.id),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-150 ".concat(f===e.id?"bg-white/10 text-white border border-white/20":"bg-white/[0.02] text-white/35 hover:text-white/60 hover:bg-white/[0.05] border border-transparent"),children:e.name},null!==(t=e.id)&&void 0!==t?t:"all")})}),null!==A&&A<100&&(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between text-[11px] text-white/30 mb-1.5",children:[(0,u.jsx)("span",{children:"Scoring titles\u2026"}),(0,u.jsxs)("span",{children:[Math.round(A),"%"]})]}),(0,u.jsx)("div",{className:"h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:(0,u.jsx)("div",{className:"h-full bg-accent/60 rounded-full transition-all duration-300",style:{width:"".concat(A,"%")}})})]}),j?(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(h.A6,{title:!0}),(0,u.jsx)(h.A6,{title:!0}),(0,u.jsx)(h.A6,{title:!0}),(0,u.jsx)(h.A6,{title:!0})]}):0===w.length?(0,u.jsxs)("div",{className:"text-center py-20 text-white/30",children:[(0,u.jsx)("p",{className:"text-lg",children:"No results for this genre"}),(0,u.jsx)("p",{className:"text-sm mt-1",children:"Try a different category"})]}):(0,u.jsx)("div",{className:"space-y-2",children:w.map((t,a)=>{const s=t.title||t.name,i="book"===T,n=i?(t.first_publish_year||"").toString():(t.release_date||t.first_air_date||"").slice(0,4),l=i?t.poster_path:t.poster_path?"https://image.tmdb.org/t/p/w185".concat(t.poster_path):null;return(0,u.jsx)(b,{rank:a+1,item:t,title:s,year:n,poster:l,mediaType:T,navigate:e},t.id||t.key||a)})})]})}},2626(e,t,a){a.d(t,{A:()=>s});const s=(0,a(1212).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},7170(e,t,a){a.d(t,{A:()=>s});const s=(0,a(1212).A)("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]])},2414(e,t,a){a.d(t,{A:()=>s});const s=(0,a(1212).A)("tv",[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]])},7118(e,t,a){a.d(t,{A:()=>s});const s=(0,a(1212).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}}]);
//# sourceMappingURL=581.fb33c07d.chunk.js.map