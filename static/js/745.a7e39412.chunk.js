/*! For license information please see 745.a7e39412.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksyllabus_client=self.webpackChunksyllabus_client||[]).push([[745],{8745(e,t,s){s.r(t),s.d(t,{default:()=>G});var a=s(2555),l=s(5043),i=s(3216),r=s(4505),n=s(9869),c=s(6833),o=s(5087),d=s(5088),x=s(7170),h=s(2414),m=s(2626),p=s(3944),u=s(4919),b=s(5347),g=s(1212);const v=(0,g.A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),y=(0,g.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),f=(0,g.A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);var w=s(4918),j=s(2782);const k=(0,g.A)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);var N=s(9292),A=s(6099);const _=(0,g.A)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]);var M=s(1360);const S=(0,g.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),z=(0,g.A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var C=s(9855),F=s(614),R=s(7694),D=s(8729),P=s(579);const W="https://image.tmdb.org/t/p/w500";function q(e){let{items:t}=e;const s=(0,l.useMemo)(()=>{const e=t.length,s=t.filter(e=>"finished"===e.status),a=t.filter(e=>"watching"===e.status),l=t.filter(e=>"want"===e.status),i=t.filter(e=>"movie"===e.media_type),r=t.filter(e=>"tv"===e.media_type),n=t.filter(e=>"book"===e.media_type),c=t.filter(e=>e.user_rating),o=c.length?(c.reduce((e,t)=>e+t.user_rating,0)/c.length).toFixed(1):null,d={};t.forEach(e=>{e.genres&&e.genres.split(",").map(e=>e.trim()).filter(Boolean).forEach(e=>{d[e]=(d[e]||0)+1})});const x=Object.entries(d).sort((e,t)=>t[1]-e[1]).slice(0,5),h=[...t].filter(e=>e.user_rating).sort((e,t)=>t.user_rating-e.user_rating).slice(0,3);return{total:e,finished:s.length,watching:a.length,want:l.length,movies:i.length,tv:r.length,books:n.length,avgRating:o,topGenres:x,topRated:h,rated:c.length}},[t]);return(0,P.jsxs)("div",{className:"space-y-6",children:[(0,P.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,P.jsx)(T,{icon:n.A,label:"Total",value:s.total,color:"text-accent"}),(0,P.jsx)(T,{icon:c.A,label:"Finished",value:s.finished,color:"text-green-400"}),(0,P.jsx)(T,{icon:o.A,label:"In Progress",value:s.watching,color:"text-blue-400"}),(0,P.jsx)(T,{icon:d.A,label:"Wishlist",value:s.want,color:"text-purple-400"})]}),(0,P.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,P.jsx)(T,{icon:x.A,label:"Movies",value:s.movies,color:"text-rose-400"}),(0,P.jsx)(T,{icon:h.A,label:"TV Shows",value:s.tv,color:"text-cyan-400"}),(0,P.jsx)(T,{icon:m.A,label:"Books",value:s.books,color:"text-amber-400"})]}),(0,P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,P.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,P.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2",children:[(0,P.jsx)(p.A,{size:14,className:"text-gold"})," Your Rating Stats"]}),s.avgRating?(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,P.jsx)("span",{className:"text-4xl font-black text-gold",children:s.avgRating}),(0,P.jsx)("span",{className:"text-white/30 text-sm",children:"/10 average"})]}),(0,P.jsxs)("p",{className:"text-xs text-white/30",children:[s.rated," items rated"]})]}):(0,P.jsx)("p",{className:"text-sm text-white/30",children:"Rate items to see stats"})]}),(0,P.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,P.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-3 flex items-center gap-2",children:[(0,P.jsx)(u.A,{size:14,className:"text-accent"})," Top Genres"]}),s.topGenres.length>0?(0,P.jsx)("div",{className:"space-y-2",children:s.topGenres.map((e,t)=>{let[a,l]=e;return(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)("span",{className:"text-xs font-bold text-white/20 w-4",children:t+1}),(0,P.jsxs)("div",{className:"flex-1",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between mb-0.5",children:[(0,P.jsx)("span",{className:"text-sm text-white/70",children:a}),(0,P.jsx)("span",{className:"text-xs text-white/30",children:l})]}),(0,P.jsx)("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:(0,P.jsx)("div",{className:"h-full bg-accent/60 rounded-full transition-all",style:{width:"".concat(l/s.topGenres[0][1]*100,"%")}})})]})]},a)})}):(0,P.jsx)("p",{className:"text-sm text-white/30",children:"Add items with genres to see breakdown"})]})]}),s.topRated.length>0&&(0,P.jsxs)("div",{className:"glass rounded-2xl p-5",children:[(0,P.jsxs)("h3",{className:"text-sm font-semibold text-white/40 mb-4 flex items-center gap-2",children:[(0,P.jsx)(b.A,{size:14,className:"text-gold"})," Your Highest Rated"]}),(0,P.jsx)("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide",children:s.topRated.map((e,t)=>(0,P.jsxs)("div",{className:"flex items-center gap-3 min-w-[200px]",children:[(0,P.jsxs)("span",{className:"text-2xl font-black text-white/10",children:["#",t+1]}),e.poster_path&&(0,P.jsx)("img",{src:e.poster_path,alt:"",className:"w-10 h-14 rounded-lg object-cover"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"text-sm font-semibold truncate max-w-[120px]",children:e.title}),(0,P.jsxs)("p",{className:"text-xs text-gold font-bold",children:[e.user_rating,"/10"]})]})]},e.id))})]})]})}function T(e){let{icon:t,label:s,value:a,color:l}=e;return(0,P.jsxs)("div",{className:"glass rounded-2xl p-4 flex items-center gap-3",children:[(0,P.jsx)(t,{size:20,className:l}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"text-2xl font-black",children:a}),(0,P.jsx)("p",{className:"text-xs text-white/40",children:s})]})]})}function I(e){let{items:t,navigate:s}=e;const[i,n]=(0,l.useState)([]),[c,o]=(0,l.useState)([]),[d,x]=(0,l.useState)(null),[h,m]=(0,l.useState)(!0),[p,u]=(0,l.useState)(!1),[b,g]=(0,l.useState)([]),[M,S]=(0,l.useState)("all"),[z,C]=(0,l.useState)(!0),[F,q]=(0,l.useState)(""),[T,I]=(0,l.useState)([]),[G,Y]=(0,l.useState)(!1),[B,E]=(0,l.useState)(""),H=(0,R.d)(),{user:O}=(0,D.A)(),L=[{key:"light",label:"Something Light",icon:v,color:"text-yellow-400",desc:"Comedy, family, feel-good"},{key:"dark",label:"Dark & Intense",icon:y,color:"text-red-400",desc:"Action, thriller, horror"},{key:"mind",label:"Mind-Bending",icon:f,color:"text-purple-400",desc:"Sci-fi, mystery, fantasy"},{key:"feel",label:"Feel Good",icon:w.A,color:"text-pink-400",desc:"Romance, drama, heartfelt"},{key:"adventure",label:"Adventure",icon:j.A,color:"text-emerald-400",desc:"Epic journeys & quests"},{key:"chill",label:"Chill & Learn",icon:k,color:"text-sky-400",desc:"Docs, history, reality"}];(0,l.useEffect)(()=>{t.length>0?(m(!0),(0,r.ai)(t).then(e=>{n(e),m(!1)})):m(!1)},[t]),(0,l.useEffect)(()=>{C(!0),(0,r.f2)(M).then(e=>{const s=new Set(t.map(e=>String(e.tmdb_id)));g(e.filter(e=>!s.has(String(e.id))).slice(0,20)),C(!1)})},[M,t]);const U=async e=>{if(!O)return H("Please log in first","error");const t=e.title||e.name;try{await(0,r.w7)({tmdb_id:e.id,media_type:e.media_type||"movie",title:t,poster_path:e.poster_path?"".concat(W).concat(e.poster_path):null,overview:e.overview||"",external_rating:e.vote_average||null,genres:e.genre_ids?e.genre_ids.join(","):"",release_date:e.release_date||e.first_air_date||""}),H('Added "'.concat(t,'" to your library!'),"success")}catch(s){H("Already in your library"===(null===s||void 0===s?void 0:s.message)?'"'.concat(t,'" is already in your library'):"Could not add","error")}},Z=e=>s("/details/".concat(e.media_type||"movie","/").concat(e.id)),J=()=>(0,P.jsx)("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",children:[...Array(6)].map((e,t)=>(0,P.jsx)("div",{className:"min-w-[160px] aspect-[2/3] rounded-2xl bg-dark-700 animate-pulse"},t))});return(0,P.jsxs)("div",{className:"space-y-10",children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)("h2",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[(0,P.jsx)(N.A,{size:20,className:"text-accent"}),"What Are You In The Mood For?"]}),(0,P.jsx)("p",{className:"text-sm text-white/40 mb-4",children:"Describe what you're looking for and we'll find the perfect pick"}),(0,P.jsxs)("form",{onSubmit:async e=>{null===e||void 0===e||e.preventDefault();const s=F.trim();if(!s)return;Y(!0),E(s);const a=await(0,r.aP)(s),l=new Set(t.map(e=>String(e.tmdb_id)));I(a.filter(e=>!l.has(String(e.id)))),Y(!1)},className:"flex gap-2 mb-3",children:[(0,P.jsxs)("div",{className:"flex-1 relative",children:[(0,P.jsx)(N.A,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-white/30"}),(0,P.jsx)("input",{type:"text",value:F,onChange:e=>q(e.target.value),placeholder:"e.g. date night, family film, something mind-bending...",className:"input-field pl-10 w-full"})]}),(0,P.jsxs)("button",{type:"submit",disabled:G||!F.trim(),className:"btn-primary px-5 flex items-center gap-2 whitespace-nowrap disabled:opacity-40",children:[(0,P.jsx)(A.A,{size:16}),"Find"]})]}),(0,P.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:["Date night movie","Family film for the weekend","Something to take my mind off things","Feel good comedy","Mind-bending sci-fi","True story drama","Heist thriller"].map(e=>(0,P.jsx)("button",{onClick:()=>{q(e)},className:"text-xs px-3 py-1.5 rounded-full border border-white/10 text-white/40 hover:text-white hover:border-white/20 transition-all",children:e},e))}),G?(0,P.jsx)(J,{}):T.length>0?(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{className:"text-xs text-white/30 mb-3",children:['Results for "',(0,P.jsx)("span",{className:"text-white/60",children:B}),'"']}),(0,P.jsx)("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",children:T.map(e=>(0,P.jsx)(V,{item:e,onClick:()=>Z(e),onAdd:()=>U(e)},"".concat(e.media_type,"-").concat(e.id)))})]}):B?(0,P.jsx)("p",{className:"text-sm text-white/30 text-center py-4",children:"No results \u2014 try describing it differently!"}):null]}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("h2",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[(0,P.jsx)(_,{size:20,className:"text-orange-400"}),"Must Watch"]}),(0,P.jsx)("p",{className:"text-sm text-white/40 mb-4",children:"Highly-rated films loved by critics and audiences \u2014 all 6+ on IMDB"}),(0,P.jsx)("div",{className:"flex gap-1.5 overflow-x-auto scrollbar-hide pb-2 mb-4",children:[{key:"all",label:"All"},{key:"action",label:"Action"},{key:"comedy",label:"Comedy"},{key:"drama",label:"Drama"},{key:"scifi",label:"Sci-Fi"},{key:"thriller",label:"Thriller"},{key:"romance",label:"Romance"},{key:"horror",label:"Horror"},{key:"animation",label:"Animation"},{key:"documentary",label:"Docs"}].map(e=>(0,P.jsx)("button",{onClick:()=>S(e.key),className:"px-3.5 py-1.5 rounded-lg text-xs font-medium border whitespace-nowrap transition-all ".concat(M===e.key?"bg-accent border-accent text-white":"border-white/10 text-white/40 hover:text-white hover:border-white/20"),children:e.label},e.key))}),z?(0,P.jsx)(J,{}):b.length>0?(0,P.jsx)("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",children:b.map(e=>(0,P.jsx)(V,{item:(0,a.A)((0,a.A)({},e),{},{media_type:"movie"}),onClick:()=>s("/details/movie/".concat(e.id)),onAdd:()=>U((0,a.A)((0,a.A)({},e),{},{media_type:"movie"}))},"curated-".concat(e.id)))}):(0,P.jsx)("p",{className:"text-sm text-white/30 text-center py-6",children:"No picks found for this genre"})]}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("h2",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[(0,P.jsx)(A.A,{size:20,className:"text-accent"}),"Recommended For You"]}),(0,P.jsx)("p",{className:"text-sm text-white/40 mb-5",children:"Based on your highest-rated and currently watching"}),h?(0,P.jsx)(J,{}):i.length>0?(0,P.jsx)("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",children:i.map(e=>(0,P.jsx)(V,{item:e,onClick:()=>Z(e),onAdd:()=>U(e)},"".concat(e.media_type,"-").concat(e.id)))}):(0,P.jsxs)("div",{className:"glass rounded-2xl p-8 text-center",children:[(0,P.jsx)(A.A,{size:32,className:"text-white/20 mx-auto mb-3"}),(0,P.jsx)("p",{className:"text-white/50 text-sm",children:"Finish and rate some items to get personalized picks"})]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h2",{className:"text-xl font-bold mb-1",children:"Switch It Up"}),(0,P.jsx)("p",{className:"text-sm text-white/40 mb-5",children:"Pick a vibe and discover something new"}),(0,P.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:L.map(e=>(0,P.jsxs)("button",{onClick:()=>(async e=>{x(e),u(!0);const[s,l]=await Promise.all([(0,r.I1)(e,"movie"),(0,r.I1)(e,"tv")]),i=[...s.map(e=>(0,a.A)((0,a.A)({},e),{},{media_type:"movie"})),...l.map(e=>(0,a.A)((0,a.A)({},e),{},{media_type:"tv"}))].sort((e,t)=>(t.vote_average||0)-(e.vote_average||0)),n=new Set(t.map(e=>String(e.tmdb_id)));o(i.filter(e=>!n.has(String(e.id))).slice(0,20)),u(!1)})(e.key),className:"glass rounded-2xl p-4 text-left transition-all duration-200 hover:scale-[1.02] ".concat(d===e.key?"border-accent/50 bg-accent/10":"hover:border-white/20"),children:[(0,P.jsx)(e.icon,{size:24,className:"".concat(e.color," mb-2")}),(0,P.jsx)("p",{className:"text-sm font-semibold",children:e.label}),(0,P.jsx)("p",{className:"text-[10px] text-white/30 mt-0.5",children:e.desc})]},e.key))}),p?(0,P.jsx)(J,{}):c.length>0?(0,P.jsx)("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2",children:c.map(e=>(0,P.jsx)(V,{item:e,onClick:()=>Z(e),onAdd:()=>U(e)},"".concat(e.media_type,"-").concat(e.id)))}):d?(0,P.jsx)("p",{className:"text-sm text-white/30 text-center py-8",children:"No picks found \u2014 try another mood!"}):null]})]})}function V(e){var t;let{item:s,onClick:a,onAdd:l}=e;const i=s.title||s.name;return(0,P.jsxs)("div",{className:"min-w-[160px] max-w-[160px] group relative rounded-2xl overflow-hidden bg-dark-700/50 border border-white/5 cursor-pointer transition-all duration-300 hover:-translate-y-1 hover:border-white/10 shrink-0",onClick:a,children:[s.poster_path?(0,P.jsx)("img",{src:null!==(t=s.poster_path)&&void 0!==t&&t.startsWith("http")?s.poster_path:"".concat(W).concat(s.poster_path),alt:i,loading:"lazy",className:"w-full aspect-[2/3] object-cover"}):(0,P.jsx)("div",{className:"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-3 text-center",children:i}),s.vote_average>0&&(0,P.jsxs)("div",{className:"absolute top-2 right-2 bg-black/70 backdrop-blur-md rounded-lg px-1.5 py-0.5 flex items-center gap-1 text-xs font-semibold",children:[(0,P.jsx)(p.A,{size:12,className:"text-gold fill-gold"}),Number(s.vote_average).toFixed(1)]}),s._source&&(0,P.jsxs)("div",{className:"absolute top-2 left-2 bg-accent/80 backdrop-blur-md rounded-lg px-1.5 py-0.5 text-[9px] font-medium max-w-[100px] truncate",children:["\u2235 ",s._source]}),(0,P.jsx)("button",{onClick:e=>{e.stopPropagation(),l()},className:"absolute bottom-14 right-2 w-8 h-8 rounded-full bg-accent text-white flex items-center justify-center opacity-0 scale-75 group-hover:opacity-100 group-hover:scale-100 transition-all duration-200",children:(0,P.jsx)(M.A,{size:16})}),(0,P.jsxs)("div",{className:"p-2.5",children:[(0,P.jsx)("p",{className:"text-xs font-semibold truncate",children:i}),(0,P.jsx)("p",{className:"text-[10px] text-white/30 capitalize",children:s.media_type})]})]})}const G=function(){const[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)("all"),[x,h]=(0,l.useState)("all"),[m,u]=(0,l.useState)("added"),[b,g]=(0,l.useState)("desc"),[v,y]=(0,l.useState)(!0),[f,w]=(0,l.useState)(null),[j,k]=(0,l.useState)(""),[N,_]=(0,l.useState)(0),[M,D]=(0,l.useState)("watching"),[W,T]=(0,l.useState)("shelf"),V=(0,R.d)(),G=(0,i.Zp)(),Y=(0,l.useCallback)(async()=>{const e=await(0,r.G9)();t(e),y(!1)},[]);(0,l.useEffect)(()=>{Y()},[Y]);const B=(0,l.useMemo)(()=>{let t=[...e];return"all"!==x&&(t=t.filter(e=>e.media_type===x)),"all"!==s&&(t=t.filter(e=>e.status===s)),t.sort((e,t)=>{let s=0;switch(m){case"added":s=new Date(e.added_at)-new Date(t.added_at);break;case"rating":s=(e.user_rating||0)-(t.user_rating||0);break;case"external":s=(e.external_rating||0)-(t.external_rating||0);break;case"title":s=(e.title||"").localeCompare(t.title||"");break;default:s=0}return"desc"===b?-s:s}),t},[e,x,s,m,b]);if(v)return(0,P.jsx)("div",{className:"flex justify-center py-20",children:(0,P.jsx)("div",{className:"w-8 h-8 border-2 border-dark-500 border-t-accent rounded-full animate-spin"})});const E=[{key:"shelf",label:"My Shelf",icon:n.A},{key:"foryou",label:"For You",icon:A.A},{key:"stats",label:"Stats",icon:S}];return(0,P.jsxs)("div",{children:[(0,P.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"My Library"}),(0,P.jsx)("div",{className:"flex gap-1 mb-8 bg-dark-700/50 rounded-2xl p-1 w-fit",children:E.map(e=>(0,P.jsxs)("button",{onClick:()=>T(e.key),className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ".concat(W===e.key?"bg-accent text-white shadow-lg shadow-accent/20":"text-white/40 hover:text-white/70"),children:[(0,P.jsx)(e.icon,{size:16}),e.label]},e.key))}),"shelf"===W&&(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[(0,P.jsx)("div",{className:"flex gap-1.5",children:Object.entries({all:"All",movie:"Movies",tv:"TV Shows",book:"Books"}).map(e=>{let[t,s]=e;return(0,P.jsx)("button",{onClick:()=>h(t),className:"px-3 py-1.5 rounded-lg text-xs font-medium border transition-all ".concat(x===t?"bg-accent border-accent text-white":"border-white/10 text-white/40 hover:text-white"),children:s},t)})}),(0,P.jsx)("div",{className:"w-px h-6 bg-white/10 hidden sm:block"}),(0,P.jsx)("div",{className:"flex gap-1.5",children:Object.entries({all:"All",want:"Wishlist",watching:"In Progress",finished:"Finished"}).map(e=>{let[t,l]=e;return(0,P.jsx)("button",{onClick:()=>a(t),className:"px-3 py-1.5 rounded-lg text-xs font-medium border transition-all ".concat(s===t?"bg-white/10 border-white/20 text-white":"border-white/5 text-white/30 hover:text-white/60"),children:l},t)})})]}),(0,P.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,P.jsx)(z,{size:14,className:"text-white/30"}),(0,P.jsx)("span",{className:"text-xs text-white/30",children:"Sort:"}),Object.entries({added:"Date Added",rating:"Your Rating",external:"Score",title:"Title"}).map(e=>{let[t,s]=e;return(0,P.jsxs)("button",{onClick:()=>{var e;m===(e=t)?g(e=>"desc"===e?"asc":"desc"):(u(e),g("desc"))},className:"px-2.5 py-1 rounded-lg text-xs transition-all ".concat(m===t?"bg-white/10 text-white font-medium":"text-white/30 hover:text-white/60"),children:[s," ",m===t&&("desc"===b?"\u2193":"\u2191")]},t)})]}),0===B.length?(0,P.jsxs)("div",{className:"text-center py-20 text-white/40",children:[(0,P.jsx)(n.A,{size:40,className:"mx-auto mb-3 text-white/10"}),(0,P.jsx)("h3",{className:"text-lg font-medium text-white/60 mb-2",children:"Nothing here yet"}),(0,P.jsx)("p",{className:"text-sm",children:"Browse movies, TV shows, or books and add them to your library"})]}):(0,P.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:B.map(t=>(0,P.jsxs)("div",{className:"group relative rounded-2xl overflow-hidden bg-dark-700/50 border border-white/5 transition-all duration-300 hover:border-white/10 hover:-translate-y-1 cursor-pointer",onClick:()=>(e=>{if("book"===e.media_type){var t;const s=(null===(t=e.openlibrary_key)||void 0===t?void 0:t.replace("/works/",""))||"";s&&G("/details/book/".concat(s))}else G("/details/".concat(e.media_type,"/").concat(e.tmdb_id))})(t),children:[t.poster_path?(0,P.jsx)("img",{src:t.poster_path,alt:t.title,loading:"lazy",className:"w-full aspect-[2/3] object-cover"}):(0,P.jsx)("div",{className:"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-4 text-center",children:t.title}),t.external_rating>0&&(0,P.jsxs)("div",{className:"absolute top-2.5 right-2.5 bg-black/60 backdrop-blur-md rounded-lg px-1.5 py-0.5 flex items-center gap-1 text-xs font-semibold",children:[(0,P.jsx)(p.A,{size:12,className:"text-gold fill-gold"}),Number(t.external_rating).toFixed(1)]}),t.user_rating>0&&(0,P.jsxs)("div",{className:"absolute top-2.5 left-2.5 bg-accent/80 backdrop-blur-md rounded-lg px-1.5 py-0.5 text-xs font-bold",children:[Number(t.user_rating)%1===0?t.user_rating:Number(t.user_rating).toFixed(1),"/10"]}),(0,P.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20 opacity-0 group-hover:opacity-100 transition-all duration-200 flex flex-col justify-end",children:[(0,P.jsx)("div",{className:"flex gap-1.5 px-2.5 mb-2",children:[{key:"want",icon:d.A,label:"Wishlist",activeClass:"bg-purple-500 text-white"},{key:"watching",icon:o.A,label:"Watching",activeClass:"bg-blue-500 text-white"},{key:"finished",icon:c.A,label:"Done",activeClass:"bg-green-500 text-white"}].map(s=>(0,P.jsxs)("button",{onClick:a=>{a.stopPropagation(),(async(t,s)=>{try{await(0,r.AD)(t,{status:s});const a=e.find(e=>e.id===t);V('"'.concat(null===a||void 0===a?void 0:a.title,'" \u2192 ').concat("want"===s?"Wishlist":"watching"===s?"In Progress":"Finished"),"info"),Y()}catch(a){console.error("Status update failed:",a),V((null===a||void 0===a?void 0:a.message)||"Failed to update status","error")}})(t.id,s.key)},className:"flex-1 py-1.5 rounded-lg text-[10px] font-semibold flex items-center justify-center gap-1 transition-all ".concat(t.status===s.key?s.activeClass:"bg-white/10 text-white/60 hover:bg-white/20 hover:text-white"),children:[(0,P.jsx)(s.icon,{size:13}),s.label]},s.key))}),(0,P.jsxs)("div",{className:"flex gap-1.5 px-2.5 mb-2.5",children:[(0,P.jsxs)("button",{onClick:e=>{e.stopPropagation(),(e=>{w(e),k(e.review||""),_(e.user_rating||0),D(e.status||"watching")})(t)},className:"flex-1 py-2 rounded-lg bg-accent/80 hover:bg-accent text-white text-xs font-medium flex items-center justify-center gap-1.5 transition-colors",children:[(0,P.jsx)(p.A,{size:14})," Rate"]}),(0,P.jsx)("button",{onClick:s=>{s.stopPropagation(),(async t=>{const s=e.find(e=>e.id===t);try{await(0,r.O4)(t),V('Removed "'.concat((null===s||void 0===s?void 0:s.title)||"item",'" from library'),"success"),Y()}catch(a){console.error("Remove failed:",a),V((null===a||void 0===a?void 0:a.message)||"Failed to remove \u2014 try again","error")}})(t.id)},className:"py-2 px-3 rounded-lg bg-white/10 hover:bg-red-500/80 text-white/60 hover:text-white text-xs transition-colors",children:(0,P.jsx)(C.A,{size:14})})]})]}),(0,P.jsx)("div",{className:"absolute top-2.5 left-2.5 flex items-center gap-1 px-2 py-0.5 rounded-lg text-[10px] font-bold backdrop-blur-md ".concat("finished"===t.status?"bg-green-500/80 text-white":"watching"===t.status?"bg-blue-500/80 text-white":"bg-purple-500/80 text-white"," ").concat(t.user_rating>0?"top-9":""),children:"want"===t.status?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.A,{size:12})," Wishlist"]}):"watching"===t.status?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.A,{size:12})," Watching"]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(c.A,{size:12})," Done"]})}),(0,P.jsxs)("div",{className:"p-3",children:[(0,P.jsx)("p",{className:"text-sm font-semibold truncate",children:t.title}),t.review&&(0,P.jsxs)("p",{className:"text-xs text-white/30 mt-1.5 line-clamp-2 italic",children:['"',t.review,'"']})]})]},t.id))})]}),"foryou"===W&&(0,P.jsx)(I,{items:e,navigate:G}),"stats"===W&&(0,P.jsx)(q,{items:e}),f&&(0,P.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>w(null),children:(0,P.jsxs)("div",{className:"glass rounded-2xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,P.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,P.jsx)("h3",{className:"text-lg font-semibold",children:"Rate & Review"}),(0,P.jsx)("button",{onClick:()=>w(null),className:"text-white/40 hover:text-white transition-colors",children:(0,P.jsx)(F.A,{size:20})})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[f.poster_path&&(0,P.jsx)("img",{src:f.poster_path,alt:"",className:"w-12 h-16 rounded-lg object-cover"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"font-semibold",children:f.title}),(0,P.jsx)("p",{className:"text-xs text-white/40 capitalize",children:f.media_type})]})]}),(0,P.jsxs)("div",{className:"mb-5",children:[(0,P.jsx)("label",{className:"text-xs text-white/40 block mb-2",children:"Status"}),(0,P.jsx)("div",{className:"flex gap-2",children:[{key:"want",icon:d.A,label:"Wishlist",active:"bg-purple-500 border-purple-400 text-white"},{key:"watching",icon:o.A,label:"In Progress",active:"bg-blue-500 border-blue-400 text-white"},{key:"finished",icon:c.A,label:"Finished",active:"bg-green-500 border-green-400 text-white"}].map(e=>(0,P.jsxs)("button",{onClick:()=>D(e.key),className:"flex-1 py-2.5 rounded-xl text-xs font-semibold border flex items-center justify-center gap-1.5 transition-all duration-200 ".concat(M===e.key?e.active:"border-white/10 text-white/40 hover:border-white/20 hover:text-white/70"),children:[(0,P.jsx)(e.icon,{size:14}),e.label]},e.key))})]}),(0,P.jsxs)("div",{className:"mb-5",children:[(0,P.jsx)("label",{className:"text-xs text-white/40 block mb-3",children:"Your Rating"}),(0,P.jsxs)("div",{className:"text-center mb-4",children:[(0,P.jsx)("span",{className:"text-5xl font-black bg-gradient-to-r ".concat(N>0?(H=N,H<=3?"from-red-500 to-red-600":H<=5?"from-orange-500 to-amber-500":H<=7?"from-yellow-500 to-lime-500":H<=9?"from-green-400 to-emerald-500":"from-emerald-400 to-cyan-400"):"from-white/20 to-white/20"," bg-clip-text text-transparent"),children:N>0?Number(N)%1===0?"".concat(N,".0"):Number(N).toFixed(1):"\u2014"}),(0,P.jsx)("span",{className:"text-white/20 text-lg ml-1",children:"/10"}),N>0&&(0,P.jsx)("p",{className:"text-xs text-white/40 mt-1",children:(e=>e&&0!==e?e<=2?"Terrible":e<=4?"Not great":e<=5?"Okay":e<=6.5?"Decent":e<=7.5?"Good":e<=8.5?"Great":e<=9.5?"Amazing":"Masterpiece":"")(N)})]}),(0,P.jsxs)("div",{className:"relative px-1",children:[(0,P.jsx)("input",{type:"range",min:"0",max:"10",step:"0.1",value:N,onChange:e=>_(parseFloat(e.target.value)),className:"w-full h-2 rounded-full appearance-none cursor-pointer bg-dark-600 accent-accent [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:shadow-accent/30 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-white/20 [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:hover:scale-110"}),(0,P.jsxs)("div",{className:"flex justify-between mt-1.5 px-0.5",children:[(0,P.jsx)("span",{className:"text-[10px] text-white/20",children:"0"}),(0,P.jsx)("span",{className:"text-[10px] text-white/20",children:"5"}),(0,P.jsx)("span",{className:"text-[10px] text-white/20",children:"10"})]})]}),(0,P.jsx)("div",{className:"flex gap-1 mt-3",children:[5,6,7,7.5,8,8.5,9,9.5,10].map(e=>(0,P.jsx)("button",{onClick:()=>_(e),className:"flex-1 py-1.5 rounded-lg text-[10px] font-bold transition-all ".concat(N===e?"bg-accent text-white":"bg-dark-600 text-white/30 hover:bg-dark-500 hover:text-white/60"),children:e},e))})]}),(0,P.jsxs)("div",{className:"mb-6",children:[(0,P.jsx)("label",{className:"text-xs text-white/40 block mb-2",children:"Your Thoughts (optional)"}),(0,P.jsx)("textarea",{value:j,onChange:e=>k(e.target.value),placeholder:"What did you think? No spoilers...",rows:3,className:"input-field resize-none"})]}),(0,P.jsxs)("div",{className:"flex gap-2",children:[N>0&&(0,P.jsx)("button",{onClick:()=>{_(0),k("")},className:"btn-secondary flex-1",children:"Clear"}),(0,P.jsx)("button",{onClick:async()=>{try{await(0,r.AD)(f.id,{user_rating:N||null,review:j,status:M}),V("Saved!","success"),w(null),Y()}catch(e){console.error("Save failed:",e),V("Failed to save \u2014 please try again","error")}},className:"btn-primary flex-1",children:"Save"})]})]})})]});var H}},5347(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},5088(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5087(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4918(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},1360(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9292(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6099(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},9855(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},4919(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])}}]);
//# sourceMappingURL=745.a7e39412.chunk.js.map