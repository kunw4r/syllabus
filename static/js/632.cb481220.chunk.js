/*! For license information please see 632.cb481220.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksyllabus_client=self.webpackChunksyllabus_client||[]).push([[632],{7655(e,t,s){s.d(t,{A:()=>n});var a=s(5043),i=s(2626),r=s(579);function l(e){let{urls:t=[],alt:s="",className:l="",children:n}=e;const[o,c]=(0,a.useState)(0),[d,h]=(0,a.useState)(!1),m=t[0]||"";(0,a.useEffect)(()=>{c(0),h(!1)},[m]);const x=()=>{c(e=>{const s=e+1;return s>=t.length?(h(!0),e):s})};return d||0===t.length?null!==n&&void 0!==n?n:(0,r.jsx)("div",{className:"".concat(l," bg-dark-600 flex flex-col items-center justify-center"),children:(0,r.jsx)(i.A,{size:20,className:"text-white/15"})}):(0,r.jsx)("img",{src:t[o],alt:s,className:l,loading:"lazy",decoding:"async",onError:x,onLoad:e=>{e.target.naturalWidth<=1&&x()}},t[o])}const n=a.memo(l)},2353(e,t,s){s.d(t,{A:()=>x});var a=s(5043),i=s(3216),r=s(1360),l=s(3944),n=s(7655),o=s(1207),c=s(8729),d=s(7694),h=s(579);function m(e){var t,s,m;let{item:x,mediaType:u="movie"}=e;const p=(0,i.Zp)(),{user:b}=(0,c.A)(),v=(0,d.d)(),g=x.title||x.name,f=x.poster_path?x.poster_path.startsWith("http")?x.poster_path:"".concat("https://image.tmdb.org/t/p/w342").concat(x.poster_path):null,j=(x.release_date||x.first_air_date||x.first_publish_year||"").toString().slice(0,4),y=x.media_type||u,k="book"!==y?(0,o.yN)(y,x.id):null,w=null!==(t=null!==(s=null!==(m=x.unified_rating)&&void 0!==m?m:k)&&void 0!==s?s:x.vote_average)&&void 0!==t?t:x.rating,[N,A]=(0,a.useState)(!1),_="book"===y;return(0,h.jsxs)("div",{className:"group relative rounded-2xl overflow-hidden bg-dark-700/50 border border-white/5 cursor-pointer transition-all duration-300 hover:-translate-y-1.5 hover:shadow-[0_8px_30px_rgba(233,69,96,0.12)] hover:border-white/10",onClick:()=>{if("book"===y){let e=x.key||"";return e.startsWith("/works/")&&(e=e.replace("/works/","")),void(e&&p("/details/book/".concat(e)))}const e=x.id||x.tmdb_id;p("/details/".concat(y,"/").concat(e))},children:[_?(0,h.jsx)(n.A,{urls:x.cover_urls||(f?[f]:[]),alt:g,className:"w-full aspect-[2/3] object-cover",children:(0,h.jsx)("div",{className:"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-4 text-center",children:g})}):f&&!N?(0,h.jsx)("img",{src:f,alt:g,loading:"lazy",className:"w-full aspect-[2/3] object-cover",onError:()=>A(!0),onLoad:e=>{e.target.naturalWidth<=1&&A(!0)}}):(0,h.jsx)("div",{className:"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-4 text-center",children:g}),w>0&&(0,h.jsxs)("div",{className:"absolute top-3 right-3 bg-black/70 backdrop-blur-md rounded-lg px-2 py-1 flex items-center gap-1 text-xs font-semibold",children:[(0,h.jsx)(l.A,{size:13,className:"text-gold fill-gold"}),Number(w).toFixed(1)]}),(0,h.jsx)("button",{onClick:async e=>{if(e.stopPropagation(),!b)return v("Please log in first","error");try{await(0,o.w7)({tmdb_id:"book"!==y?x.id:null,openlibrary_key:"book"===y?x.key:null,media_type:y,title:g,poster_path:f,overview:x.overview||"",external_rating:w||null,genres:x.genre_ids?x.genre_ids.join(","):"",release_date:x.release_date||x.first_air_date||""}),v('Added "'.concat(g,'" to your library!'),"success")}catch(t){v("Already in your library"===(null===t||void 0===t?void 0:t.message)?'"'.concat(g,'" is already in your library'):"Could not add to library","error")}},title:"Add to library",className:"absolute bottom-16 right-3 w-9 h-9 rounded-full bg-accent text-white flex items-center justify-center opacity-0 scale-75 group-hover:opacity-100 group-hover:scale-100 transition-all duration-200 hover:bg-accent-hover",children:(0,h.jsx)(r.A,{size:18})}),(0,h.jsxs)("div",{className:"p-3",children:[(0,h.jsx)("p",{className:"text-sm font-semibold truncate",children:g}),(0,h.jsxs)("p",{className:"text-xs text-white/40 mt-1",children:[j,"book"===y&&x.author?" \xb7 ".concat(x.author):""]})]})]})}const x=a.memo(m)},7893(e,t,s){s.d(t,{A:()=>o});var a=s(5043),i=s(9463);const r=(0,s(1212).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var l=s(579);function n(e){let{title:t,children:s,className:n=""}=e;const o=(0,a.useRef)(null),c=e=>{var t;return null===(t=o.current)||void 0===t?void 0:t.scrollBy({left:400*e,behavior:"smooth"})};return(0,l.jsxs)("div",{className:"mb-10 group/row min-w-0 ".concat(n),children:[(0,l.jsx)("h2",{className:"text-[15px] font-semibold text-white/80 mb-4 uppercase tracking-wide",children:t}),(0,l.jsxs)("div",{className:"relative min-w-0",children:[(0,l.jsx)("button",{onClick:()=>c(-1),className:"absolute left-0 top-0 bottom-6 z-10 w-10 bg-gradient-to-r from-dark-900 to-transparent opacity-0 group-hover/row:opacity-100 transition-opacity items-center justify-center hidden sm:flex",children:(0,l.jsx)(i.A,{size:20})}),(0,l.jsx)("div",{ref:o,className:"flex gap-3 overflow-x-auto overflow-y-hidden pb-2 scrollbar-hide scroll-smooth -mx-4 px-4 sm:mx-0 sm:px-0",children:s}),(0,l.jsx)("button",{onClick:()=>c(1),className:"absolute right-0 top-0 bottom-6 z-10 w-10 bg-gradient-to-l from-dark-900 to-transparent opacity-0 group-hover/row:opacity-100 transition-opacity items-center justify-center hidden sm:flex",children:(0,l.jsx)(r,{size:20})})]})]})}const o=a.memo(n)},1540(e,t,s){s.d(t,{A6:()=>r,eP:()=>l});s(5043);var a=s(579);function i(){return(0,a.jsxs)("div",{className:"flex-shrink-0 w-[140px] sm:w-[160px] animate-pulse",children:[(0,a.jsx)("div",{className:"bg-dark-700 rounded-lg aspect-[2/3] w-full mb-2"}),(0,a.jsx)("div",{className:"bg-dark-700 rounded h-3 w-3/4 mb-1"}),(0,a.jsx)("div",{className:"bg-dark-700 rounded h-3 w-1/2"})]})}function r(e){let{title:t}=e;return(0,a.jsxs)("div",{className:"mb-8",children:[t&&(0,a.jsx)("div",{className:"bg-dark-700 rounded h-5 w-40 mb-4 animate-pulse"}),(0,a.jsx)("div",{className:"flex gap-4 overflow-hidden",children:Array.from({length:8}).map((e,t)=>(0,a.jsx)(i,{},t))})]})}function l(){return(0,a.jsx)("div",{className:"relative h-[50vh] sm:h-[60vh] rounded-xl overflow-hidden mb-8 animate-pulse bg-dark-700",children:(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 p-6 sm:p-10 space-y-3 w-full",children:[(0,a.jsx)("div",{className:"bg-dark-600 rounded h-8 w-1/3"}),(0,a.jsx)("div",{className:"bg-dark-600 rounded h-4 w-2/3"}),(0,a.jsx)("div",{className:"bg-dark-600 rounded h-4 w-1/2"})]})})}},9632(e,t,s){s.r(t),s.d(t,{default:()=>v});var a=s(5043),i=s(3216),r=s(9869),l=s(4919),n=s(7170),o=s(2353),c=s(7893),d=s(1540),h=s(9292),m=s(579);const x=function(e){let{onSearch:t,placeholder:s="Search movies, TV shows, books..."}=e;const[i,r]=(0,a.useState)("");return(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&t(i.trim())},className:"flex items-center gap-3 max-w-lg mb-8",children:[(0,m.jsxs)("div",{className:"glass rounded-xl px-4 py-3 flex items-center gap-3 flex-1",children:[(0,m.jsx)(h.A,{size:18,className:"text-white/30 shrink-0"}),(0,m.jsx)("input",{type:"text",value:i,onChange:e=>r(e.target.value),placeholder:s,className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-100 placeholder-white/30"})]}),(0,m.jsxs)("button",{type:"submit",className:"bg-accent hover:bg-accent-hover text-white text-sm font-medium px-4 py-3 rounded-xl transition-colors flex items-center gap-2",children:[(0,m.jsx)(h.A,{size:14})," Search"]})]})};var u=s(8729),p=s(1207);function b(e){let{item:t,onClick:s}=e;return(0,m.jsxs)("div",{className:"rounded-2xl overflow-hidden bg-dark-700/50 border border-white/5 cursor-pointer hover:-translate-y-1 transition-transform duration-300",onClick:s,children:[t.poster_path?(0,m.jsx)("img",{src:t.poster_path,alt:t.title,className:"w-full aspect-[2/3] object-cover",loading:"lazy"}):(0,m.jsx)("div",{className:"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-2 text-center",children:t.title}),(0,m.jsxs)("div",{className:"p-2",children:[(0,m.jsx)("p",{className:"text-xs font-medium truncate",children:t.title}),t.user_rating&&(0,m.jsxs)("p",{className:"text-[10px] text-accent mt-0.5",children:[t.user_rating,"/10"]})]})]})}const v=function(){const{user:e}=(0,u.A)(),t=(0,i.Zp)(),[s,h]=(0,a.useState)([]),[v,g]=(0,a.useState)([]),[f,j]=(0,a.useState)([]),[y,k]=(0,a.useState)(null),[w,N]=(0,a.useState)([]),[A,_]=(0,a.useState)([]),[S,z]=(0,a.useState)(!1),[M,C]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{!async function(){try{const t=[(0,p.Nt)(),(0,p.eS)()];e&&t.push((0,p.G9)());const s=await Promise.all(t);if(h(s[0].slice(0,20)),g(s[1].slice(0,20)),z(!0),e&&s[2]){N(s[2]);const e=new Set;if(s[2].forEach(t=>{t.genres&&t.genres.split(",").forEach(t=>{const s=Number(t.trim());s&&e.add(s)})}),e.size>0){const t=[...e].slice(0,3),a=await Promise.all(t.map(e=>(0,p.c0)(e))),i=new Set(s[2].map(e=>e.tmdb_id));_(a.flat().filter(e=>!i.has(e.id)).slice(0,20))}}const a=await(0,p.e8)();j(a.slice(0,20)),C(!0)}catch(t){console.error(t),z(!0)}}()},[e]),!S)return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"mb-10",children:[(0,m.jsx)("div",{className:"bg-dark-700 rounded h-8 w-48 mb-2 animate-pulse"}),(0,m.jsx)("div",{className:"bg-dark-700 rounded h-4 w-72 animate-pulse"})]}),(0,m.jsx)(d.A6,{title:!0}),(0,m.jsx)(d.A6,{title:!0}),(0,m.jsx)(d.A6,{title:!0})]});const T=w.filter(e=>"watching"===e.status),E=w.filter(e=>"want"===e.status),F=w.filter(e=>"finished"===e.status);return(0,m.jsxs)("div",{children:[e?(0,m.jsxs)("div",{className:"mb-10",children:[(0,m.jsx)("h1",{className:"text-3xl font-bold mb-1",children:(()=>{const e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"})()}),(0,m.jsx)("p",{className:"text-white/40 text-sm",children:"Here's what's happening in your world."}),(0,m.jsx)("div",{className:"flex gap-3 mt-6 flex-wrap",children:[{icon:r.A,label:"In Library",value:w.length,color:"text-accent"},{icon:l.A,label:"In Progress",value:T.length,color:"text-blue-400"},{icon:n.A,label:"Finished",value:F.length,color:"text-green-400"}].map(e=>(0,m.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.06] rounded-2xl px-5 py-4 flex items-center gap-4 min-w-[140px]",children:[(0,m.jsx)(e.icon,{size:20,className:e.color}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-2xl font-bold",children:e.value}),(0,m.jsx)("p",{className:"text-xs text-white/30",children:e.label})]})]},e.label))})]}):(0,m.jsxs)("div",{className:"mb-10",children:[(0,m.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Discover"}),(0,m.jsx)("p",{className:"text-white/40 text-sm",children:"Find your next favourite thing to watch or read."})]}),(0,m.jsx)("div",{className:"mb-8",children:(0,m.jsx)(x,{onSearch:async e=>{const t=await(0,p.q1)(e);k(t)}})}),y?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,m.jsx)("h2",{className:"text-xl font-semibold",children:"Search Results"}),(0,m.jsx)("button",{className:"text-sm text-white/40 hover:text-white transition-colors",onClick:()=>k(null),children:"Clear"})]}),(0,m.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5 mb-12",children:y.map((e,t)=>(0,m.jsx)(o.A,{item:e,mediaType:e.media_type},e.id||e.key||t))})]}):(0,m.jsxs)(m.Fragment,{children:[e&&T.length>0&&(0,m.jsx)(c.A,{title:"Continue Watching",children:T.map(e=>(0,m.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,m.jsx)(b,{item:e,onClick:()=>{if("book"===e.media_type){const s=(e.openlibrary_key||"").replace("/works/","");s&&t("/details/book/".concat(s))}else e.tmdb_id&&t("/details/".concat(e.media_type,"/").concat(e.tmdb_id))}})},e.id))}),e&&E.length>0&&(0,m.jsx)(c.A,{title:"Your Watchlist",children:E.slice(0,20).map(e=>(0,m.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,m.jsx)(b,{item:e,onClick:()=>{if("book"===e.media_type){const s=(e.openlibrary_key||"").replace("/works/","");s&&t("/details/book/".concat(s))}else e.tmdb_id&&t("/details/".concat(e.media_type,"/").concat(e.tmdb_id))}})},e.id))}),e&&A.length>0&&(0,m.jsx)(c.A,{title:"Recommended For You",children:A.map(e=>(0,m.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,m.jsx)(o.A,{item:e,mediaType:"movie"})},e.id))}),(0,m.jsx)(c.A,{title:"Trending Movies",children:s.map(e=>(0,m.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,m.jsx)(o.A,{item:e,mediaType:"movie"})},e.id))}),(0,m.jsx)(c.A,{title:"Trending TV Shows",children:v.map(e=>(0,m.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,m.jsx)(o.A,{item:e,mediaType:"tv"})},e.id))}),M?f.length>0&&(0,m.jsx)(c.A,{title:"Trending Books",children:f.map((e,t)=>(0,m.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,m.jsx)(o.A,{item:e,mediaType:"book"})},e.key||t))}):(0,m.jsx)(d.A6,{title:"Trending Books"})]})]})}},2626(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},9463(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7170(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]])},9869(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},1360(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9292(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},4919(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])}}]);
//# sourceMappingURL=632.cb481220.chunk.js.map