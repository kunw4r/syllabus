/*! For license information please see 174.35b64c3b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksyllabus_client=self.webpackChunksyllabus_client||[]).push([[174],{7655(e,t,s){s.d(t,{A:()=>o});var a=s(5043),i=s(2626),r=s(579);function l(e){let{urls:t=[],alt:s="",className:l="",children:o}=e;const[n,d]=(0,a.useState)(0),[c,m]=(0,a.useState)(!1),x=t[0]||"";(0,a.useEffect)(()=>{d(0),m(!1)},[x]);const h=()=>{d(e=>{const s=e+1;return s>=t.length?(m(!0),e):s})};return c||0===t.length?null!==o&&void 0!==o?o:(0,r.jsx)("div",{className:"".concat(l," bg-dark-600 flex flex-col items-center justify-center"),children:(0,r.jsx)(i.A,{size:20,className:"text-white/15"})}):(0,r.jsx)("img",{src:t[n],alt:s,className:l,loading:"lazy",decoding:"async",onError:h,onLoad:e=>{e.target.naturalWidth<=1&&h()}},t[n])}const o=a.memo(l)},2353(e,t,s){s.d(t,{A:()=>h});var a=s(5043),i=s(3216),r=s(1360),l=s(3944),o=s(7655),n=s(1207),d=s(8729),c=s(7694),m=s(579);function x(e){var t,s,x;let{item:h,mediaType:u="movie"}=e;const p=(0,i.Zp)(),{user:v}=(0,d.A)(),b=(0,c.d)(),g=h.title||h.name,f=h.poster_path?h.poster_path.startsWith("http")?h.poster_path:"".concat("https://image.tmdb.org/t/p/w342").concat(h.poster_path):null,j=(h.release_date||h.first_air_date||h.first_publish_year||"").toString().slice(0,4),w=h.media_type||u,y="book"!==w?(0,n.yN)(w,h.id):null,k=null!==(t=null!==(s=null!==(x=h.unified_rating)&&void 0!==x?x:y)&&void 0!==s?s:h.vote_average)&&void 0!==t?t:h.rating,[N,_]=(0,a.useState)(!1),A="book"===w;return(0,m.jsxs)("div",{className:"group relative rounded-2xl overflow-hidden bg-dark-700/50 border border-white/5 cursor-pointer transition-all duration-300 hover:-translate-y-1.5 hover:shadow-[0_8px_30px_rgba(233,69,96,0.12)] hover:border-white/10",onClick:()=>{if("book"===w){let e=h.key||"";return e.startsWith("/works/")&&(e=e.replace("/works/","")),void(e&&p("/details/book/".concat(e)))}const e=h.id||h.tmdb_id;p("/details/".concat(w,"/").concat(e))},children:[A?(0,m.jsx)(o.A,{urls:h.cover_urls||(f?[f]:[]),alt:g,className:"w-full aspect-[2/3] object-cover",children:(0,m.jsx)("div",{className:"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-4 text-center",children:g})}):f&&!N?(0,m.jsx)("img",{src:f,alt:g,loading:"lazy",className:"w-full aspect-[2/3] object-cover",onError:()=>_(!0),onLoad:e=>{e.target.naturalWidth<=1&&_(!0)}}):(0,m.jsx)("div",{className:"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-4 text-center",children:g}),k>0&&(0,m.jsxs)("div",{className:"absolute top-3 right-3 bg-black/70 backdrop-blur-md rounded-lg px-2 py-1 flex items-center gap-1 text-xs font-semibold",children:[(0,m.jsx)(l.A,{size:13,className:"text-gold fill-gold"}),Number(k).toFixed(1)]}),(0,m.jsx)("button",{onClick:async e=>{if(e.stopPropagation(),!v)return b("Please log in first","error");try{await(0,n.w7)({tmdb_id:"book"!==w?h.id:null,openlibrary_key:"book"===w?h.key:null,media_type:w,title:g,poster_path:f,overview:h.overview||"",external_rating:k||null,genres:h.genre_ids?h.genre_ids.join(","):"",release_date:h.release_date||h.first_air_date||""}),b('Added "'.concat(g,'" to your library!'),"success")}catch(t){b("Already in your library"===(null===t||void 0===t?void 0:t.message)?'"'.concat(g,'" is already in your library'):"Could not add to library","error")}},title:"Add to library",className:"absolute bottom-16 right-3 w-9 h-9 rounded-full bg-accent text-white flex items-center justify-center opacity-0 scale-75 group-hover:opacity-100 group-hover:scale-100 transition-all duration-200 hover:bg-accent-hover",children:(0,m.jsx)(r.A,{size:18})}),(0,m.jsxs)("div",{className:"p-3",children:[(0,m.jsx)("p",{className:"text-sm font-semibold truncate",children:g}),(0,m.jsxs)("p",{className:"text-xs text-white/40 mt-1",children:[j,"book"===w&&h.author?" \xb7 ".concat(h.author):""]})]})]})}const h=a.memo(x)},7893(e,t,s){s.d(t,{A:()=>n});var a=s(5043),i=s(9463);const r=(0,s(1212).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var l=s(579);function o(e){let{title:t,children:s,className:o=""}=e;const n=(0,a.useRef)(null),d=e=>{var t;return null===(t=n.current)||void 0===t?void 0:t.scrollBy({left:400*e,behavior:"smooth"})};return(0,l.jsxs)("div",{className:"mb-10 group/row min-w-0 ".concat(o),children:[(0,l.jsx)("h2",{className:"text-[15px] font-semibold text-white/80 mb-4 uppercase tracking-wide",children:t}),(0,l.jsxs)("div",{className:"relative min-w-0",children:[(0,l.jsx)("button",{onClick:()=>d(-1),className:"absolute left-0 top-0 bottom-6 z-10 w-10 bg-gradient-to-r from-dark-900 to-transparent opacity-0 group-hover/row:opacity-100 transition-opacity items-center justify-center hidden sm:flex",children:(0,l.jsx)(i.A,{size:20})}),(0,l.jsx)("div",{ref:n,className:"flex gap-3 overflow-x-auto overflow-y-hidden pb-2 scrollbar-hide scroll-smooth -mx-4 px-4 sm:mx-0 sm:px-0",children:s}),(0,l.jsx)("button",{onClick:()=>d(1),className:"absolute right-0 top-0 bottom-6 z-10 w-10 bg-gradient-to-l from-dark-900 to-transparent opacity-0 group-hover/row:opacity-100 transition-opacity items-center justify-center hidden sm:flex",children:(0,l.jsx)(r,{size:20})})]})]})}const n=a.memo(o)},1540(e,t,s){s.d(t,{A6:()=>r,eP:()=>l});s(5043);var a=s(579);function i(){return(0,a.jsxs)("div",{className:"flex-shrink-0 w-[140px] sm:w-[160px] animate-pulse",children:[(0,a.jsx)("div",{className:"bg-dark-700 rounded-lg aspect-[2/3] w-full mb-2"}),(0,a.jsx)("div",{className:"bg-dark-700 rounded h-3 w-3/4 mb-1"}),(0,a.jsx)("div",{className:"bg-dark-700 rounded h-3 w-1/2"})]})}function r(e){let{title:t}=e;return(0,a.jsxs)("div",{className:"mb-8",children:[t&&(0,a.jsx)("div",{className:"bg-dark-700 rounded h-5 w-40 mb-4 animate-pulse"}),(0,a.jsx)("div",{className:"flex gap-4 overflow-hidden",children:Array.from({length:8}).map((e,t)=>(0,a.jsx)(i,{},t))})]})}function l(){return(0,a.jsx)("div",{className:"relative h-[50vh] sm:h-[60vh] rounded-xl overflow-hidden mb-8 animate-pulse bg-dark-700",children:(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 p-6 sm:p-10 space-y-3 w-full",children:[(0,a.jsx)("div",{className:"bg-dark-600 rounded h-8 w-1/3"}),(0,a.jsx)("div",{className:"bg-dark-600 rounded h-4 w-2/3"}),(0,a.jsx)("div",{className:"bg-dark-600 rounded h-4 w-1/2"})]})})}},8174(e,t,s){s.r(t),s.d(t,{default:()=>f});var a=s(2555),i=s(5043),r=s(3216),l=s(4830),o=s(1360),n=s(9292),d=s(3944),c=s(614),m=s(2353),x=s(7893),h=s(1540),u=s(1207),p=s(8729),v=s(579);const b="https://image.tmdb.org/t/p",g=[{id:28,name:"Action"},{id:35,name:"Comedy"},{id:878,name:"Sci-Fi"},{id:27,name:"Horror"},{id:16,name:"Animation"},{id:18,name:"Drama"},{id:53,name:"Thriller"},{id:10749,name:"Romance"},{id:80,name:"Crime"},{id:99,name:"Documentary"}];const f=function(){var e;const t=(0,r.Zp)(),{user:s}=(0,p.A)(),[f,j]=(0,i.useState)(null),[w,y]=(0,i.useState)(null),[k,N]=(0,i.useState)([]),[_,A]=(0,i.useState)([]),[S,z]=(0,i.useState)([]),[C,T]=(0,i.useState)({}),[M,F]=(0,i.useState)(new Set),[P,Z]=(0,i.useState)(null),[E,W]=(0,i.useState)(""),[L,R]=(0,i.useState)(!1),[D,I]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(null===f||void 0===f||!f.id)return;(0,u.LF)(f.id).then(e=>{j(t=>(0,a.A)((0,a.A)({},t),{},{videos:e.videos}))}).catch(()=>{});const e=f.title,t=(f.release_date||"").slice(0,4);(0,u.a3)(e,t,"movie").then(e=>{const t=(0,u.$t)(e,null,!1);y(t),null!=t&&f.id&&(0,u.wO)("movie",f.id,t)}).catch(()=>{})},[null===f||void 0===f?void 0:f.id,null===f||void 0===f?void 0:f.title,null===f||void 0===f?void 0:f.release_date]),(0,i.useEffect)(()=>{!async function(){try{const[e,t,s]=await Promise.all([(0,u.Nt)(),(0,u.kr)(),(0,u.XT)()]);N(e),j(e[Math.floor(Math.random()*Math.min(5,e.length))]),A(t),z(s),(0,u.Zb)(e,"movie"),(0,u.Zb)(t,"movie"),(0,u.Zb)(s,"movie");const a=g.slice(0,3),i=await Promise.all(a.map(e=>(0,u.c0)(e.id))),r={};a.forEach((e,t)=>{(0,u.Zb)(i[t],"movie"),r[e.id]=i[t]}),T(r),F(new Set(a.map(e=>e.id)))}catch(e){console.error(e)}I(!0)}()},[]);const q=(0,i.useCallback)(async e=>{if(M.has(e))return;F(t=>new Set([...t,e]));const t=await(0,u.c0)(e);(0,u.Zb)(t,"movie"),T(s=>(0,a.A)((0,a.A)({},s),{},{[e]:t}))},[M]),O=(0,i.useCallback)(e=>{if(!e)return;const t=new IntersectionObserver(s=>{let[a]=s;if(a.isIntersecting){const s=Number(e.dataset.genre);s&&q(s),t.disconnect()}},{rootMargin:"300px"});t.observe(e)},[q]),B=(e=>{const t=((null===f||void 0===f||null===(e=f.videos)||void 0===e?void 0:e.results)||[]).filter(e=>"YouTube"===e.site);return t.find(e=>"Trailer"===e.type)||t.find(e=>"Teaser"===e.type)||t[0]||null})();return D?(0,v.jsxs)("div",{className:"min-w-0",children:[(0,v.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!E.trim())return;R(!0);const t=await(0,u.q8)(E);Z(t),R(!1)},className:"flex items-center gap-3 mb-6",children:[(0,v.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,v.jsx)(n.A,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30"}),(0,v.jsx)("input",{value:E,onChange:e=>W(e.target.value),placeholder:"Search movies...",className:"w-full bg-white/[0.04] border border-white/[0.08] rounded-xl pl-11 pr-4 py-2.5 text-sm text-white placeholder-white/25 outline-none focus:border-accent/40 transition-colors"})]}),(0,v.jsxs)("button",{type:"submit",disabled:L,className:"bg-accent hover:bg-accent-hover disabled:opacity-50 text-white text-sm font-medium px-4 py-2.5 rounded-xl transition-colors flex items-center gap-2",children:[L?(0,v.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,v.jsx)(n.A,{size:14}),"Search"]}),P&&(0,v.jsx)("button",{type:"button",onClick:()=>{Z(null),W("")},className:"text-white/40 hover:text-white",children:(0,v.jsx)(c.A,{size:18})})]}),P?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("h2",{className:"text-xl font-semibold mb-5",children:["Results for \u201c",E,"\u201d"]}),(0,v.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5",children:P.map(e=>(0,v.jsx)(m.A,{item:e,mediaType:"movie"},e.id))})]}):(0,v.jsxs)(v.Fragment,{children:[(null===f||void 0===f?void 0:f.backdrop_path)&&(0,v.jsxs)("div",{className:"relative -mx-4 sm:-mx-6 lg:-mx-10 -mt-2 mb-10 h-[50vh] sm:h-[60vh] min-h-[320px] overflow-hidden rounded-b-3xl",children:[(0,v.jsx)("img",{src:"".concat(b,"/w1280").concat(f.backdrop_path),alt:"",className:"w-full h-full object-cover"}),(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-dark-900/40 to-transparent"}),(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-dark-900/80 via-transparent to-transparent"}),(0,v.jsxs)("div",{className:"absolute bottom-6 sm:bottom-10 left-4 sm:left-6 lg:left-10 max-w-lg pr-4",children:[(0,v.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-5xl font-black mb-2 sm:mb-3 leading-tight",children:f.title}),(0,v.jsxs)("div",{className:"flex items-center gap-3 text-xs sm:text-sm text-white/50 mb-2 sm:mb-3",children:[(null!==w&&void 0!==w?w:f.vote_average)&&(0,v.jsxs)("span",{className:"flex items-center gap-1 text-gold",children:[(0,v.jsx)(d.A,{size:14,className:"fill-gold"})," ",(null!==w&&void 0!==w?w:f.vote_average).toFixed(1)]}),(0,v.jsx)("span",{children:null===(e=f.release_date)||void 0===e?void 0:e.slice(0,4)})]}),(0,v.jsx)("p",{className:"text-white/50 text-xs sm:text-sm leading-relaxed line-clamp-2 sm:line-clamp-3 mb-4 sm:mb-5",children:f.overview}),(0,v.jsxs)("div",{className:"flex gap-2 sm:gap-3",children:[(0,v.jsx)("button",{onClick:()=>t("/details/movie/".concat(f.id)),className:"bg-white text-black font-semibold px-4 sm:px-5 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm hover:bg-white/90 transition-colors",children:"More Info"}),B&&(0,v.jsxs)("a",{href:"https://www.youtube.com/watch?v=".concat(B.key),target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 backdrop-blur-md border border-white/10 px-4 sm:px-5 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-medium hover:bg-white/20 transition-colors flex items-center gap-2",children:[(0,v.jsx)(l.A,{size:16})," Trailer"]}),(0,v.jsxs)("button",{onClick:async()=>{if(!s)return t("/login");try{await(0,u.w7)({tmdb_id:f.id,media_type:"movie",title:f.title,poster_path:f.poster_path?"".concat(b,"/w500").concat(f.poster_path):null,overview:f.overview,external_rating:null!==w&&void 0!==w?w:f.vote_average,release_date:f.release_date})}catch(e){}},className:"bg-white/10 backdrop-blur-md border border-white/10 px-4 sm:px-5 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-medium hover:bg-white/20 transition-colors flex items-center gap-2",children:[(0,v.jsx)(o.A,{size:16})," Library"]})]})]})]}),(0,v.jsxs)("div",{className:"mb-10 min-w-0",children:[(0,v.jsx)("h2",{className:"text-[15px] font-semibold text-white/80 mb-4 uppercase tracking-wide",children:"Top 10 Movies This Week"}),(0,v.jsx)("div",{className:"flex gap-4 overflow-x-auto overflow-y-hidden pb-4 scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:k.slice(0,10).map((e,s)=>{var a,i;return(0,v.jsxs)("div",{className:"flex-shrink-0 flex items-end cursor-pointer group/card",onClick:()=>t("/details/movie/".concat(e.id)),children:[(0,v.jsx)("span",{className:"text-[5rem] sm:text-[7rem] font-black leading-none -mr-3 sm:-mr-4 select-none text-transparent",style:{WebkitTextStroke:"2px rgba(255,255,255,0.08)"},children:s+1}),(0,v.jsxs)("div",{className:"relative",children:[e.poster_path&&(0,v.jsx)("img",{src:"".concat(b,"/w185").concat(e.poster_path),alt:e.title,loading:"lazy",className:"h-32 sm:h-40 rounded-xl relative z-10 shadow-lg group-hover/card:scale-105 transition-transform duration-300 object-cover aspect-[2/3]"}),(null!==(a=e.unified_rating)&&void 0!==a?a:e.vote_average)>0&&(0,v.jsxs)("div",{className:"absolute top-1.5 right-1.5 z-20 bg-black/70 backdrop-blur-md rounded-lg px-1.5 py-0.5 flex items-center gap-1 text-[10px] font-semibold",children:[(0,v.jsx)(d.A,{size:11,className:"text-gold fill-gold"}),Number(null!==(i=e.unified_rating)&&void 0!==i?i:e.vote_average).toFixed(1)]})]})]},e.id)})})]}),(0,v.jsx)(x.A,{title:"Now Playing in Cinemas",children:_.map(e=>(0,v.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,v.jsx)(m.A,{item:e,mediaType:"movie"})},e.id))}),g.map(e=>{const t=M.has(e.id),s=C[e.id];return(0,v.jsx)("div",{ref:t?void 0:O,"data-genre":e.id,children:t?(null===s||void 0===s?void 0:s.length)>0?(0,v.jsx)(x.A,{title:e.name,children:s.map(e=>(0,v.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,v.jsx)(m.A,{item:e,mediaType:"movie"})},e.id))}):null:(0,v.jsx)(h.A6,{title:e.name})},e.id)}),(0,v.jsx)(x.A,{title:"Top Rated of All Time",children:S.map(e=>(0,v.jsx)("div",{className:"flex-shrink-0 w-[150px]",children:(0,v.jsx)(m.A,{item:e,mediaType:"movie"})},e.id))})]})]}):(0,v.jsxs)("div",{className:"min-w-0",children:[(0,v.jsx)(h.eP,{}),(0,v.jsx)(h.A6,{title:!0}),(0,v.jsx)(h.A6,{title:!0}),(0,v.jsx)(h.A6,{title:!0})]})}},2626(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},9463(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},4830(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},1360(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9292(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}}]);
//# sourceMappingURL=174.35b64c3b.chunk.js.map