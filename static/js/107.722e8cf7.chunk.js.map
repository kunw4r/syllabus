{"version":3,"file":"static/js/107.722e8cf7.chunk.js","mappings":"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","sources":["components/BookCover.jsx","components/MediaCard.jsx","../node_modules/lucide-react/src/icons/external-link.ts","../node_modules/lucide-react/src/icons/book-copy.ts","../node_modules/lucide-react/src/icons/book-marked.ts","../node_modules/lucide-react/src/icons/shopping-cart.ts","../node_modules/lucide-react/src/icons/lightbulb.ts","../node_modules/lucide-react/src/icons/dollar-sign.ts","../node_modules/lucide-react/src/icons/globe.ts","pages/Details.jsx","../node_modules/lucide-react/src/icons/award.ts","../node_modules/lucide-react/src/icons/book-open.ts","../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/chevron-left.ts","../node_modules/lucide-react/src/icons/clock.ts","../node_modules/lucide-react/src/icons/eye.ts","../node_modules/lucide-react/src/icons/film.ts","../node_modules/lucide-react/src/icons/play.ts","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/sparkles.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/users.ts"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BookOpen } from 'lucide-react';\n\n/**\n * BookCover — resilient cover image with automatic fallback chain.\n *\n * Open Library returns 1×1 transparent pixels for missing covers\n * instead of a proper 404. This component detects that and automatically\n * tries the next URL in the provided chain until one works.\n *\n * @param {string[]}  urls      — ordered cover URLs to try\n * @param {string}    alt       — image alt text\n * @param {string}    className — applied to both <img> and fallback\n * @param {ReactNode} children  — custom fallback (default: BookOpen icon)\n */\nfunction BookCover({ urls = [], alt = '', className = '', children }) {\n  const [index, setIndex] = useState(0);\n  const [broken, setBroken] = useState(false);\n\n  // Reset when the book changes\n  const urlKey = urls[0] || '';\n  useEffect(() => { setIndex(0); setBroken(false); }, [urlKey]);\n\n  const advance = () => {\n    setIndex(prev => {\n      const next = prev + 1;\n      if (next >= urls.length) { setBroken(true); return prev; }\n      return next;\n    });\n  };\n\n  if (broken || urls.length === 0) {\n    return children ?? (\n      <div className={`${className} bg-dark-600 flex flex-col items-center justify-center`}>\n        <BookOpen size={20} className=\"text-white/15\" />\n      </div>\n    );\n  }\n\n  return (\n    <img\n      key={urls[index]}\n      src={urls[index]}\n      alt={alt}\n      className={className}\n      loading=\"lazy\"\n      decoding=\"async\"\n      onError={advance}\n      onLoad={e => { if (e.target.naturalWidth <= 1) advance(); }}\n    />\n  );\n}\n\nexport default React.memo(BookCover);\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Plus, Star } from 'lucide-react';\nimport BookCover from './BookCover';\nimport { addToLibrary, getSyllabusScore } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { useToast } from '../context/ToastContext';\n\nconst TMDB_IMG = 'https://image.tmdb.org/t/p/w342';\n\nfunction MediaCard({ item, mediaType = 'movie' }) {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const toast = useToast();\n\n  const title = item.title || item.name;\n  const poster = item.poster_path\n    ? (item.poster_path.startsWith('http') ? item.poster_path : `${TMDB_IMG}${item.poster_path}`)\n    : null;\n  const year = (item.release_date || item.first_air_date || item.first_publish_year || '').toString().slice(0, 4);\n  const type = item.media_type || mediaType;\n\n  // Prefer: unified_rating (from enrichment) → stored Syllabus Score → TMDB vote_average → book rating\n  const storedScore = type !== 'book' ? getSyllabusScore(type, item.id) : null;\n  const rating = item.unified_rating ?? storedScore ?? item.vote_average ?? item.rating;\n\n  const handleClick = () => {\n    if (type === 'book') {\n      const workKey = item.key?.replace('/works/', '') || '';\n      if (workKey) navigate(`/details/book/${workKey}`);\n      return;\n    }\n    const id = item.id || item.tmdb_id;\n    navigate(`/details/${type}/${id}`);\n  };\n\n  const handleAdd = async (e) => {\n    e.stopPropagation();\n    if (!user) return toast('Please log in first', 'error');\n    try {\n      await addToLibrary({\n        tmdb_id: type !== 'book' ? item.id : null,\n        openlibrary_key: type === 'book' ? item.key : null,\n        media_type: type,\n        title,\n        poster_path: poster,\n        overview: item.overview || '',\n        external_rating: rating || null,\n        genres: item.genre_ids ? item.genre_ids.join(',') : '',\n        release_date: item.release_date || item.first_air_date || '',\n      });\n      toast(`Added \"${title}\" to your library!`, 'success');\n    } catch (err) {\n      toast(err?.message === 'Already in your library' ? `\"${title}\" is already in your library` : 'Could not add to library', 'error');\n    }\n  };\n\n  const [imgBroken, setImgBroken] = useState(false);\n  const isBook = type === 'book';\n\n  return (\n    <div\n      className=\"group relative rounded-2xl overflow-hidden bg-dark-700/50 border border-white/5 cursor-pointer transition-all duration-300 hover:-translate-y-1.5 hover:shadow-[0_8px_30px_rgba(233,69,96,0.12)] hover:border-white/10\"\n      onClick={handleClick}\n    >\n      {isBook ? (\n        <BookCover\n          urls={item.cover_urls || (poster ? [poster] : [])}\n          alt={title}\n          className=\"w-full aspect-[2/3] object-cover\"\n        >\n          <div className=\"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-4 text-center\">\n            {title}\n          </div>\n        </BookCover>\n      ) : poster && !imgBroken ? (\n        <img src={poster} alt={title} loading=\"lazy\" className=\"w-full aspect-[2/3] object-cover\"\n          onError={() => setImgBroken(true)}\n          onLoad={e => { if (e.target.naturalWidth <= 1) setImgBroken(true); }}\n        />\n      ) : (\n        <div className=\"w-full aspect-[2/3] bg-dark-600 flex items-center justify-center text-white/30 text-xs p-4 text-center\">\n          {title}\n        </div>\n      )}\n\n      {rating > 0 && (\n        <div className=\"absolute top-3 right-3 bg-black/70 backdrop-blur-md rounded-lg px-2 py-1 flex items-center gap-1 text-xs font-semibold\">\n          <Star size={13} className=\"text-gold fill-gold\" />\n          {Number(rating).toFixed(1)}\n        </div>\n      )}\n\n      <button\n        onClick={handleAdd}\n        title=\"Add to library\"\n        className=\"absolute bottom-16 right-3 w-9 h-9 rounded-full bg-accent text-white flex items-center justify-center opacity-0 scale-75 group-hover:opacity-100 group-hover:scale-100 transition-all duration-200 hover:bg-accent-hover\"\n      >\n        <Plus size={18} />\n      </button>\n\n      <div className=\"p-3\">\n        <p className=\"text-sm font-semibold truncate\">{title}</p>\n        <p className=\"text-xs text-white/40 mt-1\">\n          {year}{type === 'book' && item.author ? ` · ${item.author}` : ''}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(MediaCard);\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n];\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('external-link', __iconNode);\n\nexport default ExternalLink;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 7a2 2 0 0 0-2 2v11', key: '1yhqjt' }],\n  ['path', { d: 'M5.803 18H5a2 2 0 0 0 0 4h9.5a.5.5 0 0 0 .5-.5V21', key: 'edzzo5' }],\n  [\n    'path',\n    {\n      d: 'M9 15V4a2 2 0 0 1 2-2h9.5a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5H11a2 2 0 0 1 0-4h10',\n      key: '1nwzrg',\n    },\n  ],\n];\n\n/**\n * @component @name BookCopy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSA3YTIgMiAwIDAgMC0yIDJ2MTEiIC8+CiAgPHBhdGggZD0iTTUuODAzIDE4SDVhMiAyIDAgMCAwIDAgNGg5LjVhLjUuNSAwIDAgMCAuNS0uNVYyMSIgLz4KICA8cGF0aCBkPSJNOSAxNVY0YTIgMiAwIDAgMSAyLTJoOS41YS41LjUgMCAwIDEgLjUuNXYxNGEuNS41IDAgMCAxLS41LjVIMTFhMiAyIDAgMCAxIDAtNGgxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/book-copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookCopy = createLucideIcon('book-copy', __iconNode);\n\nexport default BookCopy;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 2v8l3-3 3 3V2', key: 'sqw3rj' }],\n  [\n    'path',\n    {\n      d: 'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20',\n      key: 'k3hazp',\n    },\n  ],\n];\n\n/**\n * @component @name BookMarked\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMnY4bDMtMyAzIDNWMiIgLz4KICA8cGF0aCBkPSJNNCAxOS41di0xNUEyLjUgMi41IDAgMCAxIDYuNSAySDE5YTEgMSAwIDAgMSAxIDF2MThhMSAxIDAgMCAxLTEgMUg2LjVhMSAxIDAgMCAxIDAtNUgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/book-marked\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookMarked = createLucideIcon('book-marked', __iconNode);\n\nexport default BookMarked;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '8', cy: '21', r: '1', key: 'jimo8o' }],\n  ['circle', { cx: '19', cy: '21', r: '1', key: '13723u' }],\n  [\n    'path',\n    {\n      d: 'M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12',\n      key: '9zh506',\n    },\n  ],\n];\n\n/**\n * @component @name ShoppingCart\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI4IiBjeT0iMjEiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTkiIGN5PSIyMSIgcj0iMSIgLz4KICA8cGF0aCBkPSJNMi4wNSAyLjA1aDJsMi42NiAxMi40MmEyIDIgMCAwIDAgMiAxLjU4aDkuNzhhMiAyIDAgMCAwIDEuOTUtMS41N2wxLjY1LTcuNDNINS4xMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/shopping-cart\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShoppingCart = createLucideIcon('shopping-cart', __iconNode);\n\nexport default ShoppingCart;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5',\n      key: '1gvzjb',\n    },\n  ],\n  ['path', { d: 'M9 18h6', key: 'x1upvd' }],\n  ['path', { d: 'M10 22h4', key: 'ceow96' }],\n];\n\n/**\n * @component @name Lightbulb\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMTRjLjItMSAuNy0xLjcgMS41LTIuNSAxLS45IDEuNS0yLjIgMS41LTMuNUE2IDYgMCAwIDAgNiA4YzAgMSAuMiAyLjIgMS41IDMuNS43LjcgMS4zIDEuNSAxLjUgMi41IiAvPgogIDxwYXRoIGQ9Ik05IDE4aDYiIC8+CiAgPHBhdGggZD0iTTEwIDIyaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/lightbulb\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lightbulb = createLucideIcon('lightbulb', __iconNode);\n\nexport default Lightbulb;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '22', key: '7eqyqh' }],\n  ['path', { d: 'M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6', key: '1b0p4s' }],\n];\n\n/**\n * @component @name DollarSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSIyMiIgLz4KICA8cGF0aCBkPSJNMTcgNUg5LjVhMy41IDMuNSAwIDAgMCAwIDdoNWEzLjUgMy41IDAgMCAxIDAgN0g2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/dollar-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst DollarSign = createLucideIcon('dollar-sign', __iconNode);\n\nexport default DollarSign;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20', key: '13o1zl' }],\n  ['path', { d: 'M2 12h20', key: '9i4pu4' }],\n];\n\n/**\n * @component @name Globe\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMmExNC41IDE0LjUgMCAwIDAgMCAyMCAxNC41IDE0LjUgMCAwIDAgMC0yMCIgLz4KICA8cGF0aCBkPSJNMiAxMmgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/globe\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Globe = createLucideIcon('globe', __iconNode);\n\nexport default Globe;\n","import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Star, ChevronLeft, Plus, Check, ExternalLink, BookOpen, Users, BookCopy, ShoppingCart, BookMarked, Eye, CheckCircle2, Play, Award, Clapperboard, PenLine, DollarSign, Globe, Film, Info, Clock, Trash2, MessageSquare, X, Sparkles, Lightbulb } from 'lucide-react';\nimport MediaCard from '../components/MediaCard';\nimport BookCover from '../components/BookCover';\nimport { getMovieDetails, getTVDetails, getOMDbRatings, getMALRating, computeUnifiedRating, setSyllabusScore, getSyllabusScore, getBookDetails, addToLibrary, getLibraryItemByMediaId, updateLibraryItem, removeFromLibrary, logActivity } from '../services/api';\nimport { useToast } from '../context/ToastContext';\nimport { useAuth } from '../context/AuthContext';\n\nconst TMDB_IMG = 'https://image.tmdb.org/t/p/w780';\nconst TMDB_BACKDROP = 'https://image.tmdb.org/t/p/w1280';\nconst TMDB_LOGO = 'https://image.tmdb.org/t/p/w92';\nconst TMDB_PROFILE = 'https://image.tmdb.org/t/p/w185';\n\n// Map provider names → their direct search/browse URLs\nconst PROVIDER_URLS = {\n  'Netflix': (title) => `https://www.netflix.com/search?q=${encodeURIComponent(title)}`,\n  'Amazon Prime Video': (title) => `https://www.amazon.com/s?i=instant-video&k=${encodeURIComponent(title)}`,\n  'Amazon Video': (title) => `https://www.amazon.com/s?i=instant-video&k=${encodeURIComponent(title)}`,\n  'Disney Plus': (title) => `https://www.disneyplus.com/search/${encodeURIComponent(title)}`,\n  'Apple TV': (title) => `https://tv.apple.com/search?term=${encodeURIComponent(title)}`,\n  'Apple TV Plus': (title) => `https://tv.apple.com/search?term=${encodeURIComponent(title)}`,\n  'Stan': (title) => `https://www.stan.com.au/search?q=${encodeURIComponent(title)}`,\n  'Binge': (title) => `https://binge.com.au/search?q=${encodeURIComponent(title)}`,\n  'Paramount Plus': (title) => `https://www.paramountplus.com/search/?q=${encodeURIComponent(title)}`,\n  'Paramount+ Amazon Channel': (title) => `https://www.amazon.com/s?i=instant-video&k=${encodeURIComponent(title)}`,\n  'Foxtel Now': (title) => `https://www.foxtel.com.au/now/search.html?q=${encodeURIComponent(title)}`,\n  'Hulu': (title) => `https://www.hulu.com/search?q=${encodeURIComponent(title)}`,\n  'HBO Max': (title) => `https://play.max.com/search?q=${encodeURIComponent(title)}`,\n  'Max': (title) => `https://play.max.com/search?q=${encodeURIComponent(title)}`,\n  'Peacock': (title) => `https://www.peacocktv.com/search?q=${encodeURIComponent(title)}`,\n  'Crunchyroll': (title) => `https://www.crunchyroll.com/search?q=${encodeURIComponent(title)}`,\n  'Google Play Movies': (title) => `https://play.google.com/store/search?q=${encodeURIComponent(title)}&c=movies`,\n  'YouTube': (title) => `https://www.youtube.com/results?search_query=${encodeURIComponent(title)}`,\n  'Microsoft Store': (title) => `https://www.microsoft.com/en-au/search/shop/movies-tv?q=${encodeURIComponent(title)}`,\n};\n\nfunction getProviderUrl(providerName, title, fallbackLink) {\n  for (const [key, urlFn] of Object.entries(PROVIDER_URLS)) {\n    if (providerName.toLowerCase().includes(key.toLowerCase()) || key.toLowerCase().includes(providerName.toLowerCase())) {\n      return urlFn(title);\n    }\n  }\n  return fallbackLink || '#';\n}\n\n/* ─────────────────────────────────────────────────── */\n/*  Library Panel — inline status / rate / review       */\n/* ─────────────────────────────────────────────────── */\nfunction LibraryPanel({ mediaId, addPayload }) {\n  const [libItem, setLibItem] = useState(null);          // null = not in lib, object = in lib\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [status, setStatus] = useState('watching');\n  const [rating, setRating] = useState(0);\n  const [review, setReview] = useState('');\n  const [expanded, setExpanded] = useState(false);\n  const toast = useToast();\n  const { user } = useAuth();\n\n  // Stable primitive key so the effect doesn't re-fire every render\n  const stableKey = mediaId.tmdb_id || mediaId.openlibrary_key;\n\n  useEffect(() => {\n    let cancelled = false;\n    async function lookup() {\n      if (!user) { setLoading(false); return; }\n      try {\n        const item = await getLibraryItemByMediaId(mediaId);\n        if (cancelled) return;\n        if (item) {\n          setLibItem(item);\n          setStatus(item.status || 'watching');\n          setRating(item.user_rating || 0);\n          setReview(item.review || '');\n          setExpanded(true);\n        }\n      } catch (err) {\n        console.error('Library lookup failed:', err);\n      }\n      if (!cancelled) setLoading(false);\n    }\n    lookup();\n    return () => { cancelled = true; };\n  }, [stableKey, user]);\n\n  const handleAdd = async (chosenStatus) => {\n    if (!user) return toast('Please log in first', 'error');\n    try {\n      const newItem = await addToLibrary({ ...addPayload, status: chosenStatus });\n      setLibItem(newItem);\n      setStatus(chosenStatus);\n      setExpanded(true);\n      toast(`Added to library!`, 'success');\n      logActivity({ action: 'added', title: addPayload.title, media_type: addPayload.media_type, media_id: addPayload.tmdb_id || addPayload.openlibrary_key, poster_url: addPayload.poster_url }).catch(() => {});\n    } catch (err) {\n      toast(err?.message === 'Already in your library' ? 'Already in your library' : 'Could not add', 'error');\n    }\n  };\n\n  const handleStatusChange = async (newStatus) => {\n    setStatus(newStatus);\n    if (libItem) {\n      try {\n        await updateLibraryItem(libItem.id, { status: newStatus });\n        setLibItem(prev => ({ ...prev, status: newStatus }));\n        const labels = { want: 'Wishlist', watching: 'In Progress', finished: 'Finished' };\n        toast(`Moved to ${labels[newStatus]}`, 'info');\n        if (newStatus === 'finished') {\n          logActivity({ action: 'finished', title: addPayload.title, media_type: addPayload.media_type, media_id: addPayload.tmdb_id || addPayload.openlibrary_key, poster_url: addPayload.poster_url }).catch(() => {});\n        }\n      } catch { toast('Failed to update status', 'error'); }\n    }\n  };\n\n  const handleSave = async () => {\n    if (!libItem) return;\n    setSaving(true);\n    try {\n      const updated = await updateLibraryItem(libItem.id, {\n        user_rating: rating || null,\n        review: review || null,\n        status,\n      });\n      setLibItem(updated);\n      toast('Saved!', 'success');\n      if (rating) {\n        logActivity({ action: 'rated', title: addPayload.title, media_type: addPayload.media_type, media_id: addPayload.tmdb_id || addPayload.openlibrary_key, poster_url: addPayload.poster_url, rating }).catch(() => {});\n      }\n      if (review) {\n        logActivity({ action: 'reviewed', title: addPayload.title, media_type: addPayload.media_type, media_id: addPayload.tmdb_id || addPayload.openlibrary_key, poster_url: addPayload.poster_url, review }).catch(() => {});\n      }\n    } catch (err) {\n      console.error('Save failed:', err);\n      toast(err?.message || 'Failed to save — try again', 'error');\n    }\n    setSaving(false);\n  };\n\n  const handleRemove = async () => {\n    if (!libItem) return;\n    try {\n      await removeFromLibrary(libItem.id);\n      setLibItem(null);\n      setStatus('watching');\n      setRating(0);\n      setReview('');\n      setExpanded(false);\n      toast('Removed from library', 'success');\n    } catch { toast('Failed to remove', 'error'); }\n  };\n\n  const getRatingColor = (val) => {\n    if (val <= 3) return 'from-red-500 to-red-600';\n    if (val <= 5) return 'from-orange-500 to-amber-500';\n    if (val <= 7) return 'from-yellow-500 to-lime-500';\n    if (val <= 9) return 'from-green-400 to-emerald-500';\n    return 'from-emerald-400 to-cyan-400';\n  };\n\n  const getRatingLabel = (val) => {\n    if (!val || val === 0) return '';\n    if (val <= 2) return 'Terrible';\n    if (val <= 4) return 'Not great';\n    if (val <= 5) return 'Okay';\n    if (val <= 6.5) return 'Decent';\n    if (val <= 7.5) return 'Good';\n    if (val <= 8.5) return 'Great';\n    if (val <= 9.5) return 'Amazing';\n    return 'Masterpiece';\n  };\n\n  if (loading) return <div className=\"h-12 w-48 bg-dark-700 rounded-xl animate-pulse mt-2\" />;\n  if (!user) return (\n    <p className=\"text-xs text-white/30 mt-4\">Log in to add to your library</p>\n  );\n\n  // ─── Not in library: show add buttons ───\n  if (!libItem) {\n    return (\n      <div className=\"mt-6\">\n        <p className=\"text-[10px] text-white/30 uppercase tracking-wider mb-2\">Add to Library</p>\n        <div className=\"flex flex-wrap gap-2\">\n          {[\n            { key: 'watching', icon: Eye, label: 'Watching', cls: 'bg-blue-500 hover:bg-blue-600' },\n            { key: 'want', icon: Clock, label: 'Wishlist', cls: 'bg-purple-500 hover:bg-purple-600' },\n            { key: 'finished', icon: CheckCircle2, label: 'Finished', cls: 'bg-green-500 hover:bg-green-600' },\n          ].map(s => (\n            <button key={s.key} onClick={() => handleAdd(s.key)}\n              className={`${s.cls} text-white px-4 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 transition-all duration-200 hover:scale-[1.02] active:scale-95`}>\n              <s.icon size={16} />\n              {s.label}\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // ─── In library: full control panel ───\n  return (\n    <div className=\"mt-6 bg-white/[0.03] border border-white/[0.08] rounded-2xl overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-white/[0.06]\">\n        <div className=\"flex items-center gap-2\">\n          <Check size={16} className=\"text-green-400\" />\n          <span className=\"text-sm font-medium text-white/70\">In Your Library</span>\n        </div>\n        <div className=\"flex items-center gap-1.5\">\n          <button onClick={() => setExpanded(e => !e)}\n            className=\"text-xs text-white/30 hover:text-white/60 px-2 py-1 rounded-lg hover:bg-white/5 transition-all\">\n            {expanded ? 'Collapse' : 'Edit'}\n          </button>\n          <button onClick={handleRemove}\n            className=\"text-white/20 hover:text-red-400 p-1 rounded-lg hover:bg-white/5 transition-all\" title=\"Remove\">\n            <Trash2 size={14} />\n          </button>\n        </div>\n      </div>\n\n      {/* Status buttons (always visible) */}\n      <div className=\"px-4 py-3 flex gap-2\">\n        {[\n          { key: 'want', icon: Clock, label: 'Wishlist', active: 'bg-purple-500 text-white border-purple-400' },\n          { key: 'watching', icon: Eye, label: 'In Progress', active: 'bg-blue-500 text-white border-blue-400' },\n          { key: 'finished', icon: CheckCircle2, label: 'Finished', active: 'bg-green-500 text-white border-green-400' },\n        ].map(s => (\n          <button key={s.key} onClick={() => handleStatusChange(s.key)}\n            className={`flex-1 py-2 rounded-xl text-xs font-semibold border flex items-center justify-center gap-1.5 transition-all duration-200 ${\n              status === s.key ? s.active : 'border-white/10 text-white/40 hover:border-white/20 hover:text-white/70'\n            }`}>\n            <s.icon size={13} />\n            {s.label}\n          </button>\n        ))}\n      </div>\n\n      {/* Expanded: rating + review */}\n      {expanded && (\n        <div className=\"px-4 pb-4 space-y-4\">\n          {/* Rating */}\n          <div>\n            <label className=\"text-[10px] text-white/30 uppercase tracking-wider block mb-2\">Your Rating</label>\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex-1\">\n                <input type=\"range\" min=\"0\" max=\"10\" step=\"0.1\" value={rating}\n                  onChange={e => setRating(parseFloat(e.target.value))}\n                  className=\"w-full h-1.5 rounded-full appearance-none cursor-pointer bg-dark-600\n                    [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4\n                    [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent [&::-webkit-slider-thumb]:shadow-lg\n                    [&::-webkit-slider-thumb]:shadow-accent/30 [&::-webkit-slider-thumb]:cursor-pointer\n                    [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-white/20\" />\n                <div className=\"flex justify-between mt-1\">\n                  <span className=\"text-[9px] text-white/15\">0</span>\n                  <span className=\"text-[9px] text-white/15\">5</span>\n                  <span className=\"text-[9px] text-white/15\">10</span>\n                </div>\n              </div>\n              <div className=\"text-right min-w-[60px]\">\n                <span className={`text-2xl font-black bg-gradient-to-r ${rating > 0 ? getRatingColor(rating) : 'from-white/20 to-white/20'} bg-clip-text text-transparent`}>\n                  {rating > 0 ? Number(rating).toFixed(1) : '—'}\n                </span>\n                {rating > 0 && <p className=\"text-[9px] text-white/30\">{getRatingLabel(rating)}</p>}\n              </div>\n            </div>\n            {/* Quick picks */}\n            <div className=\"flex gap-1 mt-2\">\n              {[5, 6, 7, 7.5, 8, 8.5, 9, 9.5, 10].map(n => (\n                <button key={n} onClick={() => setRating(n)}\n                  className={`flex-1 py-1 rounded text-[9px] font-bold transition-all ${\n                    rating === n ? 'bg-accent text-white' : 'bg-dark-700 text-white/25 hover:bg-dark-600 hover:text-white/50'\n                  }`}>{n}</button>\n              ))}\n            </div>\n          </div>\n\n          {/* Review */}\n          <div>\n            <label className=\"text-[10px] text-white/30 uppercase tracking-wider block mb-2\">Your Thoughts</label>\n            <textarea value={review} onChange={e => setReview(e.target.value)}\n              placeholder=\"What did you think? (optional)\" rows={2}\n              className=\"w-full bg-dark-700/50 border border-white/[0.06] rounded-xl px-3 py-2.5 text-sm text-white/80 placeholder-white/20 focus:outline-none focus:border-accent/40 resize-none transition-colors\" />\n          </div>\n\n          {/* Save */}\n          <button onClick={handleSave} disabled={saving}\n            className=\"w-full btn-primary py-2.5 text-sm font-semibold disabled:opacity-50 transition-all\">\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* ─────────────────────────────────────────────────── */\n/*  Book Detail View                                    */\n/* ─────────────────────────────────────────────────── */\nfunction BookDetails({ workKey, navigate }) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const toast = useToast();\n\n  useEffect(() => {\n    let cancelled = false;\n    setLoading(true);\n    const key = workKey.startsWith('/works/') ? workKey : `/works/${workKey}`;\n    getBookDetails(key).then(result => {\n      if (!cancelled) { setData(result); setLoading(false); }\n    });\n    return () => { cancelled = true; };\n  }, [workKey]);\n\n  if (loading) return <div className=\"flex justify-center py-20\"><div className=\"w-8 h-8 border-2 border-dark-500 border-t-accent rounded-full animate-spin\" /></div>;\n  if (!data) return <div className=\"text-center py-20 text-white/40\"><h3 className=\"text-lg\">Book not found</h3></div>;\n\n  const totalReaders = (data.want_to_read || 0) + (data.currently_reading || 0) + (data.already_read || 0);\n  const searchQ = encodeURIComponent(`${data.title} book`);\n\n  return (\n    <div>\n      {/* Gradient backdrop */}\n      <div className=\"absolute top-0 left-0 w-full h-80 -z-10 overflow-hidden\">\n        <div className=\"w-full h-full bg-gradient-to-br from-accent/15 via-dark-800 to-dark-900\" />\n        <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-dark-900\" />\n      </div>\n\n      <button onClick={() => navigate(-1)} className=\"inline-flex items-center gap-1 text-white/50 hover:text-white mb-8 transition-colors\">\n        <ChevronLeft size={22} strokeWidth={2.5} /> Back\n      </button>\n\n      <div className=\"flex flex-col md:flex-row gap-8\">\n        {/* Cover — uses BookCover for automatic fallback chain */}\n        <BookCover\n          urls={data.cover_urls || (data.poster_path ? [data.poster_path] : [])}\n          alt={data.title}\n          className=\"w-48 sm:w-56 md:w-64 max-h-[400px] rounded-2xl shadow-2xl shadow-black/50 flex-shrink-0 bg-dark-700 object-contain\"\n        >\n          <div className=\"w-48 sm:w-56 md:w-64 aspect-[2/3] rounded-2xl bg-dark-700 flex items-center justify-center text-white/30 text-sm flex-shrink-0\">\n            <BookOpen size={48} className=\"text-white/10\" />\n          </div>\n        </BookCover>\n\n        {/* Info */}\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">{data.title}</h1>\n\n          {/* Authors */}\n          {data.authors?.length > 0 && (\n            <div className=\"flex flex-wrap items-center gap-3 mb-3\">\n              {data.authors.map((author, i) => (\n                <a\n                  key={author.key || i}\n                  href={`https://www.google.com/search?q=${encodeURIComponent(author.name + ' author')}`}\n                  target=\"_blank\" rel=\"noopener noreferrer\"\n                  className=\"flex items-center gap-2 hover:text-accent transition-colors\"\n                >\n                  {author.photo ? (\n                    <img src={author.photo} alt={author.name} className=\"w-7 h-7 rounded-full object-cover border border-white/10\" />\n                  ) : (\n                    <div className=\"w-7 h-7 rounded-full bg-dark-600 flex items-center justify-center text-white/30 text-xs font-bold border border-white/10\">\n                      {author.name?.charAt(0)}\n                    </div>\n                  )}\n                  <span className=\"text-sm text-white/60\">{author.name}</span>\n                  <ExternalLink size={12} className=\"text-white/20\" />\n                </a>\n              ))}\n            </div>\n          )}\n\n          <p className=\"text-white/40 text-sm mb-5\">\n            {data.first_publish_date && `First published ${data.first_publish_date}`}\n            {data.edition_count > 0 && ` · ${data.edition_count} editions`}\n          </p>\n\n          {/* Rating + Stats */}\n          <div className=\"flex flex-wrap items-start gap-3 mb-6\">\n            {data.rating && (\n              <a href={`https://openlibrary.org${data.key}`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"bg-accent/10 border border-accent/20 rounded-xl px-4 py-3 text-center min-w-[80px] hover:bg-accent/20 transition-colors\">\n                <div className=\"flex items-center justify-center gap-1.5 mb-1\">\n                  <Star size={16} className=\"text-gold fill-gold\" />\n                  <span className=\"text-xl font-black\">{data.rating}</span>\n                  <span className=\"text-white/30 text-xs\">/ 10</span>\n                </div>\n                <p className=\"text-[10px] text-white/40 uppercase tracking-wider\">Open Library</p>\n                {data.ratings_count > 0 && <p className=\"text-[9px] text-white/20\">{data.ratings_count.toLocaleString()} ratings</p>}\n              </a>\n            )}\n\n            {totalReaders > 0 && (\n              <div className=\"bg-white/[0.04] border border-white/[0.06] rounded-xl px-4 py-3 text-center min-w-[80px]\">\n                <div className=\"flex items-center justify-center gap-1.5 mb-1\">\n                  <Users size={14} className=\"text-accent\" />\n                  <span className=\"text-lg font-bold\">{totalReaders.toLocaleString()}</span>\n                </div>\n                <p className=\"text-[10px] text-white/30\">Readers</p>\n              </div>\n            )}\n\n            {data.edition_count > 0 && (\n              <div className=\"bg-white/[0.04] border border-white/[0.06] rounded-xl px-4 py-3 text-center min-w-[80px]\">\n                <div className=\"flex items-center justify-center gap-1.5 mb-1\">\n                  <BookCopy size={14} className=\"text-white/50\" />\n                  <span className=\"text-lg font-bold\">{data.edition_count}</span>\n                </div>\n                <p className=\"text-[10px] text-white/30\">Editions</p>\n              </div>\n            )}\n          </div>\n\n          {/* Reader breakdown */}\n          {totalReaders > 0 && (\n            <>\n              <div className=\"flex flex-wrap gap-4 text-xs text-white/40 mb-4\">\n                {data.want_to_read > 0 && <span className=\"flex items-center gap-1.5\"><BookMarked size={14} className=\"text-accent/70\" /> {data.want_to_read.toLocaleString()} want to read</span>}\n                {data.currently_reading > 0 && <span className=\"flex items-center gap-1.5\"><Eye size={14} className=\"text-blue-400/70\" /> {data.currently_reading.toLocaleString()} reading now</span>}\n                {data.already_read > 0 && <span className=\"flex items-center gap-1.5\"><CheckCircle2 size={14} className=\"text-green-400/70\" /> {data.already_read.toLocaleString()} have read</span>}\n              </div>\n              <p className=\"text-[10px] text-white/20 mb-6\">Reader data via Open Library</p>\n            </>\n          )}\n\n          {/* Description */}\n          {data.description && (\n            <p className=\"text-white/60 leading-relaxed mb-6 max-w-2xl whitespace-pre-line\">{data.description}</p>\n          )}\n\n          {/* Subjects */}\n          {data.subjects?.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 mb-6\">\n              {data.subjects.map(s => (\n                <span key={s} className=\"text-xs bg-white/[0.04] border border-white/[0.06] rounded-full px-3 py-1 text-white/50\">{s}</span>\n              ))}\n            </div>\n          )}\n\n          {/* Where to Get */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-sm font-semibold text-white/60 mb-3 uppercase tracking-wider\">Where to Get</h3>\n            <div className=\"flex flex-wrap gap-2\">\n              <a href={`https://openlibrary.org${data.key}`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"flex items-center gap-2 bg-white/[0.04] border border-white/[0.06] rounded-lg px-4 py-2.5 hover:bg-white/[0.08] transition-colors\">\n                <BookOpen size={16} className=\"text-white/60\" />\n                <span className=\"text-xs font-medium\">Read Free</span>\n                <ExternalLink size={12} className=\"text-white/30\" />\n              </a>\n              <a href={`https://www.amazon.com/s?k=${searchQ}`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"flex items-center gap-2 bg-[#ff9900]/10 border border-[#ff9900]/20 rounded-lg px-4 py-2.5 hover:bg-[#ff9900]/20 transition-colors\">\n                <ShoppingCart size={16} className=\"text-[#ff9900]\" />\n                <span className=\"text-xs font-medium text-[#ff9900]\">Amazon</span>\n                <ExternalLink size={12} className=\"text-[#ff9900]/40\" />\n              </a>\n              <a href={`https://www.booktopia.com.au/search?keywords=${searchQ}`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"flex items-center gap-2 bg-white/[0.04] border border-white/[0.06] rounded-lg px-4 py-2.5 hover:bg-white/[0.08] transition-colors\">\n                <ShoppingCart size={16} className=\"text-white/60\" />\n                <span className=\"text-xs font-medium\">Booktopia</span>\n                <ExternalLink size={12} className=\"text-white/30\" />\n              </a>\n              <a href={`https://www.goodreads.com/search?q=${searchQ}`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"flex items-center gap-2 bg-white/[0.04] border border-white/[0.06] rounded-lg px-4 py-2.5 hover:bg-white/[0.08] transition-colors\">\n                <Star size={16} className=\"text-white/60\" />\n                <span className=\"text-xs font-medium\">Goodreads</span>\n                <ExternalLink size={12} className=\"text-white/30\" />\n              </a>\n            </div>\n          </div>\n\n          {/* Fun Facts */}\n          {(() => {\n            const facts = [];\n            if (data.edition_count >= 50) facts.push(`📚 Published in ${data.edition_count} editions worldwide — a true global phenomenon.`);\n            else if (data.edition_count >= 10) facts.push(`📖 Available in ${data.edition_count} different editions.`);\n            if (data.already_read > 10000) facts.push(`🏆 Over ${Math.floor(data.already_read / 1000) * 1000} readers have finished this book on Open Library alone.`);\n            if (data.currently_reading > 1000) facts.push(`👀 ${data.currently_reading.toLocaleString()} people are reading this right now!`);\n            if (data.want_to_read > 50000) facts.push(`🔥 More than ${Math.floor(data.want_to_read / 1000)}k people have this on their reading list.`);\n            if (data.ratings_count > 1000) facts.push(`⭐ Rated by ${data.ratings_count.toLocaleString()} readers with an average of ${data.rating}/10.`);\n            if (data.first_publish_date) {\n              const yearMatch = data.first_publish_date.match(/\\d{4}/);\n              if (yearMatch) {\n                const age = new Date().getFullYear() - parseInt(yearMatch[0]);\n                if (age > 100) facts.push(`🕰️ First published ${age} years ago — a true classic that has stood the test of time.`);\n                else if (age > 50) facts.push(`📅 Published over ${age} years ago and still widely read today.`);\n                else if (age <= 2) facts.push(`✨ A brand new release — one of the latest books to hit shelves.`);\n              }\n            }\n            if (data.subjects?.some(s => s.toLowerCase().includes('new york times'))) facts.push(`📰 A New York Times bestseller.`);\n            if (data.subjects?.some(s => s.toLowerCase().includes('pulitzer'))) facts.push(`🏅 Pulitzer Prize-related work.`);\n            if (data.authors?.length > 2) facts.push(`✍️ A collaborative work by ${data.authors.length} authors.`);\n            return facts.length > 0 ? (\n              <div className=\"mb-8\">\n                <h3 className=\"text-sm font-semibold text-white/60 mb-3 uppercase tracking-wider flex items-center gap-2\">\n                  <Lightbulb size={14} className=\"text-gold\" /> Fun Facts\n                </h3>\n                <div className=\"space-y-2\">\n                  {facts.slice(0, 4).map((fact, i) => (\n                    <div key={i} className=\"flex items-start gap-3 bg-white/[0.03] border border-white/[0.06] rounded-xl px-4 py-3\">\n                      <Sparkles size={14} className=\"text-accent mt-0.5 flex-shrink-0\" />\n                      <p className=\"text-sm text-white/60 leading-relaxed\">{fact}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ) : null;\n          })()}\n\n          <LibraryPanel\n            mediaId={{ openlibrary_key: data.key }}\n            addPayload={{\n              openlibrary_key: data.key,\n              media_type: 'book',\n              title: data.title,\n              poster_path: data.poster_path,\n              overview: data.description?.slice(0, 500) || '',\n              external_rating: data.rating,\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ─────────────────────────────────────────────────── */\n/*  Movie / TV Detail View                              */\n/* ─────────────────────────────────────────────────── */\nfunction Details() {\n  const { mediaType, id } = useParams();\n  const navigate = useNavigate();\n\n  // Book detail route\n  if (mediaType === 'book') {\n    return <BookDetails workKey={id} navigate={navigate} />;\n  }\n\n  return <MovieTVDetails mediaType={mediaType} id={id} navigate={navigate} />;\n}\n\nfunction MovieTVDetails({ mediaType, id, navigate }) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [extRatings, setExtRatings] = useState(null);\n  const [ratingsLoaded, setRatingsLoaded] = useState(false);\n  const [malData, setMalData] = useState(null);\n  const toast = useToast();\n\n  useEffect(() => {\n    async function load() {\n      setLoading(true);\n      setExtRatings(null);\n      setRatingsLoaded(false);\n      setMalData(null);\n      const fetcher = mediaType === 'movie' ? getMovieDetails : getTVDetails;\n      const result = await fetcher(id);\n      setData(result);\n      setLoading(false);\n\n      const imdbId = result.external_ids?.imdb_id || result.imdb_id;\n      const resultTitle = result.name || result.title;\n      if (imdbId) {\n        // Try to get OMDb ratings, retry once after 2s if rate-limited\n        const fetchRatings = async () => {\n          let r = await getOMDbRatings(imdbId, resultTitle, mediaType).catch(() => null);\n          if (!r) {\n            await new Promise(resolve => setTimeout(resolve, 2000));\n            r = await getOMDbRatings(imdbId, resultTitle, mediaType).catch(() => null);\n          }\n          return r;\n        };\n        fetchRatings().then(r => { setExtRatings(r); setRatingsLoaded(true); });\n      } else {\n        setRatingsLoaded(true);\n      }\n\n      // Fetch MAL rating for anime\n      const anime = result.original_language === 'ja' &&\n        result.genres?.some(g => g.id === 16);\n      if (anime) {\n        getMALRating(resultTitle).then(r => setMalData(r));\n      }\n    }\n    load();\n  }, [mediaType, id]);\n\n  // Compute unified score (must be before early returns to keep hooks order stable)\n  const isAnime = data ? (data.original_language === 'ja' && data.genres?.some(g => g.id === 16)) : false;\n  const avgScore = computeUnifiedRating(extRatings, malData, isAnime);\n\n  // Persist Syllabus Score so it's available on MediaCards everywhere\n  useEffect(() => {\n    if (avgScore != null && data?.id) {\n      setSyllabusScore(mediaType, data.id, avgScore);\n    }\n  }, [avgScore, data?.id, mediaType]);\n\n  if (loading) return <div className=\"flex justify-center py-20\"><div className=\"w-8 h-8 border-2 border-dark-500 border-t-accent rounded-full animate-spin\" /></div>;\n  if (!data) return <div className=\"text-center py-20 text-white/40\"><h3 className=\"text-lg\">Not found</h3></div>;\n\n  const title = data.title || data.name;\n  const year = (data.release_date || data.first_air_date || '').slice(0, 4);\n  const genres = data.genres?.map(g => g.name).join(', ');\n  const recommendations = data.recommendations?.results?.slice(0, 10) || [];\n  const imdbId = extRatings?.imdb_id || data.external_ids?.imdb_id;\n\n  // Extract directors & writers from TMDB crew (with profile photos)\n  const crew = data.credits?.crew || [];\n  const directors = crew.filter(c => c.job === 'Director').slice(0, 3);\n  const writers = crew.filter(c => c.department === 'Writing').slice(0, 4);\n\n  // Find best trailer (prefer Official Trailer, then any Trailer, then Teaser)\n  const trailer = (() => {\n    const vids = (data.videos?.results || []).filter(v => v.site === 'YouTube');\n    return vids.find(v => v.type === 'Trailer' && v.name.toLowerCase().includes('official'))\n      || vids.find(v => v.type === 'Trailer')\n      || vids.find(v => v.type === 'Teaser')\n      || vids[0]\n      || null;\n  })();\n\n  // Streaming providers (AU first, fallback to US)\n  const wpData = data['watch/providers']?.results;\n  const providers = wpData?.AU || wpData?.US || null;\n  const streamingProviders = providers?.flatrate || [];\n  const rentProviders = providers?.rent || [];\n  const buyProviders = providers?.buy || [];\n\n  // Quick Facts card — rendered in poster column (desktop) and info column (mobile)\n  const quickFactsCard = (\n    <div className=\"bg-white/[0.03] border border-white/[0.06] rounded-xl p-4 space-y-3\">\n      {data.tagline && (\n        <p className=\"text-xs italic text-white/40 leading-relaxed\">\"{data.tagline}\"</p>\n      )}\n      {directors.length > 0 && (\n        <div>\n          <p className=\"text-[10px] text-white/30 uppercase tracking-wider mb-2\">Director</p>\n          <div className=\"space-y-2\">\n            {directors.map(d => (\n              <a key={d.id} href={`https://www.google.com/search?q=${encodeURIComponent(d.name + ' filmmaker')}`}\n                target=\"_blank\" rel=\"noopener noreferrer\" className=\"flex items-center gap-2.5 group/crew hover:bg-white/[0.04] rounded-lg p-1 -m-1 transition-colors\">\n                {d.profile_path ? (\n                  <img src={`${TMDB_PROFILE}${d.profile_path}`} alt={d.name}\n                    className=\"w-8 h-8 rounded-full object-cover border border-white/[0.08] group-hover/crew:border-accent/40 transition-colors\" />\n                ) : (\n                  <div className=\"w-8 h-8 rounded-full bg-dark-600 flex items-center justify-center text-white/20 text-xs font-bold border border-white/[0.08] group-hover/crew:border-accent/40 transition-colors\">\n                    {d.name?.charAt(0)}\n                  </div>\n                )}\n                <span className=\"text-xs text-white/70 group-hover/crew:text-accent transition-colors\">{d.name}</span>\n              </a>\n            ))}\n          </div>\n        </div>\n      )}\n      {writers.length > 0 && (\n        <div>\n          <p className=\"text-[10px] text-white/30 uppercase tracking-wider mb-2\">Writer</p>\n          <div className=\"space-y-2\">\n            {writers.map(w => (\n              <a key={w.id + w.job} href={`https://www.google.com/search?q=${encodeURIComponent(w.name + ' writer')}`}\n                target=\"_blank\" rel=\"noopener noreferrer\" className=\"flex items-center gap-2.5 group/crew hover:bg-white/[0.04] rounded-lg p-1 -m-1 transition-colors\">\n                {w.profile_path ? (\n                  <img src={`${TMDB_PROFILE}${w.profile_path}`} alt={w.name}\n                    className=\"w-8 h-8 rounded-full object-cover border border-white/[0.08] group-hover/crew:border-accent/40 transition-colors\" />\n                ) : (\n                  <div className=\"w-8 h-8 rounded-full bg-dark-600 flex items-center justify-center text-white/20 text-xs font-bold border border-white/[0.08] group-hover/crew:border-accent/40 transition-colors\">\n                    {w.name?.charAt(0)}\n                  </div>\n                )}\n                <div>\n                  <span className=\"text-xs text-white/70 group-hover/crew:text-accent transition-colors block\">{w.name}</span>\n                  <span className=\"text-[10px] text-white/25\">{w.job}</span>\n                </div>\n              </a>\n            ))}\n          </div>\n        </div>\n      )}\n      {extRatings?.rated && (\n        <div className=\"flex items-start gap-2.5\">\n          <Film size={14} className=\"text-white/30 mt-0.5 flex-shrink-0\" />\n          <div>\n            <p className=\"text-[10px] text-white/30 uppercase tracking-wider\">Rated</p>\n            <p className=\"text-xs text-white/70\">{extRatings.rated}</p>\n          </div>\n        </div>\n      )}\n      {extRatings?.awards && (\n        <div className=\"flex items-start gap-2.5\">\n          <Award size={14} className=\"text-accent/60 mt-0.5 flex-shrink-0\" />\n          <div>\n            <p className=\"text-[10px] text-white/30 uppercase tracking-wider\">Awards</p>\n            <p className=\"text-xs text-white/70 leading-relaxed\">{extRatings.awards}</p>\n          </div>\n        </div>\n      )}\n      {(extRatings?.boxOffice || data.budget > 0 || data.revenue > 0) && (\n        <div className=\"flex items-start gap-2.5\">\n          <DollarSign size={14} className=\"text-green-400/60 mt-0.5 flex-shrink-0\" />\n          <div>\n            <p className=\"text-[10px] text-white/30 uppercase tracking-wider\">Box Office</p>\n            {data.budget > 0 && <p className=\"text-xs text-white/50\">Budget: ${(data.budget / 1e6).toFixed(0)}M</p>}\n            {extRatings?.boxOffice && <p className=\"text-xs text-white/70\">Gross: {extRatings.boxOffice}</p>}\n            {data.revenue > 0 && <p className=\"text-xs text-white/70\">Revenue: ${(data.revenue / 1e6).toFixed(0)}M</p>}\n          </div>\n        </div>\n      )}\n      {extRatings?.country && (\n        <div className=\"flex items-start gap-2.5\">\n          <Globe size={14} className=\"text-white/30 mt-0.5 flex-shrink-0\" />\n          <div>\n            <p className=\"text-[10px] text-white/30 uppercase tracking-wider\">Country</p>\n            <p className=\"text-xs text-white/70\">{extRatings.country}</p>\n          </div>\n        </div>\n      )}\n      {data.production_companies?.length > 0 && (\n        <div className=\"flex items-start gap-2.5\">\n          <Info size={14} className=\"text-white/30 mt-0.5 flex-shrink-0\" />\n          <div>\n            <p className=\"text-[10px] text-white/30 uppercase tracking-wider\">Studio</p>\n            <p className=\"text-xs text-white/70\">{data.production_companies.slice(0, 2).map(c => c.name).join(', ')}</p>\n          </div>\n        </div>\n      )}\n      {!ratingsLoaded && data.external_ids?.imdb_id && (\n        <div className=\"space-y-3 animate-pulse\">\n          {[1,2,3].map(i => (<div key={i} className=\"flex gap-2.5\"><div className=\"w-3 h-3 bg-dark-600 rounded\" /><div className=\"flex-1\"><div className=\"h-2 w-10 bg-dark-600 rounded mb-1\" /><div className=\"h-3 w-20 bg-dark-600 rounded\" /></div></div>))}\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div>\n      {/* Backdrop */}\n      {data.backdrop_path && (\n        <div className=\"absolute top-0 left-0 w-full h-80 -z-10 overflow-hidden\">\n          <img src={`${TMDB_BACKDROP}${data.backdrop_path}`} alt=\"\" className=\"w-full h-full object-cover opacity-20\" />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-dark-900\" />\n        </div>\n      )}\n\n      <button onClick={() => navigate(-1)}\n        className=\"inline-flex items-center gap-1 text-white/50 hover:text-white mb-8 transition-colors\">\n        <ChevronLeft size={22} strokeWidth={2.5} /> Back\n      </button>\n\n      <div className=\"flex flex-col md:flex-row gap-8\">\n        {/* Poster column — sticky on desktop */}\n        <div className=\"flex-shrink-0 md:sticky md:top-8 md:self-start w-48 sm:w-56 md:w-64 lg:w-72 xl:w-80\">\n          {data.poster_path ? (\n            <img src={`${TMDB_IMG}${data.poster_path}`} alt={title}\n              className=\"w-full rounded-2xl shadow-2xl shadow-black/50 aspect-[2/3] object-cover\" />\n          ) : (\n            <div className=\"w-full aspect-[2/3] rounded-2xl bg-dark-700 flex items-center justify-center text-white/30 text-sm\">\n              No Poster\n            </div>\n          )}\n\n          {/* ── Quick Facts card (desktop only) ── */}\n          <div className=\"hidden md:block mt-4\">\n            {quickFactsCard}\n          </div>\n        </div>\n\n        {/* Info */}\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-3xl md:text-4xl font-bold mb-3\">{title}</h1>\n\n          <p className=\"text-white/40 text-sm mb-4\">\n            {year} {genres && `· ${genres}`}\n            {data.runtime && ` · ${data.runtime} min`}\n            {data.number_of_seasons && ` · ${data.number_of_seasons} season${data.number_of_seasons > 1 ? 's' : ''}`}\n          </p>\n\n          {/* ── Ratings ── */}\n          <div className=\"flex flex-wrap items-stretch gap-3 mb-6\">\n            {/* Syllabus Score — unified, cached, or TMDB fallback */}\n            {(() => {\n              const syllabusScore = avgScore || getSyllabusScore(mediaType, data.id);\n              const displayScore = syllabusScore || (data.vote_average ? data.vote_average.toFixed(1) : null);\n              const label = syllabusScore ? 'Syllabus Score' : 'TMDB';\n              return displayScore ? (\n                <div className=\"bg-accent/10 border border-accent/20 rounded-xl px-4 py-3 text-center min-w-[90px] flex flex-col justify-center\">\n                  <div className=\"flex items-center justify-center gap-1.5 mb-1\">\n                    <Star size={16} className=\"text-gold fill-gold\" />\n                    <span className=\"text-xl font-black\">{displayScore}</span>\n                    <span className=\"text-white/30 text-xs\">/ 10</span>\n                  </div>\n                  <p className=\"text-[10px] text-white/40 uppercase tracking-wider\">{label}</p>\n                </div>\n              ) : null;\n            })()}\n\n            {/* IMDb — links to IMDb page */}\n            {extRatings?.imdb && (\n              <a href={`https://www.imdb.com/title/${imdbId}/`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"bg-[#f5c518]/[0.08] border border-[#f5c518]/20 rounded-xl px-4 py-3 text-center min-w-[90px] hover:bg-[#f5c518]/[0.15] transition-colors cursor-pointer flex flex-col justify-center\">\n                <p className=\"text-xl font-black text-[#f5c518]\">{extRatings.imdb.score}</p>\n                <p className=\"text-[10px] text-white/30 mt-0.5 flex items-center justify-center gap-1\">IMDb <ExternalLink size={10} /></p>\n                {extRatings.imdb.votes && (\n                  <p className=\"text-[9px] text-white/20\">{extRatings.imdb.votes} votes</p>\n                )}\n              </a>\n            )}\n\n            {/* Rotten Tomatoes — links to RT search */}\n            {extRatings?.rt && (\n              <a href={`https://www.rottentomatoes.com/search?search=${encodeURIComponent(title)}`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"bg-white/[0.04] border border-white/[0.06] rounded-xl px-4 py-3 text-center min-w-[90px] hover:bg-white/[0.08] transition-colors cursor-pointer flex flex-col justify-center\">\n                <p className=\"text-xl font-black\">\n                  <span className={parseInt(extRatings.rt.score) >= 60 ? 'text-red-400' : 'text-green-400'}>\n                    🍅 {extRatings.rt.score}\n                  </span>\n                </p>\n                <p className=\"text-[10px] text-white/30 mt-0.5 flex items-center justify-center gap-1\">Rotten Tomatoes <ExternalLink size={10} /></p>\n              </a>\n            )}\n\n            {/* MAL (anime only) */}\n            {isAnime && malData?.score && (\n              <a href={malData.url} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"bg-[#2e51a2]/10 border border-[#2e51a2]/20 rounded-xl px-4 py-3 text-center min-w-[90px] hover:bg-[#2e51a2]/20 transition-colors flex flex-col justify-center\">\n                <p className=\"text-xl font-black text-[#2e51a2]\">{malData.score}</p>\n                <p className=\"text-[10px] text-white/30 mt-0.5 flex items-center justify-center gap-1\">MAL <ExternalLink size={10} /></p>\n                {malData.scored_by && (\n                  <p className=\"text-[9px] text-white/20\">{malData.scored_by.toLocaleString()} votes</p>\n                )}\n              </a>\n            )}\n\n            {/* Crunchyroll (anime only) */}\n            {isAnime && (\n              <a href={`https://www.crunchyroll.com/search?q=${encodeURIComponent(title)}`} target=\"_blank\" rel=\"noopener noreferrer\"\n                className=\"bg-[#f47521]/10 border border-[#f47521]/20 rounded-xl px-4 py-3 text-center min-w-[90px] hover:bg-[#f47521]/20 transition-colors flex flex-col justify-center\">\n                <p className=\"text-xl font-black text-[#f47521]\">CR</p>\n                <p className=\"text-[10px] text-white/30 mt-0.5 flex items-center justify-center gap-1\">Crunchyroll <ExternalLink size={10} /></p>\n              </a>\n            )}\n\n            {/* Loading shimmer — only while actually loading, not after failure */}\n            {!ratingsLoaded && data.external_ids?.imdb_id && (\n              <div className=\"bg-white/[0.02] border border-white/[0.04] rounded-xl px-4 py-3 text-center min-w-[90px] animate-pulse flex flex-col justify-center\">\n                <div className=\"h-5 w-12 bg-dark-600 rounded mx-auto mb-1\" />\n                <div className=\"h-2 w-8 bg-dark-600 rounded mx-auto\" />\n              </div>\n            )}\n          </div>\n\n          <p className=\"text-white/60 leading-relaxed mb-6 max-w-2xl\">{data.overview}</p>\n\n          {/* ── Quick Facts card (mobile only) ── */}\n          <div className=\"md:hidden mb-6\">\n            {quickFactsCard}\n          </div>\n\n          {/* ── Trailer ── */}\n          {trailer && (\n            <div className=\"mb-8\">\n              <h3 className=\"text-sm font-semibold text-white/60 mb-3 uppercase tracking-wider flex items-center gap-2\">\n                <Play size={14} /> Trailer\n              </h3>\n              <div className=\"relative w-full max-w-2xl aspect-video rounded-xl overflow-hidden border border-white/[0.06] bg-dark-700\">\n                <iframe\n                  src={`https://www.youtube.com/embed/${trailer.key}?rel=0&modestbranding=1`}\n                  title={trailer.name}\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                  allowFullScreen\n                  className=\"absolute inset-0 w-full h-full\"\n                />\n              </div>\n              <p className=\"text-[10px] text-white/20 mt-2\">{trailer.name}</p>\n            </div>\n          )}\n\n          {/* ── Cast ── */}\n          {data.credits?.cast?.length > 0 && (\n            <div className=\"mb-8\">\n              <h3 className=\"text-sm font-semibold text-white/60 mb-3 uppercase tracking-wider\">Cast</h3>\n              <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n                {data.credits.cast.slice(0, 10).map(actor => (\n                  <a\n                    key={actor.id}\n                    href={`https://www.google.com/search?q=${encodeURIComponent(actor.name + ' actor')}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"flex-shrink-0 w-[90px] group/actor text-center\"\n                  >\n                    {actor.profile_path ? (\n                      <img\n                        src={`${TMDB_PROFILE}${actor.profile_path}`}\n                        alt={actor.name}\n                        className=\"w-[90px] h-[90px] rounded-full object-cover border-2 border-white/[0.06] group-hover/actor:border-accent/40 transition-colors\"\n                      />\n                    ) : (\n                      <div className=\"w-[90px] h-[90px] rounded-full bg-dark-600 flex items-center justify-center text-white/20 text-lg font-bold border-2 border-white/[0.06] group-hover/actor:border-accent/40 transition-colors\">\n                        {actor.name?.charAt(0)}\n                      </div>\n                    )}\n                    <p className=\"text-xs font-medium mt-2 truncate group-hover/actor:text-accent transition-colors\">{actor.name}</p>\n                    <p className=\"text-[10px] text-white/30 truncate\">{actor.character}</p>\n                  </a>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* ── Where to Watch ── */}\n          {(streamingProviders.length > 0 || rentProviders.length > 0 || buyProviders.length > 0) && (\n            <div className=\"mb-8\">\n              <h3 className=\"text-sm font-semibold text-white/60 mb-3 uppercase tracking-wider\">Where to Watch</h3>\n              <div className=\"space-y-3\">\n                {streamingProviders.length > 0 && (\n                  <div>\n                    <p className=\"text-[10px] text-white/30 mb-1.5 uppercase\">Stream</p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {streamingProviders.map(p => (\n                        <a key={p.provider_id} href={getProviderUrl(p.provider_name, title, providers?.link)} target=\"_blank\" rel=\"noopener noreferrer\"\n                          className=\"flex items-center gap-2 bg-white/[0.04] border border-white/[0.06] rounded-lg px-3 py-2 hover:bg-white/[0.08] transition-colors\">\n                          {p.logo_path && <img src={`${TMDB_LOGO}${p.logo_path}`} alt=\"\" className=\"w-6 h-6 rounded object-cover\" />}\n                          <span className=\"text-xs font-medium\">{p.provider_name}</span>\n                          <ExternalLink size={11} className=\"text-white/20\" />\n                        </a>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                {rentProviders.length > 0 && (\n                  <div>\n                    <p className=\"text-[10px] text-white/30 mb-1.5 uppercase\">Rent</p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {rentProviders.slice(0, 6).map(p => (\n                        <a key={p.provider_id} href={getProviderUrl(p.provider_name, title, providers?.link)} target=\"_blank\" rel=\"noopener noreferrer\"\n                          className=\"flex items-center gap-2 bg-white/[0.04] border border-white/[0.06] rounded-lg px-3 py-2 hover:bg-white/[0.08] transition-colors\">\n                          {p.logo_path && <img src={`${TMDB_LOGO}${p.logo_path}`} alt=\"\" className=\"w-5 h-5 rounded object-cover\" />}\n                          <span className=\"text-xs text-white/60\">{p.provider_name}</span>\n                        </a>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                {buyProviders.length > 0 && (\n                  <div>\n                    <p className=\"text-[10px] text-white/30 mb-1.5 uppercase\">Buy</p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {buyProviders.slice(0, 6).map(p => (\n                        <a key={p.provider_id} href={getProviderUrl(p.provider_name, title, providers?.link)} target=\"_blank\" rel=\"noopener noreferrer\"\n                          className=\"flex items-center gap-2 bg-white/[0.04] border border-white/[0.06] rounded-lg px-3 py-2 hover:bg-white/[0.08] transition-colors\">\n                          {p.logo_path && <img src={`${TMDB_LOGO}${p.logo_path}`} alt=\"\" className=\"w-5 h-5 rounded object-cover\" />}\n                          <span className=\"text-xs text-white/60\">{p.provider_name}</span>\n                        </a>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n              </div>\n            </div>\n          )}\n\n          {/* ── Fun Facts ── */}\n          {(() => {\n            const facts = [];\n            const releaseYear = parseInt((data.release_date || data.first_air_date || '').slice(0, 4));\n            const age = releaseYear ? new Date().getFullYear() - releaseYear : 0;\n\n            // Budget & revenue facts\n            if (data.budget > 0 && data.revenue > 0) {\n              const ratio = (data.revenue / data.budget).toFixed(0);\n              if (data.revenue > data.budget * 10) facts.push(`💰 Made ${ratio}x its budget — earning $${(data.revenue / 1e6).toFixed(0)}M from a $${(data.budget / 1e6).toFixed(0)}M budget.`);\n              else if (data.revenue > data.budget * 3) facts.push(`📈 Earned $${(data.revenue / 1e6).toFixed(0)}M against a $${(data.budget / 1e6).toFixed(0)}M budget — a ${ratio}x return.`);\n              else if (data.revenue < data.budget) facts.push(`📉 Only earned $${(data.revenue / 1e6).toFixed(0)}M against a $${(data.budget / 1e6).toFixed(0)}M budget — a box office underperformer.`);\n            } else if (data.budget > 200e6) {\n              facts.push(`🎬 Had a massive $${(data.budget / 1e6).toFixed(0)}M production budget.`);\n            }\n\n            // Awards\n            if (extRatings?.awards) {\n              const oscars = extRatings.awards.match(/Won (\\d+) Oscar/);\n              const noms = extRatings.awards.match(/Nominated for (\\d+) Oscar/);\n              if (oscars) facts.push(`🏆 Won ${oscars[1]} Academy Award${parseInt(oscars[1]) > 1 ? 's' : ''}.`);\n              else if (noms) facts.push(`🎖️ Nominated for ${noms[1]} Academy Award${parseInt(noms[1]) > 1 ? 's' : ''}.`);\n              else if (extRatings.awards.includes('win')) facts.push(`🏅 ${extRatings.awards}`);\n            }\n\n            // Age & classic status\n            if (age > 50) facts.push(`🕰️ Released ${age} years ago and still beloved — a true classic.`);\n            else if (age > 25) facts.push(`📅 Over ${age} years old and still highly regarded.`);\n            else if (age <= 1 && releaseYear) facts.push(`✨ A brand new release from ${releaseYear}.`);\n\n            // Popularity & votes\n            if (data.vote_count > 20000) facts.push(`🌍 Rated by over ${Math.floor(data.vote_count / 1000)}k people on TMDB — one of the most-reviewed titles.`);\n            else if (data.vote_count > 5000) facts.push(`⭐ Rated by ${data.vote_count.toLocaleString()} users on TMDB.`);\n\n            // Runtime\n            if (data.runtime > 180) facts.push(`⏱️ At ${data.runtime} minutes, this is an epic-length film — bring snacks.`);\n            else if (data.runtime && data.runtime < 90) facts.push(`⚡ At just ${data.runtime} minutes, it's a quick but impactful watch.`);\n\n            // TV-specific\n            if (data.number_of_seasons > 10) facts.push(`📺 A long-running series spanning ${data.number_of_seasons} seasons and ${data.number_of_episodes || 'many'} episodes.`);\n            else if (data.number_of_seasons === 1 && data.status === 'Ended') facts.push(`🎯 A complete story told in just one season — ${data.number_of_episodes || 'a few'} episodes.`);\n            if (data.number_of_episodes > 500) facts.push(`📊 Over ${data.number_of_episodes} episodes have aired!`);\n\n            // Language / country\n            if (data.original_language && data.original_language !== 'en') {\n              const langNames = { ja: 'Japanese', ko: 'Korean', fr: 'French', es: 'Spanish', de: 'German', it: 'Italian', pt: 'Portuguese', zh: 'Chinese', hi: 'Hindi', ar: 'Arabic', ru: 'Russian', sv: 'Swedish', da: 'Danish', th: 'Thai', tl: 'Tagalog', pl: 'Polish', nl: 'Dutch', tr: 'Turkish' };\n              const lang = langNames[data.original_language] || data.original_language.toUpperCase();\n              facts.push(`🌐 Originally produced in ${lang}.`);\n            }\n\n            // Production companies\n            if (data.production_companies?.length > 3) facts.push(`🏢 A joint production between ${data.production_companies.length} studios.`);\n\n            return facts.length > 0 ? (\n              <div className=\"mb-8\">\n                <h3 className=\"text-sm font-semibold text-white/60 mb-3 uppercase tracking-wider flex items-center gap-2\">\n                  <Lightbulb size={14} className=\"text-gold\" /> Fun Facts\n                </h3>\n                <div className=\"space-y-2\">\n                  {facts.slice(0, 5).map((fact, i) => (\n                    <div key={i} className=\"flex items-start gap-3 bg-white/[0.03] border border-white/[0.06] rounded-xl px-4 py-3\">\n                      <Sparkles size={14} className=\"text-accent mt-0.5 flex-shrink-0\" />\n                      <p className=\"text-sm text-white/60 leading-relaxed\">{fact}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ) : null;\n          })()}\n\n          <LibraryPanel\n            mediaId={{ tmdb_id: data.id }}\n            addPayload={{\n              tmdb_id: data.id,\n              media_type: mediaType,\n              title: data.title || data.name,\n              poster_path: data.poster_path ? `${TMDB_IMG}${data.poster_path}` : null,\n              overview: data.overview,\n              external_rating: avgScore ? parseFloat(avgScore) : data.vote_average,\n              genres: data.genres?.map(g => g.name).join(', '),\n              release_date: data.release_date || data.first_air_date,\n            }}\n          />\n        </div>\n      </div>\n\n      {/* Recommendations */}\n      {recommendations.length > 0 && (\n        <div className=\"mt-16\">\n          <h2 className=\"text-xl font-bold mb-6\">You Might Also Like</h2>\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5\">\n            {recommendations.map(r => (\n              <MediaCard key={r.id} item={r} mediaType={mediaType} />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Details;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526',\n      key: '1yiouv',\n    },\n  ],\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n];\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNDc3IDEyLjg5IDEuNTE1IDguNTI2YS41LjUgMCAwIDEtLjgxLjQ3bC0zLjU4LTIuNjg3YTEgMSAwIDAgMC0xLjE5NyAwbC0zLjU4NiAyLjY4NmEuNS41IDAgMCAxLS44MS0uNDY5bDEuNTE0LTguNTI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('award', __iconNode);\n\nexport default Award;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 7v14', key: '1akyts' }],\n  [\n    'path',\n    {\n      d: 'M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z',\n      key: 'ruj8y',\n    },\n  ],\n];\n\n/**\n * @component @name BookOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgN3YxNCIgLz4KICA8cGF0aCBkPSJNMyAxOGExIDEgMCAwIDEtMS0xVjRhMSAxIDAgMCAxIDEtMWg1YTQgNCAwIDAgMSA0IDQgNCA0IDAgMCAxIDQtNGg1YTEgMSAwIDAgMSAxIDF2MTNhMSAxIDAgMCAxLTEgMWgtNmEzIDMgMCAwIDAtMyAzIDMgMyAwIDAgMC0zLTN6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/book-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookOpen = createLucideIcon('book-open', __iconNode);\n\nexport default BookOpen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M7 3v18', key: 'bbkbws' }],\n  ['path', { d: 'M3 7.5h4', key: 'zfgn84' }],\n  ['path', { d: 'M3 12h18', key: '1i2n21' }],\n  ['path', { d: 'M3 16.5h4', key: '1230mu' }],\n  ['path', { d: 'M17 3v18', key: 'in4fa5' }],\n  ['path', { d: 'M17 7.5h4', key: 'myr1c1' }],\n  ['path', { d: 'M17 16.5h4', key: 'go4c1d' }],\n];\n\n/**\n * @component @name Film\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik03IDN2MTgiIC8+CiAgPHBhdGggZD0iTTMgNy41aDQiIC8+CiAgPHBhdGggZD0iTTMgMTJoMTgiIC8+CiAgPHBhdGggZD0iTTMgMTYuNWg0IiAvPgogIDxwYXRoIGQ9Ik0xNyAzdjE4IiAvPgogIDxwYXRoIGQ9Ik0xNyA3LjVoNCIgLz4KICA8cGF0aCBkPSJNMTcgMTYuNWg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/film\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Film = createLucideIcon('film', __iconNode);\n\nexport default Film;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z',\n      key: '10ikf1',\n    },\n  ],\n];\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSA1YTIgMiAwIDAgMSAzLjAwOC0xLjcyOGwxMS45OTcgNi45OThhMiAyIDAgMCAxIC4wMDMgMy40NThsLTEyIDdBMiAyIDAgMCAxIDUgMTl6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('play', __iconNode);\n\nexport default Play;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z',\n      key: '1s2grr',\n    },\n  ],\n  ['path', { d: 'M20 2v4', key: '1rf3ol' }],\n  ['path', { d: 'M22 4h-4', key: 'gwowj6' }],\n  ['circle', { cx: '4', cy: '20', r: '2', key: '6kqj1y' }],\n];\n\n/**\n * @component @name Sparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuMDE3IDIuODE0YTEgMSAwIDAgMSAxLjk2NiAwbDEuMDUxIDUuNTU4YTIgMiAwIDAgMCAxLjU5NCAxLjU5NGw1LjU1OCAxLjA1MWExIDEgMCAwIDEgMCAxLjk2NmwtNS41NTggMS4wNTFhMiAyIDAgMCAwLTEuNTk0IDEuNTk0bC0xLjA1MSA1LjU1OGExIDEgMCAwIDEtMS45NjYgMGwtMS4wNTEtNS41NThhMiAyIDAgMCAwLTEuNTk0LTEuNTk0bC01LjU1OC0xLjA1MWExIDEgMCAwIDEgMC0xLjk2Nmw1LjU1OC0xLjA1MWEyIDIgMCAwIDAgMS41OTQtMS41OTR6IiAvPgogIDxwYXRoIGQ9Ik0yMCAydjQiIC8+CiAgPHBhdGggZD0iTTIyIDRoLTQiIC8+CiAgPGNpcmNsZSBjeD0iNCIgY3k9IjIwIiByPSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sparkles = createLucideIcon('sparkles', __iconNode);\n\nexport default Sparkles;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['path', { d: 'M16 3.128a4 4 0 0 1 0 7.744', key: '16gr8j' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n];\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8cGF0aCBkPSJNMTYgMy4xMjhhNCA0IDAgMCAxIDAgNy43NDQiIC8+CiAgPHBhdGggZD0iTTIyIDIxdi0yYTQgNCAwIDAgMC0zLTMuODciIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('users', __iconNode);\n\nexport default Users;\n"],"names":["BookCover","_ref","urls","alt","className","children","index","setIndex","useState","broken","setBroken","urlKey","useEffect","advance","prev","next","length","_jsx","concat","BookOpen","size","src","loading","decoding","onError","onLoad","e","target","naturalWidth","React","MediaCard","_ref2","_ref3","_item$unified_rating","item","mediaType","navigate","useNavigate","user","useAuth","toast","useToast","title","name","poster","poster_path","startsWith","year","release_date","first_air_date","first_publish_year","toString","slice","type","media_type","storedScore","getSyllabusScore","id","rating","unified_rating","vote_average","imgBroken","setImgBroken","isBook","_jsxs","onClick","handleClick","_item$key","workKey","key","replace","tmdb_id","cover_urls","Star","Number","toFixed","async","stopPropagation","addToLibrary","openlibrary_key","overview","external_rating","genres","genre_ids","join","err","message","Plus","author","ExternalLink","createLucideIcon","d","BookCopy","BookMarked","ShoppingCart","cx","cy","r","Lightbulb","DollarSign","x1","x2","y1","y2","Globe","TMDB_IMG","TMDB_LOGO","TMDB_PROFILE","PROVIDER_URLS","encodeURIComponent","getProviderUrl","providerName","fallbackLink","urlFn","Object","entries","toLowerCase","includes","LibraryPanel","mediaId","addPayload","libItem","setLibItem","setLoading","saving","setSaving","status","setStatus","setRating","review","setReview","expanded","setExpanded","stableKey","cancelled","getLibraryItemByMediaId","user_rating","console","error","lookup","Check","removeFromLibrary","_unused2","Trash2","icon","Clock","label","active","Eye","CheckCircle2","map","s","newStatus","updateLibraryItem","_objectSpread","want","watching","finished","logActivity","action","media_id","poster_url","catch","_unused","handleStatusChange","min","max","step","value","onChange","parseFloat","val","getRatingLabel","n","placeholder","rows","updated","disabled","cls","newItem","chosenStatus","handleAdd","BookDetails","_data$authors","_data$subjects","_data$description","data","setData","getBookDetails","then","result","totalReaders","want_to_read","currently_reading","already_read","searchQ","ChevronLeft","strokeWidth","authors","i","_author$name","href","rel","photo","charAt","first_publish_date","edition_count","ratings_count","toLocaleString","Users","_Fragment","description","subjects","_data$subjects2","_data$subjects3","_data$authors2","facts","push","Math","floor","yearMatch","match","age","Date","getFullYear","parseInt","some","fact","Sparkles","MovieTVDetails","_data$genres","_data$genres2","_data$recommendations","_data$recommendations2","_data$external_ids","_data$credits","_data$watchProviders","_data$production_comp","_data$external_ids2","_data$external_ids3","_data$credits2","_data$credits2$cast","_data$genres3","extRatings","setExtRatings","ratingsLoaded","setRatingsLoaded","malData","setMalData","_result$external_ids","_result$genres","fetcher","getMovieDetails","getTVDetails","imdbId","external_ids","imdb_id","resultTitle","getOMDbRatings","Promise","resolve","setTimeout","fetchRatings","original_language","g","getMALRating","load","isAnime","avgScore","computeUnifiedRating","setSyllabusScore","recommendations","results","crew","credits","directors","filter","c","job","writers","department","trailer","_data$videos","vids","videos","v","site","find","wpData","providers","AU","US","streamingProviders","flatrate","rentProviders","rent","buyProviders","buy","quickFactsCard","tagline","_d$name","profile_path","w","_w$name","rated","Film","awards","Award","boxOffice","budget","revenue","country","production_companies","Info","backdrop_path","runtime","number_of_seasons","syllabusScore","displayScore","imdb","score","votes","rt","url","scored_by","Play","allow","allowFullScreen","cast","actor","_actor$name","character","p","provider_name","link","logo_path","provider_id","_data$production_comp2","releaseYear","ratio","oscars","noms","vote_count","number_of_episodes","lang","ja","ko","fr","es","de","it","pt","zh","hi","ar","ru","sv","da","th","tl","pl","nl","tr","toUpperCase","useParams","width","height","x","y","rx"],"sourceRoot":""}